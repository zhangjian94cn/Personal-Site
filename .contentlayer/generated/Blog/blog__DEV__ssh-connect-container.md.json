{
  "title": "SSH Connect Docker Container",
  "date": "2022-12-08T00:00:00.000Z",
  "tags": [
    "DEV",
    "Docker"
  ],
  "draft": false,
  "summary": "SSH Connect Docker Container",
  "authors": [
    "default"
  ],
  "body": {
    "raw": "\n## 简介\n\n使用ssh直接连接到docker的容器中是一件很有价值的事情，例如你在部署vscode远程服务时，可以在保证容器与宿主机环境隔离同时，使得vscode对容器的存在完全无感。接下来，我们简单介绍下如何实现ssh直连docker容器。\n\n## 方法\n\n如何实现ssh连接container？其步骤主要可以分为：获取宿主机IP，安装docker，运行容器（设置端口转发，容器自启动），在容器中安装ssh服务。\n\n#### 宿主机IP\n\n首先，你需要知道运行docker服务的IP地址，如果你没有公网IP（公有云服务器，腾讯云、阿里云都会提供），可以自己搭建一个设备的局域网（可使用zerotier）。\n\n#### docker安装\n\n**安装步骤如下：**\n\n1. 首先根据自己的系统选择对应的安装方式，[官方安装的教程](https://docs.docker.com/engine/install/)。\n\n2. 如果需要安装支持nvidia显卡的docker，还需要参考[nvidia的官方教程](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html)：\n\n3. 设置非root账号不用sudo直接执行docker命令，[参考blog](https://blog.csdn.net/boling_cavalry/article/details/106590784)\n\n   ```bash\n   # 创建名为docker的组\n   sudo groupadd docker\n   # 将当前用户加入组docker\n   sudo gpasswd -a ${USER} docker\n   # 重启docker服务(生产环境请慎用)：\n   sudo systemctl restart docker\n   # 添加访问和执行权限：\n   sudo chmod a+rw /var/run/docker.sock\n   ```\n\n#### 运行容器\n\n在运行容器之前，你需要想好：\n\n1. 选用什么样的docker image，容器名称是什么。例如，这里使用的是：`ubuntu:22.04`，容器名称：`ssh-container`\n2. 使用宿主机的什么端口，来转发容器的22端口。例如，这里使用50001端口\n3. 容器目录的映射，`-v 宿主机目录:容器目录`。例如，这里挂载服务器的`/home/zhangjian`目录到容器的`/workspace`目录\n\n操作步骤如下：\n\n1. 首先，创建Dockerfile，其内容为：\n\n   ```dockerfile\n   FROM ubuntu:22.04\n   RUN apt-get update --fix-missing && apt-get install openssh-server sudo -y\n   ENTRYPOINT service ssh restar && bash\n   ```\n\n2. 生成对应image\n\n   ```bash\n   docker build . -t ssh-image\n   ```\n\n3. 生成容器的具体的命令如下（如果其中还有一些参数让你感到困惑，你可以参考[docker run doc](https://docs.docker.com/engine/reference/commandline/run/)\n\n   ```bash\n   docker run -itd -p 50001:22 --name=\"ssh-container\"  -v /home/zhangjian:/workspace ssh-image /bin/bash\n   ```\n\n#### 设置容器自启动\n\n将正在运行的容器设为自启动\n\n```bash\n# docker update --restart=always 容器名或容器ID\ndocker update --restart=always <CONTAINER ID>\n```\n\n将自启动的容器取消自启动\n\n```bash\n# docker update --restart=no 容器名或容器ID\ndocker update --restart=no <CONTAINER ID>\n```\n\n#### 配置容器\n\n设置登录用户\n\n```bash\n# 添加登录用户：zhangjian\nadduser zhangjian\n# 添加sudo权限\napt install sudo && usermod -aG sudo zhangjian\n```\n\n如此，你就可以使用ssh命令直接连接container了：\n\n```bash\nssh zhangjian@<your IP> -p 50001\n```\n\n## 结语\n\n至此，我们获得了一个相对完整的ssh直连容器的方案。但是更进一步，如何避免端口转发，指定容器的资源使用等等，有机会再进行分享:)\n",
    "code": "var Component=(()=>{var m=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var c in e)l(a,c,{get:e[c],enumerable:!0})},i=(a,e,c,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of N(e))!u.call(a,s)&&s!==c&&l(a,s,{get:()=>e[s],enumerable:!(r=p(e,s))||r.enumerable});return a};var f=(a,e,c)=>(c=a!=null?m(k(a)):{},i(e||!a||!a.__esModule?l(c,\"default\",{value:a,enumerable:!0}):c,a)),v=a=>i(l({},\"__esModule\",{value:!0}),a);var o=g((y,d)=>{d.exports=_jsx_runtime});var x={};b(x,{default:()=>t,frontmatter:()=>I});var n=f(o()),I={title:\"SSH Connect Docker Container\",date:\"2022-12-08\",tags:[\"DEV\",\"Docker\"],draft:!1,summary:\"SSH Connect Docker Container\",authors:[\"default\"]};function h(a){let e={a:\"a\",code:\"code\",h2:\"h2\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528ssh\\u76F4\\u63A5\\u8FDE\\u63A5\\u5230docker\\u7684\\u5BB9\\u5668\\u4E2D\\u662F\\u4E00\\u4EF6\\u5F88\\u6709\\u4EF7\\u503C\\u7684\\u4E8B\\u60C5\\uFF0C\\u4F8B\\u5982\\u4F60\\u5728\\u90E8\\u7F72vscode\\u8FDC\\u7A0B\\u670D\\u52A1\\u65F6\\uFF0C\\u53EF\\u4EE5\\u5728\\u4FDD\\u8BC1\\u5BB9\\u5668\\u4E0E\\u5BBF\\u4E3B\\u673A\\u73AF\\u5883\\u9694\\u79BB\\u540C\\u65F6\\uFF0C\\u4F7F\\u5F97vscode\\u5BF9\\u5BB9\\u5668\\u7684\\u5B58\\u5728\\u5B8C\\u5168\\u65E0\\u611F\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u7B80\\u5355\\u4ECB\\u7ECD\\u4E0B\\u5982\\u4F55\\u5B9E\\u73B0ssh\\u76F4\\u8FDEdocker\\u5BB9\\u5668\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u65B9\\u6CD5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u65B9\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65B9\\u6CD5\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u4F55\\u5B9E\\u73B0ssh\\u8FDE\\u63A5container\\uFF1F\\u5176\\u6B65\\u9AA4\\u4E3B\\u8981\\u53EF\\u4EE5\\u5206\\u4E3A\\uFF1A\\u83B7\\u53D6\\u5BBF\\u4E3B\\u673AIP\\uFF0C\\u5B89\\u88C5docker\\uFF0C\\u8FD0\\u884C\\u5BB9\\u5668\\uFF08\\u8BBE\\u7F6E\\u7AEF\\u53E3\\u8F6C\\u53D1\\uFF0C\\u5BB9\\u5668\\u81EA\\u542F\\u52A8\\uFF09\\uFF0C\\u5728\\u5BB9\\u5668\\u4E2D\\u5B89\\u88C5ssh\\u670D\\u52A1\\u3002\"}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u5BBF\\u4E3B\\u673Aip\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5BBF\\u4E3B\\u673Aip\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5BBF\\u4E3B\\u673AIP\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9996\\u5148\\uFF0C\\u4F60\\u9700\\u8981\\u77E5\\u9053\\u8FD0\\u884Cdocker\\u670D\\u52A1\\u7684IP\\u5730\\u5740\\uFF0C\\u5982\\u679C\\u4F60\\u6CA1\\u6709\\u516C\\u7F51IP\\uFF08\\u516C\\u6709\\u4E91\\u670D\\u52A1\\u5668\\uFF0C\\u817E\\u8BAF\\u4E91\\u3001\\u963F\\u91CC\\u4E91\\u90FD\\u4F1A\\u63D0\\u4F9B\\uFF09\\uFF0C\\u53EF\\u4EE5\\u81EA\\u5DF1\\u642D\\u5EFA\\u4E00\\u4E2A\\u8BBE\\u5907\\u7684\\u5C40\\u57DF\\u7F51\\uFF08\\u53EF\\u4F7F\\u7528zerotier\\uFF09\\u3002\"}),`\n`,(0,n.jsxs)(e.h4,{id:\"docker\\u5B89\\u88C5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#docker\\u5B89\\u88C5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"docker\\u5B89\\u88C5\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u5B89\\u88C5\\u6B65\\u9AA4\\u5982\\u4E0B\\uFF1A\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\u6839\\u636E\\u81EA\\u5DF1\\u7684\\u7CFB\\u7EDF\\u9009\\u62E9\\u5BF9\\u5E94\\u7684\\u5B89\\u88C5\\u65B9\\u5F0F\\uFF0C\",(0,n.jsx)(e.a,{href:\"https://docs.docker.com/engine/install/\",children:\"\\u5B98\\u65B9\\u5B89\\u88C5\\u7684\\u6559\\u7A0B\"}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u9700\\u8981\\u5B89\\u88C5\\u652F\\u6301nvidia\\u663E\\u5361\\u7684docker\\uFF0C\\u8FD8\\u9700\\u8981\\u53C2\\u8003\",(0,n.jsx)(e.a,{href:\"https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html\",children:\"nvidia\\u7684\\u5B98\\u65B9\\u6559\\u7A0B\"}),\"\\uFF1A\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BBE\\u7F6E\\u975Eroot\\u8D26\\u53F7\\u4E0D\\u7528sudo\\u76F4\\u63A5\\u6267\\u884Cdocker\\u547D\\u4EE4\\uFF0C\",(0,n.jsx)(e.a,{href:\"https://blog.csdn.net/boling_cavalry/article/details/106590784\",children:\"\\u53C2\\u8003blog\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u521B\\u5EFA\\u540D\\u4E3Adocker\\u7684\\u7EC4\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"groupadd\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u5C06\\u5F53\\u524D\\u7528\\u6237\\u52A0\\u5165\\u7EC4docker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" gpasswd \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-a\"}),\" \",(0,n.jsxs)(e.span,{className:\"token variable\",children:[\"${\",(0,n.jsx)(e.span,{className:\"token environment constant\",children:\"USER\"}),\"}\"]}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u91CD\\u542Fdocker\\u670D\\u52A1(\\u751F\\u4EA7\\u73AF\\u5883\\u8BF7\\u614E\\u7528)\\uFF1A\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" systemctl restart \",(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u6DFB\\u52A0\\u8BBF\\u95EE\\u548C\\u6267\\u884C\\u6743\\u9650\\uFF1A\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"chmod\"}),` a+rw /var/run/docker.sock\n`]})]})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u8FD0\\u884C\\u5BB9\\u5668\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8FD0\\u884C\\u5BB9\\u5668\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8FD0\\u884C\\u5BB9\\u5668\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u8FD0\\u884C\\u5BB9\\u5668\\u4E4B\\u524D\\uFF0C\\u4F60\\u9700\\u8981\\u60F3\\u597D\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9009\\u7528\\u4EC0\\u4E48\\u6837\\u7684docker image\\uFF0C\\u5BB9\\u5668\\u540D\\u79F0\\u662F\\u4EC0\\u4E48\\u3002\\u4F8B\\u5982\\uFF0C\\u8FD9\\u91CC\\u4F7F\\u7528\\u7684\\u662F\\uFF1A\",(0,n.jsx)(e.code,{children:\"ubuntu:22.04\"}),\"\\uFF0C\\u5BB9\\u5668\\u540D\\u79F0\\uFF1A\",(0,n.jsx)(e.code,{children:\"ssh-container\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528\\u5BBF\\u4E3B\\u673A\\u7684\\u4EC0\\u4E48\\u7AEF\\u53E3\\uFF0C\\u6765\\u8F6C\\u53D1\\u5BB9\\u5668\\u768422\\u7AEF\\u53E3\\u3002\\u4F8B\\u5982\\uFF0C\\u8FD9\\u91CC\\u4F7F\\u752850001\\u7AEF\\u53E3\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5BB9\\u5668\\u76EE\\u5F55\\u7684\\u6620\\u5C04\\uFF0C\",(0,n.jsx)(e.code,{children:\"-v \\u5BBF\\u4E3B\\u673A\\u76EE\\u5F55:\\u5BB9\\u5668\\u76EE\\u5F55\"}),\"\\u3002\\u4F8B\\u5982\\uFF0C\\u8FD9\\u91CC\\u6302\\u8F7D\\u670D\\u52A1\\u5668\\u7684\",(0,n.jsx)(e.code,{children:\"/home/zhangjian\"}),\"\\u76EE\\u5F55\\u5230\\u5BB9\\u5668\\u7684\",(0,n.jsx)(e.code,{children:\"/workspace\"}),\"\\u76EE\\u5F55\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u64CD\\u4F5C\\u6B65\\u9AA4\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u9996\\u5148\\uFF0C\\u521B\\u5EFADockerfile\\uFF0C\\u5176\\u5185\\u5BB9\\u4E3A\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-dockerfile\",children:(0,n.jsxs)(e.code,{className:\"language-dockerfile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"FROM\"}),\" ubuntu:22.04\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"RUN\"}),\" apt-get update --fix-missing && apt-get install openssh-server sudo -y\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"ENTRYPOINT\"}),\" service ssh restar && bash\"]}),`\n`]})]})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u751F\\u6210\\u5BF9\\u5E94image\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),\" build \",(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-t\"}),` ssh-image\n`]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u751F\\u6210\\u5BB9\\u5668\\u7684\\u5177\\u4F53\\u7684\\u547D\\u4EE4\\u5982\\u4E0B\\uFF08\\u5982\\u679C\\u5176\\u4E2D\\u8FD8\\u6709\\u4E00\\u4E9B\\u53C2\\u6570\\u8BA9\\u4F60\\u611F\\u5230\\u56F0\\u60D1\\uFF0C\\u4F60\\u53EF\\u4EE5\\u53C2\\u8003\",(0,n.jsx)(e.a,{href:\"https://docs.docker.com/engine/reference/commandline/run/\",children:\"docker run doc\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),\" run \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-itd\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-p\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50001\"}),\":22 \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--name\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"ssh-container\"'}),\"  \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-v\"}),` /home/zhangjian:/workspace ssh-image /bin/bash\n`]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u8BBE\\u7F6E\\u5BB9\\u5668\\u81EA\\u542F\\u52A8\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8BBE\\u7F6E\\u5BB9\\u5668\\u81EA\\u542F\\u52A8\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8BBE\\u7F6E\\u5BB9\\u5668\\u81EA\\u542F\\u52A8\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C06\\u6B63\\u5728\\u8FD0\\u884C\\u7684\\u5BB9\\u5668\\u8BBE\\u4E3A\\u81EA\\u542F\\u52A8\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# docker update --restart=always \\u5BB9\\u5668\\u540D\\u6216\\u5BB9\\u5668ID\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),\" update \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--restart\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"always \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"CONTAINER ID\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C06\\u81EA\\u542F\\u52A8\\u7684\\u5BB9\\u5668\\u53D6\\u6D88\\u81EA\\u542F\\u52A8\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# docker update --restart=no \\u5BB9\\u5668\\u540D\\u6216\\u5BB9\\u5668ID\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),\" update \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--restart\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"no \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"CONTAINER ID\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u914D\\u7F6E\\u5BB9\\u5668\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u914D\\u7F6E\\u5BB9\\u5668\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\\u5BB9\\u5668\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BBE\\u7F6E\\u767B\\u5F55\\u7528\\u6237\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u6DFB\\u52A0\\u767B\\u5F55\\u7528\\u6237\\uFF1Azhangjian\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`adduser zhangjian\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u6DFB\\u52A0sudo\\u6743\\u9650\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"usermod\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-aG\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),` zhangjian\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u6B64\\uFF0C\\u4F60\\u5C31\\u53EF\\u4EE5\\u4F7F\\u7528ssh\\u547D\\u4EE4\\u76F4\\u63A5\\u8FDE\\u63A5container\\u4E86\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"ssh\"}),\" zhangjian@\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"your IP\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-p\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50001\"}),`\n`]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u81F3\\u6B64\\uFF0C\\u6211\\u4EEC\\u83B7\\u5F97\\u4E86\\u4E00\\u4E2A\\u76F8\\u5BF9\\u5B8C\\u6574\\u7684ssh\\u76F4\\u8FDE\\u5BB9\\u5668\\u7684\\u65B9\\u6848\\u3002\\u4F46\\u662F\\u66F4\\u8FDB\\u4E00\\u6B65\\uFF0C\\u5982\\u4F55\\u907F\\u514D\\u7AEF\\u53E3\\u8F6C\\u53D1\\uFF0C\\u6307\\u5B9A\\u5BB9\\u5668\\u7684\\u8D44\\u6E90\\u4F7F\\u7528\\u7B49\\u7B49\\uFF0C\\u6709\\u673A\\u4F1A\\u518D\\u8FDB\\u884C\\u5206\\u4EAB:)\"})]})}function t(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(h,{...a})}):h(a)}return v(x);})();\n;return Component;"
  },
  "_id": "blog/DEV/ssh-connect-container.md",
  "_raw": {
    "sourceFilePath": "blog/DEV/ssh-connect-container.md",
    "sourceFileName": "ssh-connect-container.md",
    "sourceFileDir": "blog/DEV",
    "contentType": "markdown",
    "flattenedPath": "blog/DEV/ssh-connect-container"
  },
  "type": "Blog",
  "readingTime": {
    "text": "4 min read",
    "minutes": 3.72,
    "time": 223200,
    "words": 744
  },
  "slug": "ssh-connect-container",
  "path": "blog/DEV/ssh-connect-container",
  "toc": [
    {
      "value": "简介",
      "url": "#简介",
      "depth": 2
    },
    {
      "value": "方法",
      "url": "#方法",
      "depth": 2
    },
    {
      "value": "宿主机IP",
      "url": "#宿主机ip",
      "depth": 4
    },
    {
      "value": "docker安装",
      "url": "#docker安装",
      "depth": 4
    },
    {
      "value": "运行容器",
      "url": "#运行容器",
      "depth": 4
    },
    {
      "value": "设置容器自启动",
      "url": "#设置容器自启动",
      "depth": 4
    },
    {
      "value": "配置容器",
      "url": "#配置容器",
      "depth": 4
    },
    {
      "value": "结语",
      "url": "#结语",
      "depth": 2
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "SSH Connect Docker Container",
    "datePublished": "2022-12-08T00:00:00.000Z",
    "dateModified": "2022-12-08T00:00:00.000Z",
    "description": "SSH Connect Docker Container",
    "url": "https://zhangjian94cn.github.io/blog/ssh-connect-container"
  }
}