{
  "title": "oneDAL Learning (1)",
  "date": "2022-12-14T00:00:00.000Z",
  "tags": [
    "ML",
    "Onedal"
  ],
  "draft": false,
  "summary": "getting started",
  "authors": [
    "default"
  ],
  "body": {
    "raw": "\n## 简介\n\n> 本文是对oneDAL的一个简单介绍，主要参考[onedal官方文档](https://oneapi-src.github.io/oneDAL/index.html)\n\noneDAL是一个高性能的数据分析库，其包含了数据分析的所有阶段（preprocessing, transformation, analysis, modeling, validation, and decision making）。oneDAL支持了批量、在线以及分布式的计算模式，其主要提供了两组C++接口：oneAPI/DAAL。\n\noneAPI Interfaces基于开放的[oneDAL规范（oneDAL specification）](https://spec.oneapi.com/versions/latest/elements/oneDAL/source/index.html)，目前正在积极开发中。它们可以在各种硬件上工作，但目前只提供了有限的算法。\n\nDAAL Interfaces是仅限于CPU的接口，提供了各种算法的实现。\n\n## 安装\n\n### oneAPI\n\n这里主要安装oneDAL需要的oneAPI依赖，包括intel-basekit intel-hpckit\n\n```bash\napt-get install -y --no-install-recommends curl ca-certificates gpg-agent software-properties-common\n\n# download the key to system keyring\nwget -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB | gpg --dearmor | tee /usr/share/keyrings/oneapi-archive-keyring.gpg > /dev/null\n\n# add signed entry to apt sources and configure the APT client to use Intel repository:\necho \"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\" | tee /etc/apt/sources.list.d/oneAPI.list\n\napt update && apt install intel-basekit intel-hpckit -y\n\necho \"source /opt/intel/oneapi/compiler/latest/env/vars.sh\" >> ~/.bashrc\necho \"source /opt/intel/oneapi/tbb/latest/env/vars.sh\" >> ~/.bashrc\nsource ~/.bashrc\n```\n\n### oneDAL\n\n如果想从源码编译oneDAL，官网提供了在不同系统环境下的[安装教程](https://github.com/oneapi-src/oneDAL/blob/master/INSTALL.md)\n\n\n## 例程\n\n由于oneDAL更新较快，本文本所使用的的commit hash为：`4b6d30b13b290a21c6263089ee0723cb29bcb9cf`，使用钱需切换到此commit下，使用如下命令\n\n```bash\ngit checkout <commit-hash>\n```\n\n### 编译运行\n\noneDAL提供了两种方式编译example，使用cmake或者make。在这里，我们只编译基于daal接口的example。example目录为`<onedal_dir>/__release_lnx/daal/latest/examples/daal/cpp`，其代表了当前系统为linux，接口为daal，编程语言为cpp\n\n\n#### 使用make\n\n如果你已经添加了tbb，icc等的环境变量，那么可以直接make，就可以得到可执行文件。如果没有，你可以source相关的环境脚本：\n\n```bash\nsource /opt/intel/oneapi/compiler/latest/env/vars.sh\nsource /opt/intel/oneapi/tbb/latest/env/vars.sh\n```\n\n#### 使用cmake\n\n在使用cmake前，先设置cmake使用的编译器，在CMakeLists.txt下添加如下代码：\n\n```cmake\nSET(CMAKE_C_COMPILER \"icc\")\nSET(CMAKE_CXX_COMPILER \"icpc\")\n```\n\n使用如下命令进行编译：\n\n```bash\ncd <onedal_dir>/__release_lnx/daal/latest/examples/daal/cpp\nmkdir build && cd build\ncmake .. -DEXAMPLES_LIST=<your example>\n# for example: cmake .. -DEXAMPLES_LIST=gbt_cls_dense_batch\nmake -j$(nproc)\n```\n\n这样你就会在`_cmake_results/`下获得`<your example>`的可执行文件，\n\n\n#### 依赖自己编译的oneDAL\n\n直接编译，依赖的是/opt/intel/dal下的库，其不包含符号表信息，如果你想调用自己编译的onedal，可以按照如下步骤：\n\n> onedal的example，在CMakeLists.txt中，主要通过`find_package(ONEDAL REQUIRED)`，找到onedal的lib。因此，需要生成`oneDALConfig.cmake`\n\n1. source自己编译的onedal：\n    ```bash\n    # in your shell\n    source <onedal_dir>/__release_lnx/daal/latest/env/vars.sh\n    ```\n2. 使用oneDAL提供的[脚本](https://github.com/oneapi-src/oneDAL/tree/master/cmake/scripts)生成`oneDALConfig.cmake`，位置如下：`<onedal_dir>/__release_lnx/daal/latest/lib/cmake/oneDAL`\n3. 在CMakeLists.txt中添加对此cmake的依赖\n    ```cmake\n    set(oneDAL_DIR /workspace/oneDAL/__release_lnx/daal/latest/lib/cmake/oneDAL)\n    ```\n4. 运行之前的cmake编译指令即可\n\n\n## 结语\n\n本文带您了解了oneDAL的基本概念，并使用一个简单的示例进行编译和运行。然而，真正有趣的部分在于OneDAL的内部实现技巧和思想，敬请期待后续内容。\n\n\n\n",
    "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var s in e)l(a,s,{get:e[s],enumerable:!0})},r=(a,e,s,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of N(e))!u.call(a,c)&&c!==s&&l(a,c,{get:()=>e[c],enumerable:!(i=m(e,c))||i.enumerable});return a};var f=(a,e,s)=>(s=a!=null?p(k(a)):{},r(e||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),L=a=>r(l({},\"__esModule\",{value:!0}),a);var t=g((D,o)=>{o.exports=_jsx_runtime});var x={};b(x,{default:()=>h,frontmatter:()=>A});var n=f(t()),A={title:\"oneDAL Learning (1)\",date:\"2022-12-14\",tags:[\"ML\",\"Onedal\"],draft:!1,summary:\"getting started\",authors:[\"default\"]};function d(a){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u662F\\u5BF9oneDAL\\u7684\\u4E00\\u4E2A\\u7B80\\u5355\\u4ECB\\u7ECD\\uFF0C\\u4E3B\\u8981\\u53C2\\u8003\",(0,n.jsx)(e.a,{href:\"https://oneapi-src.github.io/oneDAL/index.html\",children:\"onedal\\u5B98\\u65B9\\u6587\\u6863\"})]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"oneDAL\\u662F\\u4E00\\u4E2A\\u9AD8\\u6027\\u80FD\\u7684\\u6570\\u636E\\u5206\\u6790\\u5E93\\uFF0C\\u5176\\u5305\\u542B\\u4E86\\u6570\\u636E\\u5206\\u6790\\u7684\\u6240\\u6709\\u9636\\u6BB5\\uFF08preprocessing, transformation, analysis, modeling, validation, and decision making\\uFF09\\u3002oneDAL\\u652F\\u6301\\u4E86\\u6279\\u91CF\\u3001\\u5728\\u7EBF\\u4EE5\\u53CA\\u5206\\u5E03\\u5F0F\\u7684\\u8BA1\\u7B97\\u6A21\\u5F0F\\uFF0C\\u5176\\u4E3B\\u8981\\u63D0\\u4F9B\\u4E86\\u4E24\\u7EC4C++\\u63A5\\u53E3\\uFF1AoneAPI/DAAL\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"oneAPI Interfaces\\u57FA\\u4E8E\\u5F00\\u653E\\u7684\",(0,n.jsx)(e.a,{href:\"https://spec.oneapi.com/versions/latest/elements/oneDAL/source/index.html\",children:\"oneDAL\\u89C4\\u8303\\uFF08oneDAL specification\\uFF09\"}),\"\\uFF0C\\u76EE\\u524D\\u6B63\\u5728\\u79EF\\u6781\\u5F00\\u53D1\\u4E2D\\u3002\\u5B83\\u4EEC\\u53EF\\u4EE5\\u5728\\u5404\\u79CD\\u786C\\u4EF6\\u4E0A\\u5DE5\\u4F5C\\uFF0C\\u4F46\\u76EE\\u524D\\u53EA\\u63D0\\u4F9B\\u4E86\\u6709\\u9650\\u7684\\u7B97\\u6CD5\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"DAAL Interfaces\\u662F\\u4EC5\\u9650\\u4E8ECPU\\u7684\\u63A5\\u53E3\\uFF0C\\u63D0\\u4F9B\\u4E86\\u5404\\u79CD\\u7B97\\u6CD5\\u7684\\u5B9E\\u73B0\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u5B89\\u88C5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B89\\u88C5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"oneapi\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#oneapi\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"oneAPI\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u91CC\\u4E3B\\u8981\\u5B89\\u88C5oneDAL\\u9700\\u8981\\u7684oneAPI\\u4F9D\\u8D56\\uFF0C\\u5305\\u62ECintel-basekit intel-hpckit\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt-get\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),\" --no-install-recommends \",(0,n.jsx)(e.span,{className:\"token function\",children:\"curl\"}),` ca-certificates gpg-agent software-properties-common\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# download the key to system keyring\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"wget\"}),\" -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" gpg \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--dearmor\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),\" /usr/share/keyrings/oneapi-archive-keyring.gpg \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),` /dev/null\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# add signed entry to apt sources and configure the APT client to use Intel repository:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),` /etc/apt/sources.list.d/oneAPI.list\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" update \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" intel-basekit intel-hpckit \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"source /opt/intel/oneapi/compiler/latest/env/vars.sh\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>\"}),` ~/.bashrc\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"source /opt/intel/oneapi/tbb/latest/env/vars.sh\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>\"}),` ~/.bashrc\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` ~/.bashrc\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"onedal\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#onedal\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"oneDAL\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u60F3\\u4ECE\\u6E90\\u7801\\u7F16\\u8BD1oneDAL\\uFF0C\\u5B98\\u7F51\\u63D0\\u4F9B\\u4E86\\u5728\\u4E0D\\u540C\\u7CFB\\u7EDF\\u73AF\\u5883\\u4E0B\\u7684\",(0,n.jsx)(e.a,{href:\"https://github.com/oneapi-src/oneDAL/blob/master/INSTALL.md\",children:\"\\u5B89\\u88C5\\u6559\\u7A0B\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u4F8B\\u7A0B\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F8B\\u7A0B\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F8B\\u7A0B\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7531\\u4E8EoneDAL\\u66F4\\u65B0\\u8F83\\u5FEB\\uFF0C\\u672C\\u6587\\u672C\\u6240\\u4F7F\\u7528\\u7684\\u7684commit hash\\u4E3A\\uFF1A\",(0,n.jsx)(e.code,{children:\"4b6d30b13b290a21c6263089ee0723cb29bcb9cf\"}),\"\\uFF0C\\u4F7F\\u7528\\u94B1\\u9700\\u5207\\u6362\\u5230\\u6B64commit\\u4E0B\\uFF0C\\u4F7F\\u7528\\u5982\\u4E0B\\u547D\\u4EE4\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"git\"}),\" checkout \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"commit-hash\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u7F16\\u8BD1\\u8FD0\\u884C\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7F16\\u8BD1\\u8FD0\\u884C\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F16\\u8BD1\\u8FD0\\u884C\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"oneDAL\\u63D0\\u4F9B\\u4E86\\u4E24\\u79CD\\u65B9\\u5F0F\\u7F16\\u8BD1example\\uFF0C\\u4F7F\\u7528cmake\\u6216\\u8005make\\u3002\\u5728\\u8FD9\\u91CC\\uFF0C\\u6211\\u4EEC\\u53EA\\u7F16\\u8BD1\\u57FA\\u4E8Edaal\\u63A5\\u53E3\\u7684example\\u3002example\\u76EE\\u5F55\\u4E3A\",(0,n.jsx)(e.code,{children:\"<onedal_dir>/__release_lnx/daal/latest/examples/daal/cpp\"}),\"\\uFF0C\\u5176\\u4EE3\\u8868\\u4E86\\u5F53\\u524D\\u7CFB\\u7EDF\\u4E3Alinux\\uFF0C\\u63A5\\u53E3\\u4E3Adaal\\uFF0C\\u7F16\\u7A0B\\u8BED\\u8A00\\u4E3Acpp\"]}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u4F7F\\u7528make\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F7F\\u7528make\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528make\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u4F60\\u5DF2\\u7ECF\\u6DFB\\u52A0\\u4E86tbb\\uFF0Cicc\\u7B49\\u7684\\u73AF\\u5883\\u53D8\\u91CF\\uFF0C\\u90A3\\u4E48\\u53EF\\u4EE5\\u76F4\\u63A5make\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5F97\\u5230\\u53EF\\u6267\\u884C\\u6587\\u4EF6\\u3002\\u5982\\u679C\\u6CA1\\u6709\\uFF0C\\u4F60\\u53EF\\u4EE5source\\u76F8\\u5173\\u7684\\u73AF\\u5883\\u811A\\u672C\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` /opt/intel/oneapi/compiler/latest/env/vars.sh\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` /opt/intel/oneapi/tbb/latest/env/vars.sh\n`]})]})}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u4F7F\\u7528cmake\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F7F\\u7528cmake\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528cmake\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u4F7F\\u7528cmake\\u524D\\uFF0C\\u5148\\u8BBE\\u7F6Ecmake\\u4F7F\\u7528\\u7684\\u7F16\\u8BD1\\u5668\\uFF0C\\u5728CMakeLists.txt\\u4E0B\\u6DFB\\u52A0\\u5982\\u4E0B\\u4EE3\\u7801\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-cmake\",children:(0,n.jsxs)(e.code,{className:\"language-cmake code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"SET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"CMAKE_C_COMPILER\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"icc\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"SET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"CMAKE_CXX_COMPILER\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"icpc\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u5982\\u4E0B\\u547D\\u4EE4\\u8FDB\\u884C\\u7F16\\u8BD1\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"cd\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"onedal_dir\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`/__release_lnx/daal/latest/examples/daal/cpp\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"mkdir\"}),\" build \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"cd\"}),` build\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"cmake \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"..\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-DEXAMPLES_LIST\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"your example\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# for example: cmake .. -DEXAMPLES_LIST=gbt_cls_dense_batch\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"make\"}),\" -j\",(0,n.jsxs)(e.span,{className:\"token variable\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$(\"}),\"nproc\",(0,n.jsx)(e.span,{className:\"token variable\",children:\")\"})]}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6837\\u4F60\\u5C31\\u4F1A\\u5728\",(0,n.jsx)(e.code,{children:\"_cmake_results/\"}),\"\\u4E0B\\u83B7\\u5F97\",(0,n.jsx)(e.code,{children:\"<your example>\"}),\"\\u7684\\u53EF\\u6267\\u884C\\u6587\\u4EF6\\uFF0C\"]}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u4F9D\\u8D56\\u81EA\\u5DF1\\u7F16\\u8BD1\\u7684onedal\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F9D\\u8D56\\u81EA\\u5DF1\\u7F16\\u8BD1\\u7684onedal\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F9D\\u8D56\\u81EA\\u5DF1\\u7F16\\u8BD1\\u7684oneDAL\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u76F4\\u63A5\\u7F16\\u8BD1\\uFF0C\\u4F9D\\u8D56\\u7684\\u662F/opt/intel/dal\\u4E0B\\u7684\\u5E93\\uFF0C\\u5176\\u4E0D\\u5305\\u542B\\u7B26\\u53F7\\u8868\\u4FE1\\u606F\\uFF0C\\u5982\\u679C\\u4F60\\u60F3\\u8C03\\u7528\\u81EA\\u5DF1\\u7F16\\u8BD1\\u7684onedal\\uFF0C\\u53EF\\u4EE5\\u6309\\u7167\\u5982\\u4E0B\\u6B65\\u9AA4\\uFF1A\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"onedal\\u7684example\\uFF0C\\u5728CMakeLists.txt\\u4E2D\\uFF0C\\u4E3B\\u8981\\u901A\\u8FC7\",(0,n.jsx)(e.code,{children:\"find_package(ONEDAL REQUIRED)\"}),\"\\uFF0C\\u627E\\u5230onedal\\u7684lib\\u3002\\u56E0\\u6B64\\uFF0C\\u9700\\u8981\\u751F\\u6210\",(0,n.jsx)(e.code,{children:\"oneDALConfig.cmake\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"source\\u81EA\\u5DF1\\u7F16\\u8BD1\\u7684onedal\\uFF1A\",`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# in your shell\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"onedal_dir\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`/__release_lnx/daal/latest/env/vars.sh\n`]})]})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u4F7F\\u7528oneDAL\\u63D0\\u4F9B\\u7684\",(0,n.jsx)(e.a,{href:\"https://github.com/oneapi-src/oneDAL/tree/master/cmake/scripts\",children:\"\\u811A\\u672C\"}),\"\\u751F\\u6210\",(0,n.jsx)(e.code,{children:\"oneDALConfig.cmake\"}),\"\\uFF0C\\u4F4D\\u7F6E\\u5982\\u4E0B\\uFF1A\",(0,n.jsx)(e.code,{children:\"<onedal_dir>/__release_lnx/daal/latest/lib/cmake/oneDAL\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5728CMakeLists.txt\\u4E2D\\u6DFB\\u52A0\\u5BF9\\u6B64cmake\\u7684\\u4F9D\\u8D56\",`\n`,(0,n.jsx)(e.pre,{className:\"language-cmake\",children:(0,n.jsx)(e.code,{className:\"language-cmake code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"set\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"oneDAL_DIR /workspace/oneDAL/__release_lnx/daal/latest/lib/cmake/oneDAL\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),`\n`]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u8FD0\\u884C\\u4E4B\\u524D\\u7684cmake\\u7F16\\u8BD1\\u6307\\u4EE4\\u5373\\u53EF\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u672C\\u6587\\u5E26\\u60A8\\u4E86\\u89E3\\u4E86oneDAL\\u7684\\u57FA\\u672C\\u6982\\u5FF5\\uFF0C\\u5E76\\u4F7F\\u7528\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u793A\\u4F8B\\u8FDB\\u884C\\u7F16\\u8BD1\\u548C\\u8FD0\\u884C\\u3002\\u7136\\u800C\\uFF0C\\u771F\\u6B63\\u6709\\u8DA3\\u7684\\u90E8\\u5206\\u5728\\u4E8EOneDAL\\u7684\\u5185\\u90E8\\u5B9E\\u73B0\\u6280\\u5DE7\\u548C\\u601D\\u60F3\\uFF0C\\u656C\\u8BF7\\u671F\\u5F85\\u540E\\u7EED\\u5185\\u5BB9\\u3002\"})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return L(x);})();\n;return Component;"
  },
  "_id": "blog/onedal-start.md",
  "_raw": {
    "sourceFilePath": "blog/onedal-start.md",
    "sourceFileName": "onedal-start.md",
    "sourceFileDir": "blog",
    "contentType": "markdown",
    "flattenedPath": "blog/onedal-start"
  },
  "type": "Blog",
  "readingTime": {
    "text": "4 min read",
    "minutes": 3.59,
    "time": 215400,
    "words": 718
  },
  "slug": "onedal-start",
  "path": "blog/onedal-start",
  "toc": [
    {
      "value": "简介",
      "url": "#简介",
      "depth": 2
    },
    {
      "value": "安装",
      "url": "#安装",
      "depth": 2
    },
    {
      "value": "oneAPI",
      "url": "#oneapi",
      "depth": 3
    },
    {
      "value": "oneDAL",
      "url": "#onedal",
      "depth": 3
    },
    {
      "value": "例程",
      "url": "#例程",
      "depth": 2
    },
    {
      "value": "编译运行",
      "url": "#编译运行",
      "depth": 3
    },
    {
      "value": "使用make",
      "url": "#使用make",
      "depth": 4
    },
    {
      "value": "使用cmake",
      "url": "#使用cmake",
      "depth": 4
    },
    {
      "value": "依赖自己编译的oneDAL",
      "url": "#依赖自己编译的onedal",
      "depth": 4
    },
    {
      "value": "结语",
      "url": "#结语",
      "depth": 2
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "oneDAL Learning (1)",
    "datePublished": "2022-12-14T00:00:00.000Z",
    "dateModified": "2022-12-14T00:00:00.000Z",
    "description": "getting started",
    "url": "https://zhangjian94cn.github.io/blog/onedal-start"
  }
}