[
  {
    "title": "åŸºäº AutoGen çš„æ•°æ™ºåŠ©æ‰‹é—®ç­”æ¶æ„è®¾è®¡",
    "date": "2025-02-05T00:00:00.000Z",
    "tags": [
      "AI",
      "å¤šæ™ºèƒ½ä½“",
      "AutoGen",
      "æ¶æ„è®¾è®¡"
    ],
    "draft": false,
    "summary": "æ·±å…¥æ¢è®¨åŸºäº AutoGen æ¡†æ¶çš„å¤šæ™ºèƒ½ä½“å¯¹è¯ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬æ„å›¾ç†è§£ã€ä»»åŠ¡è§„åˆ’åŠ Deepseek R1 èåˆæ–¹æ¡ˆã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## ğŸ” æ•´ä½“æ¶æ„è®¾è®¡\n\n> ğŸ’¡ æˆ‘ä»¬é‡‡ç”¨åˆ†å±‚æ¨¡å—åŒ–çš„è®¾è®¡ç†å¿µï¼Œæ„å»ºäº†ä¸€ä¸ªçµæ´»å¯æ‰©å±•çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€‚è¿™ç§è®¾è®¡ä¸ä»…ç¡®ä¿äº†ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ï¼Œä¹Ÿä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•æä¾›äº†è‰¯å¥½çš„åŸºç¡€ã€‚\n\nåŸºäºå¤šæ™ºèƒ½ä½“çš„æ¶æ„è®¾è®¡é‡‡ç”¨åˆ†å±‚æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š\n\n### é¡¶å±‚æ§åˆ¶æ¨¡å—\n\n1. **æ„å›¾æ¾„æ¸…Agent**ï¼š\n   - é‡‡ç”¨è§„åˆ™æ¨¡æ¿+ç›¸ä¼¼åº¦åŒ¹é…å¤„ç†æ¨¡ç³Šé—®é¢˜ï¼Œé˜ˆå€¼ä½äº0.8æ—¶è§¦å‘æ¾„æ¸…\n   - ç»“åˆç”¨æˆ·ç”»åƒå’Œå†å²ä¼šè¯è¿›è¡Œæ„å›¾é¢„æµ‹ï¼Œå‡†ç¡®ç‡è¶…è¿‡95%æ‰ç¡®è®¤\n   - ä½¿ç”¨ä¸»åŠ¨é—®ç­”ç­–ç•¥æ”¶é›†ç¼ºå¤±ä¿¡æ¯ï¼Œå¦‚å¥—é¤ç±»å‹ã€ä½¿ç”¨åœºæ™¯ç­‰\n   - è¿›è¡Œåˆæ­¥æ„å›¾åˆ†ç±»ï¼Œæ”¯æŒæŸ¥è¯¢ã€åŠç†ã€å’¨è¯¢ç­‰ç±»å‹\n\n2. **æ„å›¾ç†è§£Agent**ï¼š\n   - ä½¿ç”¨NERï¼ˆå‘½åå®ä½“è¯†åˆ«ï¼‰æŠ€æœ¯è¯†åˆ«ä¸šåŠ¡å®ä½“ï¼ˆå¥—é¤åç§°ã€æ‰‹æœºå·ç ã€æ—¶é—´ç­‰ï¼‰\n   - åŸºäºé¢„å®šä¹‰è§„åˆ™æ¨¡æ¿è¿›è¡Œæ„å›¾åŒ¹é…å’Œåˆ†ç±»\n   - ç»“åˆå®ä½“è¯†åˆ«å’Œè§„åˆ™åŒ¹é…ç»“æœè¿›è¡Œç»¼åˆåˆ†æ\n   - è¾“å‡ºæ ‡å‡†åŒ–çš„æ„å›¾ç†è§£ç»“æœï¼ˆå®ä½“ã€ç±»å‹ã€ç½®ä¿¡åº¦ï¼‰\n\n3. **ä»»åŠ¡è§„åˆ’Agent**ï¼š\n   - åŸºäºDAGå›¾æ„å»ºä»»åŠ¡æ‰§è¡Œæµç¨‹ï¼Œå°†å¤æ‚ä»»åŠ¡æ‹†è§£ä¸ºåŸå­ä»»åŠ¡èŠ‚ç‚¹\n   - ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—ç®¡ç†ä»»åŠ¡è°ƒåº¦ï¼Œæ”¯æŒåŠ¨æ€è°ƒæ•´æ‰§è¡Œé¡ºåº\n   - é‡‡ç”¨çŠ¶æ€æœºç®¡ç†ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…å«å¾…æ‰§è¡Œã€æ‰§è¡Œä¸­ã€å®Œæˆã€å¤±è´¥ç­‰çŠ¶æ€\n   - å†…ç½®ä»»åŠ¡é‡è¯•å’Œå¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿ä»»åŠ¡æ‰§è¡Œçš„å¯é æ€§\n\n### ä¸šåŠ¡æ‰§è¡Œæ¨¡å—\n\nç³»ç»Ÿæ ¹æ®ä¸åŒä¸šåŠ¡åœºæ™¯åˆ’åˆ†ä¸ºå¤šä¸ªå¹¶è¡Œçš„ä¸šåŠ¡å¤„ç†å•å…ƒï¼Œæ¯ä¸ªå•å…ƒåŒ…å«ä¸¤å±‚æ™ºèƒ½ä½“ï¼š\n\n1. **æ„å›¾è¯†åˆ«Agent**ï¼š\n   - åŸºäºæ¾„æ¸…ç»“æœç²¾ç¡®è¯†åˆ«ç”¨æˆ·æ„å›¾\n   - åŸºäºä¸Šä¸‹æ–‡å’Œå†å²äº¤äº’æ™ºèƒ½æ¨æ–­ç”¨æˆ·çœŸå®æ„å›¾\n   - é€‚é…å¤šä¸ªåŠ©æ‰‹çš„æ„å›¾è¯†åˆ«ï¼Œå®ç°ç²¾å‡†åˆ†å‘\n\n2. **ä¸šåŠ¡é€»è¾‘Agent**ï¼š\n   - æ‰§è¡Œå…·ä½“çš„ä¸šåŠ¡æ“ä½œï¼šå¤„ç†ç”¨æˆ·æŸ¥è¯¢ã€æ‰§è¡Œä¸šåŠ¡åŠç†ã€æä¾›æ™ºèƒ½æ¨è\n   - è´Ÿè´£ä¸åº•å±‚æœåŠ¡äº¤äº’ï¼šè°ƒç”¨ä¸šåŠ¡æ¥å£ã€è®¿é—®æ•°æ®åº“ã€å¯¹æ¥ç¬¬ä¸‰æ–¹ç³»ç»Ÿ\n   - å¤„ç†ä¸šåŠ¡è§„åˆ™æ ¡éªŒï¼šæƒé™éªŒè¯ã€è§„åˆ™çº¦æŸã€å¼‚å¸¸å¤„ç†\n\n## ğŸ› ï¸ æ™ºèƒ½ä½“æ¡†æ¶é€‰å‹\n\n> ğŸ’¡ æ¡†æ¶é€‰æ‹©å…³ç³»åˆ°æ•´ä¸ªé¡¹ç›®çš„æˆè´¥ï¼Œæˆ‘ä»¬è¿›è¡Œäº†æ·±å…¥çš„è°ƒç ”å’Œåˆ†æã€‚\n\n### è°ƒç ”æ–¹æ³•ä¸è¿‡ç¨‹\n\næˆ‘è®¤ä¸ºåœ¨è¯„ä¼°æ™ºèƒ½ä½“æ¡†æ¶æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥é‡‡å–æ›´åŠ åŠ¡å®çš„è°ƒç ”æ–¹å¼ã€‚æˆ‘ä»¬é¦–å…ˆå¯¹å¸‚é¢ä¸Šå¸¸è§çš„æ™ºèƒ½ä½“æ¡†æ¶åšäº†å…¨é¢æ‘¸åº•ï¼Œé‡ç‚¹çœ‹äº†å„ä¸ªæ¡†æ¶çš„ä½¿ç”¨æƒ…å†µã€ç¤¾åŒºæ´»è·ƒåº¦ï¼Œä»¥åŠå®é™…è½åœ°æ¡ˆä¾‹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿæ·±å…¥ç ”ç©¶äº†æ¯ä¸ªæ¡†æ¶çš„æŠ€æœ¯ç‰¹ç‚¹ã€æ€§èƒ½è¡¨ç°å’Œæ‰©å±•èƒ½åŠ›ã€‚\n\nä»ä¸šåŠ¡è§’åº¦æ¥çœ‹ï¼Œæœ‰å‡ ä¸ªå…³é”®ç‚¹ç‰¹åˆ«é‡è¦ï¼šé¦–å…ˆæ˜¯è¦èƒ½æ‰›ä½å¤§æµé‡ï¼Œå…¶æ¬¡æ˜¯è¦èƒ½é€‚åº”æˆ‘ä»¬å¤šæ ·åŒ–çš„ä¸šåŠ¡åœºæ™¯ï¼Œæœ€åæ˜¯è¦ä¿è¯ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚\n\n### ä¸ºä»€ä¹ˆé€‰æ‹© AutoGen\n\nç»è¿‡åå¤æ¯”è¾ƒå’Œè®¨è®ºï¼Œæˆ‘ä»¬è§‰å¾— AutoGen æ˜¯æœ€é€‚åˆçš„é€‰æ‹©ï¼š\n\n- **çµæ´»çš„ API è®¾è®¡**ï¼šå·¥å…·é“¾ä¹Ÿå¾ˆå®Œå–„ï¼Œå¯¹å¿«é€Ÿå¼€å‘ä¸šåŠ¡å¾ˆæœ‰å¸®åŠ©\n- **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œæ’ä»¶æœºåˆ¶ä¹Ÿå¾ˆå¼ºå¤§\n- **å¾®è½¯èƒŒä¹¦**ï¼šæœ‰å¾®è½¯åœ¨èƒŒåæ”¯æŒï¼Œæ¡†æ¶çš„æœªæ¥å‘å±•æ›´æœ‰ä¿éšœ\n\n### æ¡†æ¶å¯¹æ¯”\n\n| æ¡†æ¶åç§°             | æè¿°                       | ä¼˜åŠ¿                                |\n| -------------------- | -------------------------- | ----------------------------------- |\n| **AutoGen**          | å¾®è½¯å¼€æºçš„æ–°ä¸€ä»£æ™ºèƒ½ä½“æ¡†æ¶ | å¤šå±‚æ¬¡APIã€å¼ºå¤§æ’ä»¶ç³»ç»Ÿã€è·¨è¯­è¨€æ”¯æŒ |\n| **LangChain Agents** | æ¨¡å—åŒ–çš„å¤§è¯­è¨€æ¨¡å‹åº”ç”¨æ¡†æ¶ | é«˜åº¦æ¨¡å—åŒ–ã€ç”Ÿæ€å®Œå–„ã€ç¤¾åŒºæ´»è·ƒ      |\n| **Qwen-Agent**       | é€šä¹‰åƒé—®å¼€æºçš„æ™ºèƒ½ä½“æ¡†æ¶   | ä¸­æ–‡ç†è§£èƒ½åŠ›å¼ºã€å·¥å…·è°ƒç”¨ä¸°å¯Œ        |\n| **BabyAGI**          | è½»é‡çº§è‡ªä¸»æ™ºèƒ½ä½“æ¡†æ¶       | è½»é‡ã€ç®€å•ã€ä½é—¨æ§›                  |\n\n## ğŸ§  Deepseek R1 èåˆ\n\nä¸ºäº†è¿›ä¸€æ­¥æå‡ç³»ç»Ÿçš„è¯­ä¹‰ç†è§£å’Œæ„å›¾è§£æèƒ½åŠ›ï¼Œæˆ‘ä»¬è®¡åˆ’å¼•å…¥ Deepseek R1 æ¨¡å‹ï¼Œå¹¶å°†å…¶ä¸ç°æœ‰çš„å¤šæ™ºèƒ½ä½“æ¶æ„æ·±åº¦èåˆã€‚\n\n### é›†æˆæ–¹æ¡ˆï¼šåŸºäºæ·±åº¦æ€è€ƒè¿‡ç¨‹çš„è®¤çŸ¥è¿­ä»£\n\nåœ¨åŸæœ‰æ„å›¾æ¾„æ¸…ä¸ç†è§£æ¨¡å—çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æå– Deepseek R1 æ¨¡å‹å†…éƒ¨çš„æ€è€ƒè¿‡ç¨‹ï¼ˆchain-of-thoughtï¼‰ï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­è°ƒç”¨çŸ¥è¯†åº“è¿›è¡Œä¿¡æ¯è¡¥å……ä¸åé¦ˆã€‚\n\næ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š\n\n1. **åˆæ­¥è§£æä¸æ€è€ƒ**ï¼šè°ƒç”¨ Deepseek R1 æ¨¡å‹è¿›è¡Œåˆæ­¥è¯­ä¹‰è§£æï¼Œå¹¶æå–æ¨¡å‹å†…éƒ¨ç”Ÿæˆçš„æ€è€ƒè¿‡ç¨‹\n2. **çŸ¥è¯†åº“æŸ¥è¯¢**ï¼šåˆ©ç”¨åˆæ­¥ç”Ÿæˆçš„æ€è€ƒè¿‡ç¨‹ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ï¼Œè·å–ç›¸å…³çš„èƒŒæ™¯çŸ¥è¯†å’Œæ•°æ®è¡¥å……\n3. **èåˆä¸è¿­ä»£ä¼˜åŒ–**ï¼šå°†çŸ¥è¯†åº“è¿”å›çš„ä¿¡æ¯ä¸åŸå§‹æ€è€ƒè¿‡ç¨‹è¿›è¡Œèåˆï¼Œç»è¿‡å¤šè½®è¿­ä»£é€æ­¥æ”¶æ•›\n\n**ç¤ºä¾‹ä»£ç ï¼š**\n\n```python\ndef deepseek_iterative_analysis(user_input, max_iterations=3):\n    # ç¬¬ä¸€æ­¥ï¼šè°ƒç”¨ Deepseek R1 ç”Ÿæˆåˆæ­¥è§£æç»“æœå’Œå†…éƒ¨æ€è€ƒè¿‡ç¨‹\n    initial_result = deepseek_r1_api(user_input, mode=\"chain-of-thought\")\n\n    combined_input = initial_result[\"chain_of_thought\"]\n    for i in range(max_iterations):\n        # 1. ä¸»åŠ¨æŸ¥è¯¢çŸ¥è¯†åº“è·å–ç›¸å…³ä¿¡æ¯\n        kb_info = query_knowledge_base(combined_input)\n\n        # 2. è®©çŸ¥è¯†åº“æ ¹æ®å½“å‰æ€è€ƒçŠ¶æ€æ¨é€è¡¥å……ä¿¡æ¯\n        kb_suggestions = knowledge_base_suggestions(combined_input)\n\n        # 3. åˆå¹¶ä¸¤ç§çŸ¥è¯†æ¥æº\n        enriched_knowledge = merge_knowledge(kb_info, kb_suggestions)\n\n        # è¿­ä»£ä¼˜åŒ–\n        refined_result = deepseek_r1_api(input_for_refinement, mode=\"iterative-refinement\")\n\n        if has_converged(combined_input):\n            break\n\n    return {\"final_intent\": refined_result.get(\"result\")}\n```\n\n### åœºæ™¯æ¡ˆä¾‹ï¼šå¥—é¤æ¨èä¼˜åŒ–\n\n> ğŸ” ç”¨æˆ·å’¨è¯¢ï¼š\"æˆ‘æƒ³ç»™çˆ¶æ¯æ¢ä¸ªå¥—é¤ï¼Œä»–ä»¬æ¯æœˆé€šè¯æ—¶é•¿200åˆ†é’Ÿå·¦å³ï¼Œå¶å°”åˆ·è§†é¢‘ï¼Œä¸»è¦æ˜¯å’Œå®¶äººè§†é¢‘é€šè¯ï¼Œé¢„ç®—150å…ƒä»¥å†…ã€‚\"\n\n**ä¼ ç»Ÿå‘é‡æ£€ç´¢æ¨¡å¼**ï¼š\n\n- æå–å…³é”®è¯ï¼š\"é€šè¯æ—¶é•¿200åˆ†é’Ÿ\"ã€\"è§†é¢‘é€šè¯\"ã€\"150å…ƒ\"\n- å‘é‡æ£€ç´¢åŒ¹é…ç›¸ä¼¼å¥—é¤\n- ç¼ºä¹åœºæ™¯ç†è§£ï¼Œæ— æ³•ç†è§£\"çˆ¶æ¯\"è¿™ç±»ç”¨æˆ·ç‰¹å¾\n\n**Deepseek R1 æ€ç»´é“¾æ¨¡å¼**ï¼š\n\n1. **ç”¨æˆ·ç”»åƒè§£æ**ï¼šè€å¹´ç¾¤ä½“(çˆ¶æ¯)ã€ä»¥é€šè¯ä¸ºä¸»ã€é¢„ç®—æ•æ„Ÿ\n2. **éœ€æ±‚åˆ†å±‚**ï¼šæ ¸å¿ƒéœ€æ±‚(é€šè¯çº¦200åˆ†é’Ÿ)ã€æ¬¡è¦éœ€æ±‚(è§†é¢‘é€šè¯æµé‡)ã€ä»·æ ¼ä¸Šé™(150å…ƒ)\n3. **å¥—é¤åŒ¹é…é€»è¾‘**ï¼šä¼˜å…ˆè€ƒè™‘è€å¹´ä¸“å±å¥—é¤ã€é€šè¯æ—¶é•¿æ»¡è¶³éœ€æ±‚\n4. **ä¸ªæ€§åŒ–å»ºè®®**ï¼šæ¨èå¼€é€šäº²æƒ…ç½‘ã€å»ºè®®è®¾ç½®æµé‡æé†’\n\n### èåˆä¼˜åŠ¿ä¸æ•ˆæœå±•æœ›\n\n- **å‡†ç¡®æ€§æå‡**ï¼šæ·±å±‚è¯­ä¹‰è§£ææœ‰åŠ©äºæ˜¾è‘—æé«˜æ„å›¾å’Œå®ä½“è¯†åˆ«çš„å‡†ç¡®ç‡\n- **å†³ç­–æ”¯æŒ**ï¼šèåˆåçš„è§£æç»“æœå¯ä¸ºä»»åŠ¡è§„åˆ’å’Œåç»­å¤„ç†æä¾›æ›´å¯é çš„è¯­ä¹‰ä¿¡æ¯\n- **æ¨¡å—çµæ´»æ€§**ï¼šæ— è®ºæ˜¯ä½œä¸ºç°æœ‰ Agent çš„å¢å¼ºï¼Œè¿˜æ˜¯ç‹¬ç«‹æ™ºèƒ½ä½“å­˜åœ¨ï¼ŒDeepseek R1 æ¨¡å‹å‡å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚çµæ´»è°ƒåº¦\n\næœªæ¥ï¼Œæˆ‘ä»¬å°†æŒç»­ç›‘æ§ Deepseek R1 æ¨¡å‹åœ¨å®é™…åœºæ™¯ä¸‹çš„è¡¨ç°ï¼Œå¹¶æ ¹æ®ç”¨æˆ·åé¦ˆä¸æ–­ä¼˜åŒ–èåˆç­–ç•¥ã€‚\n",
      "code": "var Component=(()=>{var p=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),_=(a,n)=>{for(var c in n)i(a,c,{get:n[c],enumerable:!0})},r=(a,n,c,s)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let l of u(n))!k.call(a,l)&&l!==c&&i(a,l,{get:()=>n[l],enumerable:!(s=m(n,l))||s.enumerable});return a};var b=(a,n,c)=>(c=a!=null?p(N(a)):{},r(n||!a||!a.__esModule?i(c,\"default\",{value:a,enumerable:!0}):c,a)),f=a=>r(i({},\"__esModule\",{value:!0}),a);var t=g((I,d)=>{d.exports=_jsx_runtime});var A={};_(A,{default:()=>o,frontmatter:()=>x});var e=b(t()),x={title:\"\\u57FA\\u4E8E AutoGen \\u7684\\u6570\\u667A\\u52A9\\u624B\\u95EE\\u7B54\\u67B6\\u6784\\u8BBE\\u8BA1\",date:\"2025-02-05\",tags:[\"AI\",\"\\u591A\\u667A\\u80FD\\u4F53\",\"AutoGen\",\"\\u67B6\\u6784\\u8BBE\\u8BA1\"],draft:!1,summary:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u57FA\\u4E8E AutoGen \\u6846\\u67B6\\u7684\\u591A\\u667A\\u80FD\\u4F53\\u5BF9\\u8BDD\\u7CFB\\u7EDF\\u67B6\\u6784\\u8BBE\\u8BA1\\uFF0C\\u5305\\u62EC\\u610F\\u56FE\\u7406\\u89E3\\u3001\\u4EFB\\u52A1\\u89C4\\u5212\\u53CA Deepseek R1 \\u878D\\u5408\\u65B9\\u6848\\u3002\",authors:[\"default\"]};function h(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"-\\u6574\\u4F53\\u67B6\\u6784\\u8BBE\\u8BA1\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#-\\u6574\\u4F53\\u67B6\\u6784\\u8BBE\\u8BA1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u{1F50D} \\u6574\\u4F53\\u67B6\\u6784\\u8BBE\\u8BA1\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u{1F4A1} \\u6211\\u4EEC\\u91C7\\u7528\\u5206\\u5C42\\u6A21\\u5757\\u5316\\u7684\\u8BBE\\u8BA1\\u7406\\u5FF5\\uFF0C\\u6784\\u5EFA\\u4E86\\u4E00\\u4E2A\\u7075\\u6D3B\\u53EF\\u6269\\u5C55\\u7684\\u591A\\u667A\\u80FD\\u4F53\\u7CFB\\u7EDF\\u3002\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u4E0D\\u4EC5\\u786E\\u4FDD\\u4E86\\u7CFB\\u7EDF\\u7684\\u9AD8\\u53EF\\u7528\\u6027\\uFF0C\\u4E5F\\u4E3A\\u672A\\u6765\\u7684\\u529F\\u80FD\\u6269\\u5C55\\u63D0\\u4F9B\\u4E86\\u826F\\u597D\\u7684\\u57FA\\u7840\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u57FA\\u4E8E\\u591A\\u667A\\u80FD\\u4F53\\u7684\\u67B6\\u6784\\u8BBE\\u8BA1\\u91C7\\u7528\\u5206\\u5C42\\u6A21\\u5757\\u5316\\u65B9\\u6848\\uFF0C\\u4E3B\\u8981\\u5305\\u542B\\u4EE5\\u4E0B\\u6838\\u5FC3\\u7EC4\\u4EF6\\uFF1A\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u9876\\u5C42\\u63A7\\u5236\\u6A21\\u5757\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u9876\\u5C42\\u63A7\\u5236\\u6A21\\u5757\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u9876\\u5C42\\u63A7\\u5236\\u6A21\\u5757\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u610F\\u56FE\\u6F84\\u6E05Agent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u91C7\\u7528\\u89C4\\u5219\\u6A21\\u677F+\\u76F8\\u4F3C\\u5EA6\\u5339\\u914D\\u5904\\u7406\\u6A21\\u7CCA\\u95EE\\u9898\\uFF0C\\u9608\\u503C\\u4F4E\\u4E8E0.8\\u65F6\\u89E6\\u53D1\\u6F84\\u6E05\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u7ED3\\u5408\\u7528\\u6237\\u753B\\u50CF\\u548C\\u5386\\u53F2\\u4F1A\\u8BDD\\u8FDB\\u884C\\u610F\\u56FE\\u9884\\u6D4B\\uFF0C\\u51C6\\u786E\\u7387\\u8D85\\u8FC795%\\u624D\\u786E\\u8BA4\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528\\u4E3B\\u52A8\\u95EE\\u7B54\\u7B56\\u7565\\u6536\\u96C6\\u7F3A\\u5931\\u4FE1\\u606F\\uFF0C\\u5982\\u5957\\u9910\\u7C7B\\u578B\\u3001\\u4F7F\\u7528\\u573A\\u666F\\u7B49\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8FDB\\u884C\\u521D\\u6B65\\u610F\\u56FE\\u5206\\u7C7B\\uFF0C\\u652F\\u6301\\u67E5\\u8BE2\\u3001\\u529E\\u7406\\u3001\\u54A8\\u8BE2\\u7B49\\u7C7B\\u578B\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u610F\\u56FE\\u7406\\u89E3Agent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528NER\\uFF08\\u547D\\u540D\\u5B9E\\u4F53\\u8BC6\\u522B\\uFF09\\u6280\\u672F\\u8BC6\\u522B\\u4E1A\\u52A1\\u5B9E\\u4F53\\uFF08\\u5957\\u9910\\u540D\\u79F0\\u3001\\u624B\\u673A\\u53F7\\u7801\\u3001\\u65F6\\u95F4\\u7B49\\uFF09\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u9884\\u5B9A\\u4E49\\u89C4\\u5219\\u6A21\\u677F\\u8FDB\\u884C\\u610F\\u56FE\\u5339\\u914D\\u548C\\u5206\\u7C7B\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u7ED3\\u5408\\u5B9E\\u4F53\\u8BC6\\u522B\\u548C\\u89C4\\u5219\\u5339\\u914D\\u7ED3\\u679C\\u8FDB\\u884C\\u7EFC\\u5408\\u5206\\u6790\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8F93\\u51FA\\u6807\\u51C6\\u5316\\u7684\\u610F\\u56FE\\u7406\\u89E3\\u7ED3\\u679C\\uFF08\\u5B9E\\u4F53\\u3001\\u7C7B\\u578B\\u3001\\u7F6E\\u4FE1\\u5EA6\\uFF09\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4EFB\\u52A1\\u89C4\\u5212Agent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u57FA\\u4E8EDAG\\u56FE\\u6784\\u5EFA\\u4EFB\\u52A1\\u6267\\u884C\\u6D41\\u7A0B\\uFF0C\\u5C06\\u590D\\u6742\\u4EFB\\u52A1\\u62C6\\u89E3\\u4E3A\\u539F\\u5B50\\u4EFB\\u52A1\\u8282\\u70B9\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528\\u4F18\\u5148\\u7EA7\\u961F\\u5217\\u7BA1\\u7406\\u4EFB\\u52A1\\u8C03\\u5EA6\\uFF0C\\u652F\\u6301\\u52A8\\u6001\\u8C03\\u6574\\u6267\\u884C\\u987A\\u5E8F\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u91C7\\u7528\\u72B6\\u6001\\u673A\\u7BA1\\u7406\\u4EFB\\u52A1\\u751F\\u547D\\u5468\\u671F\\uFF0C\\u5305\\u542B\\u5F85\\u6267\\u884C\\u3001\\u6267\\u884C\\u4E2D\\u3001\\u5B8C\\u6210\\u3001\\u5931\\u8D25\\u7B49\\u72B6\\u6001\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5185\\u7F6E\\u4EFB\\u52A1\\u91CD\\u8BD5\\u548C\\u5F02\\u5E38\\u5904\\u7406\\u673A\\u5236\\uFF0C\\u786E\\u4FDD\\u4EFB\\u52A1\\u6267\\u884C\\u7684\\u53EF\\u9760\\u6027\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u4E1A\\u52A1\\u6267\\u884C\\u6A21\\u5757\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E1A\\u52A1\\u6267\\u884C\\u6A21\\u5757\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E1A\\u52A1\\u6267\\u884C\\u6A21\\u5757\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7CFB\\u7EDF\\u6839\\u636E\\u4E0D\\u540C\\u4E1A\\u52A1\\u573A\\u666F\\u5212\\u5206\\u4E3A\\u591A\\u4E2A\\u5E76\\u884C\\u7684\\u4E1A\\u52A1\\u5904\\u7406\\u5355\\u5143\\uFF0C\\u6BCF\\u4E2A\\u5355\\u5143\\u5305\\u542B\\u4E24\\u5C42\\u667A\\u80FD\\u4F53\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u610F\\u56FE\\u8BC6\\u522BAgent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u6F84\\u6E05\\u7ED3\\u679C\\u7CBE\\u786E\\u8BC6\\u522B\\u7528\\u6237\\u610F\\u56FE\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u4E0A\\u4E0B\\u6587\\u548C\\u5386\\u53F2\\u4EA4\\u4E92\\u667A\\u80FD\\u63A8\\u65AD\\u7528\\u6237\\u771F\\u5B9E\\u610F\\u56FE\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u9002\\u914D\\u591A\\u4E2A\\u52A9\\u624B\\u7684\\u610F\\u56FE\\u8BC6\\u522B\\uFF0C\\u5B9E\\u73B0\\u7CBE\\u51C6\\u5206\\u53D1\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4E1A\\u52A1\\u903B\\u8F91Agent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u6267\\u884C\\u5177\\u4F53\\u7684\\u4E1A\\u52A1\\u64CD\\u4F5C\\uFF1A\\u5904\\u7406\\u7528\\u6237\\u67E5\\u8BE2\\u3001\\u6267\\u884C\\u4E1A\\u52A1\\u529E\\u7406\\u3001\\u63D0\\u4F9B\\u667A\\u80FD\\u63A8\\u8350\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8D1F\\u8D23\\u4E0E\\u5E95\\u5C42\\u670D\\u52A1\\u4EA4\\u4E92\\uFF1A\\u8C03\\u7528\\u4E1A\\u52A1\\u63A5\\u53E3\\u3001\\u8BBF\\u95EE\\u6570\\u636E\\u5E93\\u3001\\u5BF9\\u63A5\\u7B2C\\u4E09\\u65B9\\u7CFB\\u7EDF\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5904\\u7406\\u4E1A\\u52A1\\u89C4\\u5219\\u6821\\u9A8C\\uFF1A\\u6743\\u9650\\u9A8C\\u8BC1\\u3001\\u89C4\\u5219\\u7EA6\\u675F\\u3001\\u5F02\\u5E38\\u5904\\u7406\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\uFE0F-\\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u9009\\u578B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\uFE0F-\\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u9009\\u578B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u{1F6E0}\\uFE0F \\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u9009\\u578B\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u{1F4A1} \\u6846\\u67B6\\u9009\\u62E9\\u5173\\u7CFB\\u5230\\u6574\\u4E2A\\u9879\\u76EE\\u7684\\u6210\\u8D25\\uFF0C\\u6211\\u4EEC\\u8FDB\\u884C\\u4E86\\u6DF1\\u5165\\u7684\\u8C03\\u7814\\u548C\\u5206\\u6790\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u8C03\\u7814\\u65B9\\u6CD5\\u4E0E\\u8FC7\\u7A0B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8C03\\u7814\\u65B9\\u6CD5\\u4E0E\\u8FC7\\u7A0B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u8C03\\u7814\\u65B9\\u6CD5\\u4E0E\\u8FC7\\u7A0B\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u8BA4\\u4E3A\\u5728\\u8BC4\\u4F30\\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u65F6\\uFF0C\\u6211\\u4EEC\\u5E94\\u8BE5\\u91C7\\u53D6\\u66F4\\u52A0\\u52A1\\u5B9E\\u7684\\u8C03\\u7814\\u65B9\\u5F0F\\u3002\\u6211\\u4EEC\\u9996\\u5148\\u5BF9\\u5E02\\u9762\\u4E0A\\u5E38\\u89C1\\u7684\\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u505A\\u4E86\\u5168\\u9762\\u6478\\u5E95\\uFF0C\\u91CD\\u70B9\\u770B\\u4E86\\u5404\\u4E2A\\u6846\\u67B6\\u7684\\u4F7F\\u7528\\u60C5\\u51B5\\u3001\\u793E\\u533A\\u6D3B\\u8DC3\\u5EA6\\uFF0C\\u4EE5\\u53CA\\u5B9E\\u9645\\u843D\\u5730\\u6848\\u4F8B\\u3002\\u9664\\u6B64\\u4E4B\\u5916\\uFF0C\\u6211\\u4EEC\\u4E5F\\u6DF1\\u5165\\u7814\\u7A76\\u4E86\\u6BCF\\u4E2A\\u6846\\u67B6\\u7684\\u6280\\u672F\\u7279\\u70B9\\u3001\\u6027\\u80FD\\u8868\\u73B0\\u548C\\u6269\\u5C55\\u80FD\\u529B\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4ECE\\u4E1A\\u52A1\\u89D2\\u5EA6\\u6765\\u770B\\uFF0C\\u6709\\u51E0\\u4E2A\\u5173\\u952E\\u70B9\\u7279\\u522B\\u91CD\\u8981\\uFF1A\\u9996\\u5148\\u662F\\u8981\\u80FD\\u625B\\u4F4F\\u5927\\u6D41\\u91CF\\uFF0C\\u5176\\u6B21\\u662F\\u8981\\u80FD\\u9002\\u5E94\\u6211\\u4EEC\\u591A\\u6837\\u5316\\u7684\\u4E1A\\u52A1\\u573A\\u666F\\uFF0C\\u6700\\u540E\\u662F\\u8981\\u4FDD\\u8BC1\\u7A33\\u5B9A\\u6027\\u548C\\u5B89\\u5168\\u6027\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9009\\u62E9-autogen\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E3A\\u4EC0\\u4E48\\u9009\\u62E9-autogen\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u4EC0\\u4E48\\u9009\\u62E9 AutoGen\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7ECF\\u8FC7\\u53CD\\u590D\\u6BD4\\u8F83\\u548C\\u8BA8\\u8BBA\\uFF0C\\u6211\\u4EEC\\u89C9\\u5F97 AutoGen \\u662F\\u6700\\u9002\\u5408\\u7684\\u9009\\u62E9\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7075\\u6D3B\\u7684 API \\u8BBE\\u8BA1\"}),\"\\uFF1A\\u5DE5\\u5177\\u94FE\\u4E5F\\u5F88\\u5B8C\\u5584\\uFF0C\\u5BF9\\u5FEB\\u901F\\u5F00\\u53D1\\u4E1A\\u52A1\\u5F88\\u6709\\u5E2E\\u52A9\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u591A\\u8BED\\u8A00\\u652F\\u6301\"}),\"\\uFF1A\\u652F\\u6301\\u591A\\u79CD\\u7F16\\u7A0B\\u8BED\\u8A00\\uFF0C\\u63D2\\u4EF6\\u673A\\u5236\\u4E5F\\u5F88\\u5F3A\\u5927\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5FAE\\u8F6F\\u80CC\\u4E66\"}),\"\\uFF1A\\u6709\\u5FAE\\u8F6F\\u5728\\u80CC\\u540E\\u652F\\u6301\\uFF0C\\u6846\\u67B6\\u7684\\u672A\\u6765\\u53D1\\u5C55\\u66F4\\u6709\\u4FDD\\u969C\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u6846\\u67B6\\u5BF9\\u6BD4\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6846\\u67B6\\u5BF9\\u6BD4\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6846\\u67B6\\u5BF9\\u6BD4\"]}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u6846\\u67B6\\u540D\\u79F0\"}),(0,e.jsx)(n.th,{children:\"\\u63CF\\u8FF0\"}),(0,e.jsx)(n.th,{children:\"\\u4F18\\u52BF\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"AutoGen\"})}),(0,e.jsx)(n.td,{children:\"\\u5FAE\\u8F6F\\u5F00\\u6E90\\u7684\\u65B0\\u4E00\\u4EE3\\u667A\\u80FD\\u4F53\\u6846\\u67B6\"}),(0,e.jsx)(n.td,{children:\"\\u591A\\u5C42\\u6B21API\\u3001\\u5F3A\\u5927\\u63D2\\u4EF6\\u7CFB\\u7EDF\\u3001\\u8DE8\\u8BED\\u8A00\\u652F\\u6301\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"LangChain Agents\"})}),(0,e.jsx)(n.td,{children:\"\\u6A21\\u5757\\u5316\\u7684\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u5E94\\u7528\\u6846\\u67B6\"}),(0,e.jsx)(n.td,{children:\"\\u9AD8\\u5EA6\\u6A21\\u5757\\u5316\\u3001\\u751F\\u6001\\u5B8C\\u5584\\u3001\\u793E\\u533A\\u6D3B\\u8DC3\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"Qwen-Agent\"})}),(0,e.jsx)(n.td,{children:\"\\u901A\\u4E49\\u5343\\u95EE\\u5F00\\u6E90\\u7684\\u667A\\u80FD\\u4F53\\u6846\\u67B6\"}),(0,e.jsx)(n.td,{children:\"\\u4E2D\\u6587\\u7406\\u89E3\\u80FD\\u529B\\u5F3A\\u3001\\u5DE5\\u5177\\u8C03\\u7528\\u4E30\\u5BCC\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"BabyAGI\"})}),(0,e.jsx)(n.td,{children:\"\\u8F7B\\u91CF\\u7EA7\\u81EA\\u4E3B\\u667A\\u80FD\\u4F53\\u6846\\u67B6\"}),(0,e.jsx)(n.td,{children:\"\\u8F7B\\u91CF\\u3001\\u7B80\\u5355\\u3001\\u4F4E\\u95E8\\u69DB\"})]})]})]}),`\n`,(0,e.jsxs)(n.h2,{id:\"-deepseek-r1-\\u878D\\u5408\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#-deepseek-r1-\\u878D\\u5408\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u{1F9E0} Deepseek R1 \\u878D\\u5408\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u7CFB\\u7EDF\\u7684\\u8BED\\u4E49\\u7406\\u89E3\\u548C\\u610F\\u56FE\\u89E3\\u6790\\u80FD\\u529B\\uFF0C\\u6211\\u4EEC\\u8BA1\\u5212\\u5F15\\u5165 Deepseek R1 \\u6A21\\u578B\\uFF0C\\u5E76\\u5C06\\u5176\\u4E0E\\u73B0\\u6709\\u7684\\u591A\\u667A\\u80FD\\u4F53\\u67B6\\u6784\\u6DF1\\u5EA6\\u878D\\u5408\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u96C6\\u6210\\u65B9\\u6848\\u57FA\\u4E8E\\u6DF1\\u5EA6\\u601D\\u8003\\u8FC7\\u7A0B\\u7684\\u8BA4\\u77E5\\u8FED\\u4EE3\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u96C6\\u6210\\u65B9\\u6848\\u57FA\\u4E8E\\u6DF1\\u5EA6\\u601D\\u8003\\u8FC7\\u7A0B\\u7684\\u8BA4\\u77E5\\u8FED\\u4EE3\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u96C6\\u6210\\u65B9\\u6848\\uFF1A\\u57FA\\u4E8E\\u6DF1\\u5EA6\\u601D\\u8003\\u8FC7\\u7A0B\\u7684\\u8BA4\\u77E5\\u8FED\\u4EE3\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u539F\\u6709\\u610F\\u56FE\\u6F84\\u6E05\\u4E0E\\u7406\\u89E3\\u6A21\\u5757\\u7684\\u57FA\\u7840\\u4E0A\\uFF0C\\u6211\\u4EEC\\u8FDB\\u4E00\\u6B65\\u63D0\\u53D6 Deepseek R1 \\u6A21\\u578B\\u5185\\u90E8\\u7684\\u601D\\u8003\\u8FC7\\u7A0B\\uFF08chain-of-thought\\uFF09\\uFF0C\\u5E76\\u5728\\u6B64\\u8FC7\\u7A0B\\u4E2D\\u8C03\\u7528\\u77E5\\u8BC6\\u5E93\\u8FDB\\u884C\\u4FE1\\u606F\\u8865\\u5145\\u4E0E\\u53CD\\u9988\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6574\\u4F53\\u6D41\\u7A0B\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u521D\\u6B65\\u89E3\\u6790\\u4E0E\\u601D\\u8003\"}),\"\\uFF1A\\u8C03\\u7528 Deepseek R1 \\u6A21\\u578B\\u8FDB\\u884C\\u521D\\u6B65\\u8BED\\u4E49\\u89E3\\u6790\\uFF0C\\u5E76\\u63D0\\u53D6\\u6A21\\u578B\\u5185\\u90E8\\u751F\\u6210\\u7684\\u601D\\u8003\\u8FC7\\u7A0B\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u77E5\\u8BC6\\u5E93\\u67E5\\u8BE2\"}),\"\\uFF1A\\u5229\\u7528\\u521D\\u6B65\\u751F\\u6210\\u7684\\u601D\\u8003\\u8FC7\\u7A0B\\u4F5C\\u4E3A\\u67E5\\u8BE2\\u6761\\u4EF6\\uFF0C\\u83B7\\u53D6\\u76F8\\u5173\\u7684\\u80CC\\u666F\\u77E5\\u8BC6\\u548C\\u6570\\u636E\\u8865\\u5145\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u878D\\u5408\\u4E0E\\u8FED\\u4EE3\\u4F18\\u5316\"}),\"\\uFF1A\\u5C06\\u77E5\\u8BC6\\u5E93\\u8FD4\\u56DE\\u7684\\u4FE1\\u606F\\u4E0E\\u539F\\u59CB\\u601D\\u8003\\u8FC7\\u7A0B\\u8FDB\\u884C\\u878D\\u5408\\uFF0C\\u7ECF\\u8FC7\\u591A\\u8F6E\\u8FED\\u4EE3\\u9010\\u6B65\\u6536\\u655B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\u793A\\u4F8B\\u4EE3\\u7801\\uFF1A\"})}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"deepseek_iterative_analysis\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"user_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" max_iterations\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u7B2C\\u4E00\\u6B65\\uFF1A\\u8C03\\u7528 Deepseek R1 \\u751F\\u6210\\u521D\\u6B65\\u89E3\\u6790\\u7ED3\\u679C\\u548C\\u5185\\u90E8\\u601D\\u8003\\u8FC7\\u7A0B\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    initial_result \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" deepseek_r1_api\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"user_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" mode\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"chain-of-thought\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    combined_input \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" initial_result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"chain_of_thought\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"range\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"max_iterations\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# 1. \\u4E3B\\u52A8\\u67E5\\u8BE2\\u77E5\\u8BC6\\u5E93\\u83B7\\u53D6\\u76F8\\u5173\\u4FE1\\u606F\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        kb_info \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" query_knowledge_base\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"combined_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# 2. \\u8BA9\\u77E5\\u8BC6\\u5E93\\u6839\\u636E\\u5F53\\u524D\\u601D\\u8003\\u72B6\\u6001\\u63A8\\u9001\\u8865\\u5145\\u4FE1\\u606F\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        kb_suggestions \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" knowledge_base_suggestions\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"combined_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# 3. \\u5408\\u5E76\\u4E24\\u79CD\\u77E5\\u8BC6\\u6765\\u6E90\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        enriched_knowledge \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" merge_knowledge\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"kb_info\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" kb_suggestions\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u8FED\\u4EE3\\u4F18\\u5316\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        refined_result \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" deepseek_r1_api\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"input_for_refinement\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" mode\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"iterative-refinement\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" has_converged\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"combined_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"break\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"final_intent\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" refined_result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"get\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"result\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u573A\\u666F\\u6848\\u4F8B\\u5957\\u9910\\u63A8\\u8350\\u4F18\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u573A\\u666F\\u6848\\u4F8B\\u5957\\u9910\\u63A8\\u8350\\u4F18\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u573A\\u666F\\u6848\\u4F8B\\uFF1A\\u5957\\u9910\\u63A8\\u8350\\u4F18\\u5316\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:'\\u{1F50D} \\u7528\\u6237\\u54A8\\u8BE2\\uFF1A\"\\u6211\\u60F3\\u7ED9\\u7236\\u6BCD\\u6362\\u4E2A\\u5957\\u9910\\uFF0C\\u4ED6\\u4EEC\\u6BCF\\u6708\\u901A\\u8BDD\\u65F6\\u957F200\\u5206\\u949F\\u5DE6\\u53F3\\uFF0C\\u5076\\u5C14\\u5237\\u89C6\\u9891\\uFF0C\\u4E3B\\u8981\\u662F\\u548C\\u5BB6\\u4EBA\\u89C6\\u9891\\u901A\\u8BDD\\uFF0C\\u9884\\u7B97150\\u5143\\u4EE5\\u5185\\u3002\"'}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F20\\u7EDF\\u5411\\u91CF\\u68C0\\u7D22\\u6A21\\u5F0F\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:'\\u63D0\\u53D6\\u5173\\u952E\\u8BCD\\uFF1A\"\\u901A\\u8BDD\\u65F6\\u957F200\\u5206\\u949F\"\\u3001\"\\u89C6\\u9891\\u901A\\u8BDD\"\\u3001\"150\\u5143\"'}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5411\\u91CF\\u68C0\\u7D22\\u5339\\u914D\\u76F8\\u4F3C\\u5957\\u9910\"}),`\n`,(0,e.jsx)(n.li,{children:'\\u7F3A\\u4E4F\\u573A\\u666F\\u7406\\u89E3\\uFF0C\\u65E0\\u6CD5\\u7406\\u89E3\"\\u7236\\u6BCD\"\\u8FD9\\u7C7B\\u7528\\u6237\\u7279\\u5F81'}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Deepseek R1 \\u601D\\u7EF4\\u94FE\\u6A21\\u5F0F\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7528\\u6237\\u753B\\u50CF\\u89E3\\u6790\"}),\"\\uFF1A\\u8001\\u5E74\\u7FA4\\u4F53(\\u7236\\u6BCD)\\u3001\\u4EE5\\u901A\\u8BDD\\u4E3A\\u4E3B\\u3001\\u9884\\u7B97\\u654F\\u611F\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u9700\\u6C42\\u5206\\u5C42\"}),\"\\uFF1A\\u6838\\u5FC3\\u9700\\u6C42(\\u901A\\u8BDD\\u7EA6200\\u5206\\u949F)\\u3001\\u6B21\\u8981\\u9700\\u6C42(\\u89C6\\u9891\\u901A\\u8BDD\\u6D41\\u91CF)\\u3001\\u4EF7\\u683C\\u4E0A\\u9650(150\\u5143)\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5957\\u9910\\u5339\\u914D\\u903B\\u8F91\"}),\"\\uFF1A\\u4F18\\u5148\\u8003\\u8651\\u8001\\u5E74\\u4E13\\u5C5E\\u5957\\u9910\\u3001\\u901A\\u8BDD\\u65F6\\u957F\\u6EE1\\u8DB3\\u9700\\u6C42\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4E2A\\u6027\\u5316\\u5EFA\\u8BAE\"}),\"\\uFF1A\\u63A8\\u8350\\u5F00\\u901A\\u4EB2\\u60C5\\u7F51\\u3001\\u5EFA\\u8BAE\\u8BBE\\u7F6E\\u6D41\\u91CF\\u63D0\\u9192\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u878D\\u5408\\u4F18\\u52BF\\u4E0E\\u6548\\u679C\\u5C55\\u671B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u878D\\u5408\\u4F18\\u52BF\\u4E0E\\u6548\\u679C\\u5C55\\u671B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u878D\\u5408\\u4F18\\u52BF\\u4E0E\\u6548\\u679C\\u5C55\\u671B\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u51C6\\u786E\\u6027\\u63D0\\u5347\"}),\"\\uFF1A\\u6DF1\\u5C42\\u8BED\\u4E49\\u89E3\\u6790\\u6709\\u52A9\\u4E8E\\u663E\\u8457\\u63D0\\u9AD8\\u610F\\u56FE\\u548C\\u5B9E\\u4F53\\u8BC6\\u522B\\u7684\\u51C6\\u786E\\u7387\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u51B3\\u7B56\\u652F\\u6301\"}),\"\\uFF1A\\u878D\\u5408\\u540E\\u7684\\u89E3\\u6790\\u7ED3\\u679C\\u53EF\\u4E3A\\u4EFB\\u52A1\\u89C4\\u5212\\u548C\\u540E\\u7EED\\u5904\\u7406\\u63D0\\u4F9B\\u66F4\\u53EF\\u9760\\u7684\\u8BED\\u4E49\\u4FE1\\u606F\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6A21\\u5757\\u7075\\u6D3B\\u6027\"}),\"\\uFF1A\\u65E0\\u8BBA\\u662F\\u4F5C\\u4E3A\\u73B0\\u6709 Agent \\u7684\\u589E\\u5F3A\\uFF0C\\u8FD8\\u662F\\u72EC\\u7ACB\\u667A\\u80FD\\u4F53\\u5B58\\u5728\\uFF0CDeepseek R1 \\u6A21\\u578B\\u5747\\u53EF\\u4EE5\\u6839\\u636E\\u4E1A\\u52A1\\u9700\\u6C42\\u7075\\u6D3B\\u8C03\\u5EA6\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u672A\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u6301\\u7EED\\u76D1\\u63A7 Deepseek R1 \\u6A21\\u578B\\u5728\\u5B9E\\u9645\\u573A\\u666F\\u4E0B\\u7684\\u8868\\u73B0\\uFF0C\\u5E76\\u6839\\u636E\\u7528\\u6237\\u53CD\\u9988\\u4E0D\\u65AD\\u4F18\\u5316\\u878D\\u5408\\u7B56\\u7565\\u3002\"})]})}function o(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(h,{...a})}):h(a)}return f(A);})();\n;return Component;"
    },
    "_id": "blog/multi-agent-autogen.md",
    "_raw": {
      "sourceFilePath": "blog/multi-agent-autogen.md",
      "sourceFileName": "multi-agent-autogen.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/multi-agent-autogen"
    },
    "type": "Blog",
    "readingTime": {
      "text": "9 min read",
      "minutes": 8.715,
      "time": 522900,
      "words": 1743
    },
    "slug": "multi-agent-autogen",
    "path": "blog/multi-agent-autogen",
    "toc": [
      {
        "value": "ğŸ” æ•´ä½“æ¶æ„è®¾è®¡",
        "url": "#-æ•´ä½“æ¶æ„è®¾è®¡",
        "depth": 2
      },
      {
        "value": "é¡¶å±‚æ§åˆ¶æ¨¡å—",
        "url": "#é¡¶å±‚æ§åˆ¶æ¨¡å—",
        "depth": 3
      },
      {
        "value": "ä¸šåŠ¡æ‰§è¡Œæ¨¡å—",
        "url": "#ä¸šåŠ¡æ‰§è¡Œæ¨¡å—",
        "depth": 3
      },
      {
        "value": "ğŸ› ï¸ æ™ºèƒ½ä½“æ¡†æ¶é€‰å‹",
        "url": "#ï¸-æ™ºèƒ½ä½“æ¡†æ¶é€‰å‹",
        "depth": 2
      },
      {
        "value": "è°ƒç ”æ–¹æ³•ä¸è¿‡ç¨‹",
        "url": "#è°ƒç ”æ–¹æ³•ä¸è¿‡ç¨‹",
        "depth": 3
      },
      {
        "value": "ä¸ºä»€ä¹ˆé€‰æ‹© AutoGen",
        "url": "#ä¸ºä»€ä¹ˆé€‰æ‹©-autogen",
        "depth": 3
      },
      {
        "value": "æ¡†æ¶å¯¹æ¯”",
        "url": "#æ¡†æ¶å¯¹æ¯”",
        "depth": 3
      },
      {
        "value": "ğŸ§  Deepseek R1 èåˆ",
        "url": "#-deepseek-r1-èåˆ",
        "depth": 2
      },
      {
        "value": "é›†æˆæ–¹æ¡ˆï¼šåŸºäºæ·±åº¦æ€è€ƒè¿‡ç¨‹çš„è®¤çŸ¥è¿­ä»£",
        "url": "#é›†æˆæ–¹æ¡ˆåŸºäºæ·±åº¦æ€è€ƒè¿‡ç¨‹çš„è®¤çŸ¥è¿­ä»£",
        "depth": 3
      },
      {
        "value": "åœºæ™¯æ¡ˆä¾‹ï¼šå¥—é¤æ¨èä¼˜åŒ–",
        "url": "#åœºæ™¯æ¡ˆä¾‹å¥—é¤æ¨èä¼˜åŒ–",
        "depth": 3
      },
      {
        "value": "èåˆä¼˜åŠ¿ä¸æ•ˆæœå±•æœ›",
        "url": "#èåˆä¼˜åŠ¿ä¸æ•ˆæœå±•æœ›",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "åŸºäº AutoGen çš„æ•°æ™ºåŠ©æ‰‹é—®ç­”æ¶æ„è®¾è®¡",
      "datePublished": "2025-02-05T00:00:00.000Z",
      "dateModified": "2025-02-05T00:00:00.000Z",
      "description": "æ·±å…¥æ¢è®¨åŸºäº AutoGen æ¡†æ¶çš„å¤šæ™ºèƒ½ä½“å¯¹è¯ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬æ„å›¾ç†è§£ã€ä»»åŠ¡è§„åˆ’åŠ Deepseek R1 èåˆæ–¹æ¡ˆã€‚",
      "url": "https://zhangjian94cn.github.io/blog/multi-agent-autogen"
    }
  },
  {
    "title": "oneDAL å…¥é—¨æŒ‡å—",
    "date": "2022-12-14T00:00:00.000Z",
    "tags": [
      "æœºå™¨å­¦ä¹ ",
      "oneDAL",
      "Intel"
    ],
    "draft": false,
    "summary": "Intel oneDAL é«˜æ€§èƒ½æ•°æ®åˆ†æåº“å…¥é—¨ï¼šä»‹ç» oneDAL çš„åŸºæœ¬æ¦‚å¿µã€å®‰è£…æ–¹æ³•åŠç¤ºä¾‹ç¼–è¯‘è¿è¡Œã€‚",
    "authors": [
      "default"
    ],
    "subtitle": "getting started",
    "body": {
      "raw": "\n> æœ¬æ–‡æ˜¯å¯¹ oneDAL çš„ä¸€ä¸ªç®€å•ä»‹ç»ï¼Œä¸»è¦å‚è€ƒ [onedal å®˜æ–¹æ–‡æ¡£](https://oneapi-src.github.io/oneDAL/index.html)\n\n## ç®€ä»‹\n\noneDAL æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„æ•°æ®åˆ†æåº“ï¼Œå…¶åŒ…å«äº†æ•°æ®åˆ†æçš„æ‰€æœ‰é˜¶æ®µï¼ˆpreprocessing, transformation, analysis, modeling, validation, and decision makingï¼‰ã€‚oneDAL æ”¯æŒæ‰¹é‡ã€åœ¨çº¿ä»¥åŠåˆ†å¸ƒå¼çš„è®¡ç®—æ¨¡å¼ï¼Œä¸»è¦æä¾›ä¸¤ç»„ C++ æ¥å£ï¼š\n\n- **oneAPI Interfaces**ï¼šåŸºäºå¼€æ”¾çš„ oneDAL è§„èŒƒï¼Œç›®å‰æ­£åœ¨ç§¯æå¼€å‘ä¸­ï¼Œå¯ä»¥åœ¨å„ç§ç¡¬ä»¶ä¸Šå·¥ä½œ\n- **DAAL Interfaces**ï¼šä»…é™äº CPU çš„æ¥å£ï¼Œæä¾›äº†å„ç§ç®—æ³•çš„å®ç°\n\n## å®‰è£…\n\n### oneAPI\n\nå®‰è£… oneDAL éœ€è¦çš„ oneAPI ä¾èµ–ï¼ŒåŒ…æ‹¬ intel-basekit intel-hpckitï¼š\n\n```bash\napt-get install -y --no-install-recommends curl ca-certificates gpg-agent software-properties-common\n\n# download the key to system keyring\nwget -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB | \\\n  gpg --dearmor | tee /usr/share/keyrings/oneapi-archive-keyring.gpg > /dev/null\n\n# add signed entry to apt sources\necho \"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\" | \\\n  tee /etc/apt/sources.list.d/oneAPI.list\n\napt update && apt install intel-basekit intel-hpckit -y\n\necho \"source /opt/intel/oneapi/compiler/latest/env/vars.sh\" >> ~/.bashrc\necho \"source /opt/intel/oneapi/tbb/latest/env/vars.sh\" >> ~/.bashrc\nsource ~/.bashrc\n```\n\n### oneDAL\n\nå¦‚æœæƒ³ä»æºç ç¼–è¯‘ oneDALï¼Œå®˜ç½‘æä¾›äº†åœ¨ä¸åŒç³»ç»Ÿç¯å¢ƒä¸‹çš„ [å®‰è£…æ•™ç¨‹](https://github.com/oneapi-src/oneDAL/blob/master/INSTALL.md)\n\n## ä¾‹ç¨‹\n\n### ç¼–è¯‘è¿è¡Œ\n\noneDAL æä¾›äº†ä¸¤ç§æ–¹å¼ç¼–è¯‘ exampleï¼šä½¿ç”¨ cmake æˆ–è€… makeã€‚\n\n#### ä½¿ç”¨ make\n\nå¦‚æœä½ å·²ç»æ·»åŠ äº† tbbã€icc ç­‰çš„ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç›´æ¥ make å¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼š\n\n```bash\nsource /opt/intel/oneapi/compiler/latest/env/vars.sh\nsource /opt/intel/oneapi/tbb/latest/env/vars.sh\n```\n\n#### ä½¿ç”¨ cmake\n\nåœ¨ä½¿ç”¨ cmake å‰ï¼Œå…ˆè®¾ç½® cmake ä½¿ç”¨çš„ç¼–è¯‘å™¨ï¼Œåœ¨ CMakeLists.txt ä¸‹æ·»åŠ ï¼š\n\n```cmake\nSET(CMAKE_C_COMPILER \"icc\")\nSET(CMAKE_CXX_COMPILER \"icpc\")\n```\n\nä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼š\n\n```bash\ncd <onedal_dir>/__release_lnx/daal/latest/examples/daal/cpp\nmkdir build && cd build\ncmake .. -DEXAMPLES_LIST=gbt_cls_dense_batch\nmake -j$(nproc)\n```\n\nè¿™æ ·ä½ å°±ä¼šåœ¨ `_cmake_results/` ä¸‹è·å¾—å¯æ‰§è¡Œæ–‡ä»¶ã€‚\n\n## ç»“è¯­\n\næœ¬æ–‡å¸¦æ‚¨äº†è§£äº† oneDAL çš„åŸºæœ¬æ¦‚å¿µï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œã€‚ç„¶è€Œï¼ŒçœŸæ­£æœ‰è¶£çš„éƒ¨åˆ†åœ¨äº oneDAL çš„å†…éƒ¨å®ç°æŠ€å·§å’Œæ€æƒ³ï¼Œæ•¬è¯·æœŸå¾…åç»­å†…å®¹ã€‚\n",
      "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var s in e)l(a,s,{get:e[s],enumerable:!0})},r=(a,e,s,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of N(e))!u.call(a,c)&&c!==s&&l(a,c,{get:()=>e[c],enumerable:!(i=m(e,c))||i.enumerable});return a};var f=(a,e,s)=>(s=a!=null?p(k(a)):{},r(e||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),A=a=>r(l({},\"__esModule\",{value:!0}),a);var o=g((v,t)=>{t.exports=_jsx_runtime});var x={};b(x,{default:()=>h,frontmatter:()=>L});var n=f(o()),L={title:\"oneDAL \\u5165\\u95E8\\u6307\\u5357\",date:\"2022-12-14\",tags:[\"\\u673A\\u5668\\u5B66\\u4E60\",\"oneDAL\",\"Intel\"],draft:!1,subtitle:\"getting started\",summary:\"Intel oneDAL \\u9AD8\\u6027\\u80FD\\u6570\\u636E\\u5206\\u6790\\u5E93\\u5165\\u95E8\\uFF1A\\u4ECB\\u7ECD oneDAL \\u7684\\u57FA\\u672C\\u6982\\u5FF5\\u3001\\u5B89\\u88C5\\u65B9\\u6CD5\\u53CA\\u793A\\u4F8B\\u7F16\\u8BD1\\u8FD0\\u884C\\u3002\",authors:[\"default\"]};function d(a){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u662F\\u5BF9 oneDAL \\u7684\\u4E00\\u4E2A\\u7B80\\u5355\\u4ECB\\u7ECD\\uFF0C\\u4E3B\\u8981\\u53C2\\u8003 \",(0,n.jsx)(e.a,{href:\"https://oneapi-src.github.io/oneDAL/index.html\",children:\"onedal \\u5B98\\u65B9\\u6587\\u6863\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,n.jsx)(e.p,{children:\"oneDAL \\u662F\\u4E00\\u4E2A\\u9AD8\\u6027\\u80FD\\u7684\\u6570\\u636E\\u5206\\u6790\\u5E93\\uFF0C\\u5176\\u5305\\u542B\\u4E86\\u6570\\u636E\\u5206\\u6790\\u7684\\u6240\\u6709\\u9636\\u6BB5\\uFF08preprocessing, transformation, analysis, modeling, validation, and decision making\\uFF09\\u3002oneDAL \\u652F\\u6301\\u6279\\u91CF\\u3001\\u5728\\u7EBF\\u4EE5\\u53CA\\u5206\\u5E03\\u5F0F\\u7684\\u8BA1\\u7B97\\u6A21\\u5F0F\\uFF0C\\u4E3B\\u8981\\u63D0\\u4F9B\\u4E24\\u7EC4 C++ \\u63A5\\u53E3\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"oneAPI Interfaces\"}),\"\\uFF1A\\u57FA\\u4E8E\\u5F00\\u653E\\u7684 oneDAL \\u89C4\\u8303\\uFF0C\\u76EE\\u524D\\u6B63\\u5728\\u79EF\\u6781\\u5F00\\u53D1\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u5728\\u5404\\u79CD\\u786C\\u4EF6\\u4E0A\\u5DE5\\u4F5C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"DAAL Interfaces\"}),\"\\uFF1A\\u4EC5\\u9650\\u4E8E CPU \\u7684\\u63A5\\u53E3\\uFF0C\\u63D0\\u4F9B\\u4E86\\u5404\\u79CD\\u7B97\\u6CD5\\u7684\\u5B9E\\u73B0\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u5B89\\u88C5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B89\\u88C5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"oneapi\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#oneapi\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"oneAPI\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5B89\\u88C5 oneDAL \\u9700\\u8981\\u7684 oneAPI \\u4F9D\\u8D56\\uFF0C\\u5305\\u62EC intel-basekit intel-hpckit\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt-get\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),\" --no-install-recommends \",(0,n.jsx)(e.span,{className:\"token function\",children:\"curl\"}),` ca-certificates gpg-agent software-properties-common\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# download the key to system keyring\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"wget\"}),\" -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gpg \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--dearmor\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),\" /usr/share/keyrings/oneapi-archive-keyring.gpg \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),` /dev/null\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# add signed entry to apt sources\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),` /etc/apt/sources.list.d/oneAPI.list\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" update \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" intel-basekit intel-hpckit \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"source /opt/intel/oneapi/compiler/latest/env/vars.sh\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>\"}),` ~/.bashrc\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"source /opt/intel/oneapi/tbb/latest/env/vars.sh\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>\"}),` ~/.bashrc\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` ~/.bashrc\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"onedal\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#onedal\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"oneDAL\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u60F3\\u4ECE\\u6E90\\u7801\\u7F16\\u8BD1 oneDAL\\uFF0C\\u5B98\\u7F51\\u63D0\\u4F9B\\u4E86\\u5728\\u4E0D\\u540C\\u7CFB\\u7EDF\\u73AF\\u5883\\u4E0B\\u7684 \",(0,n.jsx)(e.a,{href:\"https://github.com/oneapi-src/oneDAL/blob/master/INSTALL.md\",children:\"\\u5B89\\u88C5\\u6559\\u7A0B\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u4F8B\\u7A0B\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F8B\\u7A0B\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F8B\\u7A0B\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u7F16\\u8BD1\\u8FD0\\u884C\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7F16\\u8BD1\\u8FD0\\u884C\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F16\\u8BD1\\u8FD0\\u884C\"]}),`\n`,(0,n.jsx)(e.p,{children:\"oneDAL \\u63D0\\u4F9B\\u4E86\\u4E24\\u79CD\\u65B9\\u5F0F\\u7F16\\u8BD1 example\\uFF1A\\u4F7F\\u7528 cmake \\u6216\\u8005 make\\u3002\"}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u4F7F\\u7528-make\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F7F\\u7528-make\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528 make\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u4F60\\u5DF2\\u7ECF\\u6DFB\\u52A0\\u4E86 tbb\\u3001icc \\u7B49\\u7684\\u73AF\\u5883\\u53D8\\u91CF\\uFF0C\\u53EF\\u4EE5\\u76F4\\u63A5 make \\u5F97\\u5230\\u53EF\\u6267\\u884C\\u6587\\u4EF6\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` /opt/intel/oneapi/compiler/latest/env/vars.sh\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` /opt/intel/oneapi/tbb/latest/env/vars.sh\n`]})]})}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u4F7F\\u7528-cmake\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F7F\\u7528-cmake\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528 cmake\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u4F7F\\u7528 cmake \\u524D\\uFF0C\\u5148\\u8BBE\\u7F6E cmake \\u4F7F\\u7528\\u7684\\u7F16\\u8BD1\\u5668\\uFF0C\\u5728 CMakeLists.txt \\u4E0B\\u6DFB\\u52A0\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-cmake\",children:(0,n.jsxs)(e.code,{className:\"language-cmake code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"SET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"CMAKE_C_COMPILER\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"icc\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"SET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"CMAKE_CXX_COMPILER\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"icpc\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u5982\\u4E0B\\u547D\\u4EE4\\u8FDB\\u884C\\u7F16\\u8BD1\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"cd\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"onedal_dir\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`/__release_lnx/daal/latest/examples/daal/cpp\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"mkdir\"}),\" build \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"cd\"}),` build\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"cmake \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"..\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-DEXAMPLES_LIST\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`gbt_cls_dense_batch\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"make\"}),\" -j\",(0,n.jsxs)(e.span,{className:\"token variable\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$(\"}),\"nproc\",(0,n.jsx)(e.span,{className:\"token variable\",children:\")\"})]}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6837\\u4F60\\u5C31\\u4F1A\\u5728 \",(0,n.jsx)(e.code,{children:\"_cmake_results/\"}),\" \\u4E0B\\u83B7\\u5F97\\u53EF\\u6267\\u884C\\u6587\\u4EF6\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u672C\\u6587\\u5E26\\u60A8\\u4E86\\u89E3\\u4E86 oneDAL \\u7684\\u57FA\\u672C\\u6982\\u5FF5\\uFF0C\\u5E76\\u4F7F\\u7528\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u793A\\u4F8B\\u8FDB\\u884C\\u7F16\\u8BD1\\u548C\\u8FD0\\u884C\\u3002\\u7136\\u800C\\uFF0C\\u771F\\u6B63\\u6709\\u8DA3\\u7684\\u90E8\\u5206\\u5728\\u4E8E oneDAL \\u7684\\u5185\\u90E8\\u5B9E\\u73B0\\u6280\\u5DE7\\u548C\\u601D\\u60F3\\uFF0C\\u656C\\u8BF7\\u671F\\u5F85\\u540E\\u7EED\\u5185\\u5BB9\\u3002\"})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return A(x);})();\n;return Component;"
    },
    "_id": "blog/onedal-intro.md",
    "_raw": {
      "sourceFilePath": "blog/onedal-intro.md",
      "sourceFileName": "onedal-intro.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/onedal-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "3 min read",
      "minutes": 2.185,
      "time": 131100,
      "words": 437
    },
    "slug": "onedal-intro",
    "path": "blog/onedal-intro",
    "toc": [
      {
        "value": "ç®€ä»‹",
        "url": "#ç®€ä»‹",
        "depth": 2
      },
      {
        "value": "å®‰è£…",
        "url": "#å®‰è£…",
        "depth": 2
      },
      {
        "value": "oneAPI",
        "url": "#oneapi",
        "depth": 3
      },
      {
        "value": "oneDAL",
        "url": "#onedal",
        "depth": 3
      },
      {
        "value": "ä¾‹ç¨‹",
        "url": "#ä¾‹ç¨‹",
        "depth": 2
      },
      {
        "value": "ç¼–è¯‘è¿è¡Œ",
        "url": "#ç¼–è¯‘è¿è¡Œ",
        "depth": 3
      },
      {
        "value": "ä½¿ç”¨ make",
        "url": "#ä½¿ç”¨-make",
        "depth": 4
      },
      {
        "value": "ä½¿ç”¨ cmake",
        "url": "#ä½¿ç”¨-cmake",
        "depth": 4
      },
      {
        "value": "ç»“è¯­",
        "url": "#ç»“è¯­",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "oneDAL å…¥é—¨æŒ‡å—",
      "datePublished": "2022-12-14T00:00:00.000Z",
      "dateModified": "2022-12-14T00:00:00.000Z",
      "description": "Intel oneDAL é«˜æ€§èƒ½æ•°æ®åˆ†æåº“å…¥é—¨ï¼šä»‹ç» oneDAL çš„åŸºæœ¬æ¦‚å¿µã€å®‰è£…æ–¹æ³•åŠç¤ºä¾‹ç¼–è¯‘è¿è¡Œã€‚",
      "url": "https://zhangjian94cn.github.io/blog/onedal-intro"
    }
  },
  {
    "title": "RAG ç³»ç»Ÿæœ€ä½³å®è·µ",
    "date": "2026-01-20T00:00:00.000Z",
    "tags": [
      "RAG",
      "LangChain",
      "Vector DB",
      "LLM"
    ],
    "draft": false,
    "summary": "æ€»ç»“ä¼ä¸šçº§ RAG ç³»ç»Ÿå¼€å‘ä¸­çš„ç»éªŒæ•™è®­ï¼ŒåŒ…æ‹¬æ–‡æ¡£åˆ†å—ã€å‘é‡æ£€ç´¢å’Œå›ç­”ç”Ÿæˆä¼˜åŒ–ã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## ä»€ä¹ˆæ˜¯ RAG\n\nRAG (Retrieval-Augmented Generation) æ˜¯ä¸€ç§ç»“åˆæ£€ç´¢å’Œç”Ÿæˆçš„æŠ€æœ¯æ¶æ„ï¼š\n\n1. **æ£€ç´¢é˜¶æ®µ**ï¼šä»çŸ¥è¯†åº“ä¸­æ‰¾åˆ°ä¸é—®é¢˜ç›¸å…³çš„æ–‡æ¡£ç‰‡æ®µ\n2. **ç”Ÿæˆé˜¶æ®µ**ï¼šå°†æ£€ç´¢ç»“æœä½œä¸ºä¸Šä¸‹æ–‡ï¼Œè®© LLM ç”Ÿæˆå›ç­”\n\n## æ ¸å¿ƒç»„ä»¶\n\n### æ–‡æ¡£åˆ†å—ç­–ç•¥\n\nåˆ†å—è´¨é‡ç›´æ¥å½±å“æ£€ç´¢æ•ˆæœï¼š\n\n```python\nfrom langchain.text_splitter import RecursiveCharacterTextSplitter\n\nsplitter = RecursiveCharacterTextSplitter(\n    chunk_size=500,\n    chunk_overlap=50,\n    separators=[\"\\n\\n\", \"\\n\", \"ã€‚\", \"ï¼\", \"ï¼Ÿ\"]\n)\n```\n\n**ç»éªŒæ•™è®­**ï¼š\n\n- ä¸­æ–‡åœºæ™¯ä¸‹ï¼ŒæŒ‰å¥å­åˆ†å‰²æ¯”æŒ‰å­—ç¬¦æ›´æœ‰æ•ˆ\n- overlap è®¾ç½®ä¸º chunk_size çš„ 10% å·¦å³\n- ä¿ç•™æ–‡æ¡£ç»“æ„ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€å±‚çº§ï¼‰\n\n### å‘é‡å­˜å‚¨é€‰æ‹©\n\n| æ–¹æ¡ˆ     | ä¼˜åŠ¿           | é€‚ç”¨åœºæ™¯         |\n| -------- | -------------- | ---------------- |\n| Chroma   | è½»é‡ã€æ˜“ç”¨     | æœ¬åœ°å¼€å‘ã€å°è§„æ¨¡ |\n| Milvus   | é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼ | ç”Ÿäº§ç¯å¢ƒã€å¤§è§„æ¨¡ |\n| Pinecone | å…¨æ‰˜ç®¡         | å¿«é€Ÿä¸Šçº¿ã€æ— è¿ç»´ |\n\n### æ£€ç´¢ä¼˜åŒ–\n\næ··åˆæ£€ç´¢æ•ˆæœæœ€ä½³ï¼š\n\n```python\nfrom langchain.retrievers import EnsembleRetriever\n\n# è¯­ä¹‰æ£€ç´¢ + å…³é”®è¯æ£€ç´¢\nensemble = EnsembleRetriever(\n    retrievers=[vector_retriever, bm25_retriever],\n    weights=[0.7, 0.3]\n)\n```\n\n## ç”Ÿäº§å®è·µ\n\n### è¯„ä¼°æŒ‡æ ‡\n\n- **å¬å›ç‡**: ç›¸å…³æ–‡æ¡£æ˜¯å¦è¢«æ£€ç´¢åˆ°\n- **å‡†ç¡®ç‡**: å›ç­”æ˜¯å¦æ­£ç¡®\n- **å¹»è§‰ç‡**: æ˜¯å¦ç¼–é€ ä¸å­˜åœ¨çš„ä¿¡æ¯\n\n### å¸¸è§é—®é¢˜\n\n1. **æ£€ç´¢åˆ°ä½†ç­”æ¡ˆä¸å¯¹** â†’ ä¼˜åŒ– Prompt\n2. **ç›¸å…³æ–‡æ¡£æ£€ç´¢ä¸åˆ°** â†’ è°ƒæ•´åˆ†å—ç­–ç•¥\n3. **å›ç­”å¤ªå•°å—¦** â†’ é™åˆ¶è¾“å‡ºé•¿åº¦\n\n## æ€»ç»“\n\nRAG ä¸æ˜¯é“¶å¼¹ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯æŒç»­ä¼˜åŒ–ã€‚å…³é”®æ˜¯å»ºç«‹å®Œå–„çš„è¯„ä¼°ä½“ç³»ã€‚\n",
      "code": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),b=(a,n)=>{for(var c in n)s(a,c,{get:n[c],enumerable:!0})},i=(a,n,c,r)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let l of u(n))!k.call(a,l)&&l!==c&&s(a,l,{get:()=>n[l],enumerable:!(r=m(n,l))||r.enumerable});return a};var x=(a,n,c)=>(c=a!=null?p(N(a)):{},i(n||!a||!a.__esModule?s(c,\"default\",{value:a,enumerable:!0}):c,a)),f=a=>i(s({},\"__esModule\",{value:!0}),a);var d=g((R,t)=>{t.exports=_jsx_runtime});var y={};b(y,{default:()=>o,frontmatter:()=>v});var e=x(d()),v={title:\"RAG \\u7CFB\\u7EDF\\u6700\\u4F73\\u5B9E\\u8DF5\",date:\"2026-01-20\",tags:[\"RAG\",\"LangChain\",\"Vector DB\",\"LLM\"],draft:!1,summary:\"\\u603B\\u7ED3\\u4F01\\u4E1A\\u7EA7 RAG \\u7CFB\\u7EDF\\u5F00\\u53D1\\u4E2D\\u7684\\u7ECF\\u9A8C\\u6559\\u8BAD\\uFF0C\\u5305\\u62EC\\u6587\\u6863\\u5206\\u5757\\u3001\\u5411\\u91CF\\u68C0\\u7D22\\u548C\\u56DE\\u7B54\\u751F\\u6210\\u4F18\\u5316\\u3002\",authors:[\"default\"]};function h(a){let n={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u4EC0\\u4E48\\u662F-rag\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4EC0\\u4E48\\u662F-rag\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4EC0\\u4E48\\u662F RAG\"]}),`\n`,(0,e.jsx)(n.p,{children:\"RAG (Retrieval-Augmented Generation) \\u662F\\u4E00\\u79CD\\u7ED3\\u5408\\u68C0\\u7D22\\u548C\\u751F\\u6210\\u7684\\u6280\\u672F\\u67B6\\u6784\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u68C0\\u7D22\\u9636\\u6BB5\"}),\"\\uFF1A\\u4ECE\\u77E5\\u8BC6\\u5E93\\u4E2D\\u627E\\u5230\\u4E0E\\u95EE\\u9898\\u76F8\\u5173\\u7684\\u6587\\u6863\\u7247\\u6BB5\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u751F\\u6210\\u9636\\u6BB5\"}),\"\\uFF1A\\u5C06\\u68C0\\u7D22\\u7ED3\\u679C\\u4F5C\\u4E3A\\u4E0A\\u4E0B\\u6587\\uFF0C\\u8BA9 LLM \\u751F\\u6210\\u56DE\\u7B54\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6838\\u5FC3\\u7EC4\\u4EF6\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6838\\u5FC3\\u7EC4\\u4EF6\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6838\\u5FC3\\u7EC4\\u4EF6\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u6587\\u6863\\u5206\\u5757\\u7B56\\u7565\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6587\\u6863\\u5206\\u5757\\u7B56\\u7565\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6587\\u6863\\u5206\\u5757\\u7B56\\u7565\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5206\\u5757\\u8D28\\u91CF\\u76F4\\u63A5\\u5F71\\u54CD\\u68C0\\u7D22\\u6548\\u679C\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" langchain\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"text_splitter \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),` RecursiveCharacterTextSplitter\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"splitter \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" RecursiveCharacterTextSplitter\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    chunk_size\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"500\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    chunk_overlap\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"50\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    separators\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\\\n\\\\n\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\\\n\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\u3002\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\uFF01\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\uFF1F\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u7ECF\\u9A8C\\u6559\\u8BAD\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u4E2D\\u6587\\u573A\\u666F\\u4E0B\\uFF0C\\u6309\\u53E5\\u5B50\\u5206\\u5272\\u6BD4\\u6309\\u5B57\\u7B26\\u66F4\\u6709\\u6548\"}),`\n`,(0,e.jsx)(n.li,{children:\"overlap \\u8BBE\\u7F6E\\u4E3A chunk_size \\u7684 10% \\u5DE6\\u53F3\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4FDD\\u7559\\u6587\\u6863\\u7ED3\\u6784\\u4FE1\\u606F\\uFF08\\u6807\\u9898\\u3001\\u5C42\\u7EA7\\uFF09\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5411\\u91CF\\u5B58\\u50A8\\u9009\\u62E9\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5411\\u91CF\\u5B58\\u50A8\\u9009\\u62E9\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5411\\u91CF\\u5B58\\u50A8\\u9009\\u62E9\"]}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u65B9\\u6848\"}),(0,e.jsx)(n.th,{children:\"\\u4F18\\u52BF\"}),(0,e.jsx)(n.th,{children:\"\\u9002\\u7528\\u573A\\u666F\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Chroma\"}),(0,e.jsx)(n.td,{children:\"\\u8F7B\\u91CF\\u3001\\u6613\\u7528\"}),(0,e.jsx)(n.td,{children:\"\\u672C\\u5730\\u5F00\\u53D1\\u3001\\u5C0F\\u89C4\\u6A21\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Milvus\"}),(0,e.jsx)(n.td,{children:\"\\u9AD8\\u6027\\u80FD\\u3001\\u5206\\u5E03\\u5F0F\"}),(0,e.jsx)(n.td,{children:\"\\u751F\\u4EA7\\u73AF\\u5883\\u3001\\u5927\\u89C4\\u6A21\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Pinecone\"}),(0,e.jsx)(n.td,{children:\"\\u5168\\u6258\\u7BA1\"}),(0,e.jsx)(n.td,{children:\"\\u5FEB\\u901F\\u4E0A\\u7EBF\\u3001\\u65E0\\u8FD0\\u7EF4\"})]})]})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u68C0\\u7D22\\u4F18\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u68C0\\u7D22\\u4F18\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u68C0\\u7D22\\u4F18\\u5316\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6DF7\\u5408\\u68C0\\u7D22\\u6548\\u679C\\u6700\\u4F73\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" langchain\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"retrievers \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),` EnsembleRetriever\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u8BED\\u4E49\\u68C0\\u7D22 + \\u5173\\u952E\\u8BCD\\u68C0\\u7D22\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"ensemble \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" EnsembleRetriever\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    retrievers\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"vector_retriever\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" bm25_retriever\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    weights\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0.7\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0.3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u751F\\u4EA7\\u5B9E\\u8DF5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u751F\\u4EA7\\u5B9E\\u8DF5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u751F\\u4EA7\\u5B9E\\u8DF5\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u8BC4\\u4F30\\u6307\\u6807\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8BC4\\u4F30\\u6307\\u6807\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u8BC4\\u4F30\\u6307\\u6807\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u53EC\\u56DE\\u7387\"}),\": \\u76F8\\u5173\\u6587\\u6863\\u662F\\u5426\\u88AB\\u68C0\\u7D22\\u5230\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u51C6\\u786E\\u7387\"}),\": \\u56DE\\u7B54\\u662F\\u5426\\u6B63\\u786E\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5E7B\\u89C9\\u7387\"}),\": \\u662F\\u5426\\u7F16\\u9020\\u4E0D\\u5B58\\u5728\\u7684\\u4FE1\\u606F\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5E38\\u89C1\\u95EE\\u9898\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5E38\\u89C1\\u95EE\\u9898\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5E38\\u89C1\\u95EE\\u9898\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u68C0\\u7D22\\u5230\\u4F46\\u7B54\\u6848\\u4E0D\\u5BF9\"}),\" \\u2192 \\u4F18\\u5316 Prompt\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u76F8\\u5173\\u6587\\u6863\\u68C0\\u7D22\\u4E0D\\u5230\"}),\" \\u2192 \\u8C03\\u6574\\u5206\\u5757\\u7B56\\u7565\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u56DE\\u7B54\\u592A\\u5570\\u55E6\"}),\" \\u2192 \\u9650\\u5236\\u8F93\\u51FA\\u957F\\u5EA6\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u603B\\u7ED3\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u603B\\u7ED3\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u603B\\u7ED3\"]}),`\n`,(0,e.jsx)(n.p,{children:\"RAG \\u4E0D\\u662F\\u94F6\\u5F39\\uFF0C\\u9700\\u8981\\u6839\\u636E\\u4E1A\\u52A1\\u573A\\u666F\\u6301\\u7EED\\u4F18\\u5316\\u3002\\u5173\\u952E\\u662F\\u5EFA\\u7ACB\\u5B8C\\u5584\\u7684\\u8BC4\\u4F30\\u4F53\\u7CFB\\u3002\"})]})}function o(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(h,{...a})}):h(a)}return f(y);})();\n;return Component;"
    },
    "_id": "blog/rag-best-practices.md",
    "_raw": {
      "sourceFilePath": "blog/rag-best-practices.md",
      "sourceFileName": "rag-best-practices.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/rag-best-practices"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.82,
      "time": 109200,
      "words": 364
    },
    "slug": "rag-best-practices",
    "path": "blog/rag-best-practices",
    "toc": [
      {
        "value": "ä»€ä¹ˆæ˜¯ RAG",
        "url": "#ä»€ä¹ˆæ˜¯-rag",
        "depth": 2
      },
      {
        "value": "æ ¸å¿ƒç»„ä»¶",
        "url": "#æ ¸å¿ƒç»„ä»¶",
        "depth": 2
      },
      {
        "value": "æ–‡æ¡£åˆ†å—ç­–ç•¥",
        "url": "#æ–‡æ¡£åˆ†å—ç­–ç•¥",
        "depth": 3
      },
      {
        "value": "å‘é‡å­˜å‚¨é€‰æ‹©",
        "url": "#å‘é‡å­˜å‚¨é€‰æ‹©",
        "depth": 3
      },
      {
        "value": "æ£€ç´¢ä¼˜åŒ–",
        "url": "#æ£€ç´¢ä¼˜åŒ–",
        "depth": 3
      },
      {
        "value": "ç”Ÿäº§å®è·µ",
        "url": "#ç”Ÿäº§å®è·µ",
        "depth": 2
      },
      {
        "value": "è¯„ä¼°æŒ‡æ ‡",
        "url": "#è¯„ä¼°æŒ‡æ ‡",
        "depth": 3
      },
      {
        "value": "å¸¸è§é—®é¢˜",
        "url": "#å¸¸è§é—®é¢˜",
        "depth": 3
      },
      {
        "value": "æ€»ç»“",
        "url": "#æ€»ç»“",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "RAG ç³»ç»Ÿæœ€ä½³å®è·µ",
      "datePublished": "2026-01-20T00:00:00.000Z",
      "dateModified": "2026-01-20T00:00:00.000Z",
      "description": "æ€»ç»“ä¼ä¸šçº§ RAG ç³»ç»Ÿå¼€å‘ä¸­çš„ç»éªŒæ•™è®­ï¼ŒåŒ…æ‹¬æ–‡æ¡£åˆ†å—ã€å‘é‡æ£€ç´¢å’Œå›ç­”ç”Ÿæˆä¼˜åŒ–ã€‚",
      "url": "https://zhangjian94cn.github.io/blog/rag-best-practices"
    }
  },
  {
    "title": "å¼ºåŒ–å­¦ä¹ åŸºç¡€ï¼ˆ1ï¼‰",
    "date": "2023-03-14T00:00:00.000Z",
    "tags": [
      "å¼ºåŒ–å­¦ä¹ ",
      "æ·±åº¦å­¦ä¹ ",
      "DQN"
    ],
    "draft": false,
    "summary": "å¼ºåŒ–å­¦ä¹ å…¥é—¨ï¼šä»‹ç» Agentã€Environmentã€Policy ç­‰åŸºæœ¬æ¦‚å¿µï¼Œä»¥åŠ DQNã€Policy Network å’Œ Actor-Critic æ–¹æ³•ã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## Introduction\n\n**æ™ºèƒ½ä½“ï¼ˆAgentï¼‰**æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæ„ŸçŸ¥**ç¯å¢ƒï¼ˆEnvironmentï¼‰**ä¸­çš„**çŠ¶æ€ï¼ˆStateï¼‰**å¹¶é‡‡å–**åŠ¨ä½œï¼ˆActionï¼‰**çš„å®ä½“ã€‚æ™ºèƒ½ä½“çš„ç›®æ ‡æ˜¯åœ¨æŸäº›æ—¶é—´æ­¥ä¸­ï¼Œä»¥æœ€å¤§åŒ–çš„**æ€»å›æŠ¥æˆ–å¥–åŠ±ï¼ˆRewardï¼‰**å®Œæˆä»»åŠ¡ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæ™ºèƒ½ä½“éœ€è¦åˆ©ç”¨ä¹‹å‰çš„ç»éªŒå’Œå½“å‰çš„ä¿¡æ¯æ¥é€‰æ‹©æœ€ä½³çš„åŠ¨ä½œï¼Œè¿™ä¸ªé€‰æ‹©è¿‡ç¨‹æ ¹æ®**ç­–ç•¥ï¼ˆPolicyï¼‰**æ¥æ‰§è¡Œã€‚\n\n- **Agent**ï¼šæ™ºèƒ½ä½“ï¼Œç›®æ ‡æ˜¯è·å¾—æœ€å¤§åŒ–çš„å›æŠ¥ï¼ˆrewardï¼‰\n- **Environment**ï¼šç¯å¢ƒï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„çŠ¶æ€ã€åŠ¨ä½œã€å¥–åŠ±å’Œè½¬ç§»è§„åˆ™\n- **Policy**ï¼šç­–ç•¥ï¼Œå°†å½“å‰çŠ¶æ€æ˜ å°„åˆ°åŠ¨ä½œçš„æ¦‚ç‡åˆ†å¸ƒ\n- **Action**ï¼šåŠ¨ä½œï¼Œæ™ºèƒ½ä½“åœ¨ç¯å¢ƒä¸­æ‰§è¡Œçš„è¡Œä¸º\n- **Reward**ï¼šå¥–åŠ±ï¼Œè¡¨ç¤ºæ™ºèƒ½ä½“è¡Œä¸ºè‰¯å¥½æˆ–ä¸è‰¯çš„é‡åŒ–åé¦ˆå€¼\n\n## Key Concepts\n\n### Reward Function\n\nå›æŠ¥å‡½æ•°å®šä¹‰ä¸ºä»æ—¶åˆ» t å¼€å§‹çš„æŠ˜æ‰£ç´¯ç§¯å¥–åŠ±ï¼š\n\n`R_t = Î£ Î³^(i-t) Ã— r_i`\n\nå…¶ä¸­ï¼ŒR_t è¡¨ç¤ºåœ¨æ—¶é—´ t çš„å›æŠ¥å€¼ï¼ŒÎ³ âˆˆ [0,1] æ˜¯æŠ˜æ‰£å› å­ï¼Œè¡¨ç¤ºå¯¹æœªæ¥å¥–åŠ±çš„é‡è§†ç¨‹åº¦ã€‚\n\n### Action-Value Function\n\nåŠ¨ä½œä»·å€¼å‡½æ•°ç”¨æ¥è¡¡é‡æ™ºèƒ½ä½“åœ¨æŸä¸ªçŠ¶æ€ä¸‹æ‰§è¡ŒæŸä¸ªåŠ¨ä½œåéµå¾ªæŸä¸ªç­–ç•¥æ‰€èƒ½è·å¾—çš„æœŸæœ›é•¿æœŸå›æŠ¥ï¼š\n\n`Q_Ï€(s, a) = E[R_{t+1} + Î³ Ã— Q(S_{t+1}, A_{t+1}) | S_t = s, A_t = a]`\n\næœ€ä¼˜åŠ¨ä½œä»·å€¼å‡½æ•°ï¼š\n\n`Q*(s,a) = max_Ï€ Q_Ï€(s,a)`\n\n### State-Value Function\n\nçŠ¶æ€ä»·å€¼å‡½æ•°è¡¡é‡æ™ºèƒ½ä½“åœ¨æŸä¸ªçŠ¶æ€ä¸‹éµå¾ªæŸä¸ªç­–ç•¥åæ‰€èƒ½è·å¾—çš„æœŸæœ›é•¿æœŸå›æŠ¥ï¼š\n\n`V_Ï€(s) = E[R_{t+1} + Î³ Ã— V(S_{t+1}) | S_t = s]`\n\n## Deep Q-Network (Value-Based)\n\nDeep Q-Network ç”¨ç¥ç»ç½‘ç»œæ¥è¿‘ä¼¼ Q*(s, a)ã€‚DQN çš„ç›®æ ‡æ˜¯è®©ç¥ç»ç½‘ç»œè¾“å‡ºçš„ Q å€¼å°½å¯èƒ½æ¥è¿‘ Q* å€¼ï¼Œä»è€Œåœ¨æ¯ä¸ªçŠ¶æ€ä¸‹é€‰æ‹©èƒ½å¤Ÿä½¿é•¿æœŸå›æŠ¥æœ€å¤§åŒ–çš„åŠ¨ä½œã€‚\n\næŸå¤±å‡½æ•°ï¼š\n\n`L(Î¸) = E[(r + Î³ Ã— max_a' Q(s',a';Î¸â») - Q(s,a;Î¸))Â²]`\n\nå…¶ä¸­ï¼š\n\n- Î¸ æ˜¯ç¥ç»ç½‘ç»œçš„å‚æ•°\n- Î¸â» æ˜¯ç›®æ ‡ç½‘ç»œçš„å‚æ•°\n- D æ˜¯ç»éªŒå›æ”¾çš„ç¼“å­˜\n- Î³ æ˜¯æŠ˜æ‰£å› å­\n\n> DQN æŸå¤±å‡½æ•°çš„è®¾è®¡ç”¨åˆ°äº† Temporal Difference Learningï¼Œæ ¹æ®å½“å‰çŠ¶æ€å’ŒåŠ¨ä½œçš„ä»·å€¼å‡½æ•°ä¼°è®¡å’Œä¸‹ä¸€ä¸ªçŠ¶æ€çš„æœ€ä¼˜åŠ¨ä½œçš„ä»·å€¼å‡½æ•°ä¼°è®¡æ¥è®¡ç®— TD è¯¯å·®ã€‚\n\n## Policy Network (Policy-Based)\n\nPolicy Network ä½¿ç”¨ä¸€ä¸ªç¥ç»ç½‘ç»œæ¥ç›´æ¥è¾“å‡ºç»™å®šçŠ¶æ€ä¸‹çš„åŠ¨ä½œæ¦‚ç‡åˆ†å¸ƒã€‚\n\n**ä¼˜ç‚¹**ï¼š\n\n- å¯ä»¥å¤„ç†è¿ç»­åŠ¨ä½œç©ºé—´å’Œé«˜ç»´çŠ¶æ€ç©ºé—´\n- å¯ä»¥é¿å…æœ€å¤§åŒ–è¯¯å·®çš„ç´¯ç§¯\n\nçŠ¶æ€ä»·å€¼å‡½æ•°å’ŒçŠ¶æ€-åŠ¨ä½œä»·å€¼å‡½æ•°ä¹‹é—´çš„å…³ç³»ä¸ºï¼š\n\n`V_Ï€(s) = Î£ Ï€_Î¸(a|s) Ã— Q_Ï€(s,a)`\n\nå³åœ¨ä¸åŒç­–ç•¥æ¦‚ç‡ä¸‹ Q çš„æœŸæœ›ã€‚åœ¨ Policy Network ä¸­ï¼Œæˆ‘ä»¬æœ€å¤§åŒ–çŠ¶æ€ä»·å€¼å‡½æ•° V_Ï€(s)ã€‚\n\n## Actor-Critic Methods\n\nActor-Critic Methods ç»“åˆäº† Value-Based Methods ä»¥åŠ Policy-Based Methodsï¼Œä¸ä»…è·å¾—äº†ä¸¤ç§æ–¹æ³•çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶ä¹Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…äº†ï¼š\n\n1. **Value-Based çš„é—®é¢˜**ï¼šé«˜åå·®ï¼ˆHigh biasï¼‰ï¼Œä¸èƒ½ç›´æ¥å¾—åˆ°åŠ¨ä½œå€¼è¾“å‡ºï¼Œéš¾ä»¥ç”¨äºè¿ç»­åŠ¨ä½œç©ºé—´\n2. **Policy-Based çš„é—®é¢˜**ï¼šé«˜æ–¹å·®ï¼ˆHigh Varianceï¼‰ï¼Œè®­ç»ƒä¸ç¨³å®šï¼Œç­–ç•¥æ”¶æ•›å›°éš¾\n\nå®ƒåŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼š\n\n- **Actor**ï¼šç­–ç•¥ç½‘ç»œ Ï€_Î¸(a|s)ï¼Œè¾“å…¥çŠ¶æ€ï¼Œè¾“å‡ºåŠ¨ä½œ\n- **Critic**ï¼šä»·å€¼ç½‘ç»œï¼Œè¾“å…¥çŠ¶æ€æˆ–çŠ¶æ€-åŠ¨ä½œå¯¹ï¼Œè¾“å‡ºä»·å€¼å‡½æ•° V_w(s) æˆ– Q_w(s, a)\n\n## Conclusion\n\nåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº† RL åŸºæœ¬æµç¨‹ä¸ä¸€äº›å…³é”®æ€§æ¦‚å¿µï¼ŒåŒ…æ‹¬å›æŠ¥å‡½æ•°ï¼ˆReward Functionï¼‰ï¼ŒçŠ¶æ€ä»·å€¼å‡½æ•°ï¼ˆState-Value Functionï¼‰ä»¥åŠåŠ¨ä½œä»·å€¼å‡½æ•°ï¼ˆAction-Value Functionï¼‰ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜ä»‹ç»äº† Value-Based Methods ä»¥åŠ Policy-Based Methodsï¼Œæ›´è¿›ä¸€æ­¥ï¼ŒActor-Critic Methods ç»“åˆäº†ä¸¤ç§æ–¹æ¡ˆï¼Œå¹¶è·å¾—äº†ç›¸å¯¹æ›´ä¼˜çš„æ•ˆæœã€‚\n",
      "code": "var Component=(()=>{var u=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var _=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var g=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports),f=(i,n)=>{for(var c in n)t(i,c,{get:n[c],enumerable:!0})},d=(i,n,c,l)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let r of m(n))!N.call(i,r)&&r!==c&&t(i,r,{get:()=>n[r],enumerable:!(l=p(n,r))||l.enumerable});return i};var k=(i,n,c)=>(c=i!=null?u(_(i)):{},d(n||!i||!i.__esModule?t(c,\"default\",{value:i,enumerable:!0}):c,i)),w=i=>d(t({},\"__esModule\",{value:!0}),i);var o=g((b,a)=>{a.exports=_jsx_runtime});var y={};f(y,{default:()=>s,frontmatter:()=>x});var e=k(o()),x={title:\"\\u5F3A\\u5316\\u5B66\\u4E60\\u57FA\\u7840\\uFF081\\uFF09\",date:\"2023-03-14\",tags:[\"\\u5F3A\\u5316\\u5B66\\u4E60\",\"\\u6DF1\\u5EA6\\u5B66\\u4E60\",\"DQN\"],draft:!1,summary:\"\\u5F3A\\u5316\\u5B66\\u4E60\\u5165\\u95E8\\uFF1A\\u4ECB\\u7ECD Agent\\u3001Environment\\u3001Policy \\u7B49\\u57FA\\u672C\\u6982\\u5FF5\\uFF0C\\u4EE5\\u53CA DQN\\u3001Policy Network \\u548C Actor-Critic \\u65B9\\u6CD5\\u3002\",authors:[\"default\"]};function h(i){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...i.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"introduction\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#introduction\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"**\\u667A\\u80FD\\u4F53\\uFF08Agent\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u662F\\u4E00\\u4E2A\\u80FD\\u591F\\u611F\\u77E5\"}),\"\\u73AF\\u5883\\uFF08Environment\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u4E2D\\u7684\"}),\"\\u72B6\\u6001\\uFF08State\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u5E76\\u91C7\\u53D6\"}),\"\\u52A8\\u4F5C\\uFF08Action\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u7684\\u5B9E\\u4F53\\u3002\\u667A\\u80FD\\u4F53\\u7684\\u76EE\\u6807\\u662F\\u5728\\u67D0\\u4E9B\\u65F6\\u95F4\\u6B65\\u4E2D\\uFF0C\\u4EE5\\u6700\\u5927\\u5316\\u7684\"}),\"\\u603B\\u56DE\\u62A5\\u6216\\u5956\\u52B1\\uFF08Reward\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u5B8C\\u6210\\u4EFB\\u52A1\\u3002\\u4E3A\\u4E86\\u5B9E\\u73B0\\u8FD9\\u4E2A\\u76EE\\u6807\\uFF0C\\u667A\\u80FD\\u4F53\\u9700\\u8981\\u5229\\u7528\\u4E4B\\u524D\\u7684\\u7ECF\\u9A8C\\u548C\\u5F53\\u524D\\u7684\\u4FE1\\u606F\\u6765\\u9009\\u62E9\\u6700\\u4F73\\u7684\\u52A8\\u4F5C\\uFF0C\\u8FD9\\u4E2A\\u9009\\u62E9\\u8FC7\\u7A0B\\u6839\\u636E\"}),\"\\u7B56\\u7565\\uFF08Policy\\uFF09**\\u6765\\u6267\\u884C\\u3002\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Agent\"}),\"\\uFF1A\\u667A\\u80FD\\u4F53\\uFF0C\\u76EE\\u6807\\u662F\\u83B7\\u5F97\\u6700\\u5927\\u5316\\u7684\\u56DE\\u62A5\\uFF08reward\\uFF09\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Environment\"}),\"\\uFF1A\\u73AF\\u5883\\uFF0C\\u5305\\u62EC\\u6240\\u6709\\u7684\\u72B6\\u6001\\u3001\\u52A8\\u4F5C\\u3001\\u5956\\u52B1\\u548C\\u8F6C\\u79FB\\u89C4\\u5219\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Policy\"}),\"\\uFF1A\\u7B56\\u7565\\uFF0C\\u5C06\\u5F53\\u524D\\u72B6\\u6001\\u6620\\u5C04\\u5230\\u52A8\\u4F5C\\u7684\\u6982\\u7387\\u5206\\u5E03\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Action\"}),\"\\uFF1A\\u52A8\\u4F5C\\uFF0C\\u667A\\u80FD\\u4F53\\u5728\\u73AF\\u5883\\u4E2D\\u6267\\u884C\\u7684\\u884C\\u4E3A\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Reward\"}),\"\\uFF1A\\u5956\\u52B1\\uFF0C\\u8868\\u793A\\u667A\\u80FD\\u4F53\\u884C\\u4E3A\\u826F\\u597D\\u6216\\u4E0D\\u826F\\u7684\\u91CF\\u5316\\u53CD\\u9988\\u503C\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"key-concepts\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#key-concepts\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Key Concepts\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"reward-function\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#reward-function\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Reward Function\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u56DE\\u62A5\\u51FD\\u6570\\u5B9A\\u4E49\\u4E3A\\u4ECE\\u65F6\\u523B t \\u5F00\\u59CB\\u7684\\u6298\\u6263\\u7D2F\\u79EF\\u5956\\u52B1\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"R_t = \\u03A3 \\u03B3^(i-t) \\xD7 r_i\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5176\\u4E2D\\uFF0CR_t \\u8868\\u793A\\u5728\\u65F6\\u95F4 t \\u7684\\u56DE\\u62A5\\u503C\\uFF0C\\u03B3 \\u2208 [0,1] \\u662F\\u6298\\u6263\\u56E0\\u5B50\\uFF0C\\u8868\\u793A\\u5BF9\\u672A\\u6765\\u5956\\u52B1\\u7684\\u91CD\\u89C6\\u7A0B\\u5EA6\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"action-value-function\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#action-value-function\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Action-Value Function\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u52A8\\u4F5C\\u4EF7\\u503C\\u51FD\\u6570\\u7528\\u6765\\u8861\\u91CF\\u667A\\u80FD\\u4F53\\u5728\\u67D0\\u4E2A\\u72B6\\u6001\\u4E0B\\u6267\\u884C\\u67D0\\u4E2A\\u52A8\\u4F5C\\u540E\\u9075\\u5FAA\\u67D0\\u4E2A\\u7B56\\u7565\\u6240\\u80FD\\u83B7\\u5F97\\u7684\\u671F\\u671B\\u957F\\u671F\\u56DE\\u62A5\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"Q_\\u03C0(s, a) = E[R_{t+1} + \\u03B3 \\xD7 Q(S_{t+1}, A_{t+1}) | S_t = s, A_t = a]\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6700\\u4F18\\u52A8\\u4F5C\\u4EF7\\u503C\\u51FD\\u6570\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"Q*(s,a) = max_\\u03C0 Q_\\u03C0(s,a)\"})}),`\n`,(0,e.jsxs)(n.h3,{id:\"state-value-function\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#state-value-function\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"State-Value Function\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u72B6\\u6001\\u4EF7\\u503C\\u51FD\\u6570\\u8861\\u91CF\\u667A\\u80FD\\u4F53\\u5728\\u67D0\\u4E2A\\u72B6\\u6001\\u4E0B\\u9075\\u5FAA\\u67D0\\u4E2A\\u7B56\\u7565\\u540E\\u6240\\u80FD\\u83B7\\u5F97\\u7684\\u671F\\u671B\\u957F\\u671F\\u56DE\\u62A5\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"V_\\u03C0(s) = E[R_{t+1} + \\u03B3 \\xD7 V(S_{t+1}) | S_t = s]\"})}),`\n`,(0,e.jsxs)(n.h2,{id:\"deep-q-network-value-based\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#deep-q-network-value-based\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Deep Q-Network (Value-Based)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Deep Q-Network \\u7528\\u795E\\u7ECF\\u7F51\\u7EDC\\u6765\\u8FD1\\u4F3C Q*(s, a)\\u3002DQN \\u7684\\u76EE\\u6807\\u662F\\u8BA9\\u795E\\u7ECF\\u7F51\\u7EDC\\u8F93\\u51FA\\u7684 Q \\u503C\\u5C3D\\u53EF\\u80FD\\u63A5\\u8FD1 Q* \\u503C\\uFF0C\\u4ECE\\u800C\\u5728\\u6BCF\\u4E2A\\u72B6\\u6001\\u4E0B\\u9009\\u62E9\\u80FD\\u591F\\u4F7F\\u957F\\u671F\\u56DE\\u62A5\\u6700\\u5927\\u5316\\u7684\\u52A8\\u4F5C\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u635F\\u5931\\u51FD\\u6570\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"L(\\u03B8) = E[(r + \\u03B3 \\xD7 max_a' Q(s',a';\\u03B8\\u207B) - Q(s,a;\\u03B8))\\xB2]\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5176\\u4E2D\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u03B8 \\u662F\\u795E\\u7ECF\\u7F51\\u7EDC\\u7684\\u53C2\\u6570\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u03B8\\u207B \\u662F\\u76EE\\u6807\\u7F51\\u7EDC\\u7684\\u53C2\\u6570\"}),`\n`,(0,e.jsx)(n.li,{children:\"D \\u662F\\u7ECF\\u9A8C\\u56DE\\u653E\\u7684\\u7F13\\u5B58\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u03B3 \\u662F\\u6298\\u6263\\u56E0\\u5B50\"}),`\n`]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"DQN \\u635F\\u5931\\u51FD\\u6570\\u7684\\u8BBE\\u8BA1\\u7528\\u5230\\u4E86 Temporal Difference Learning\\uFF0C\\u6839\\u636E\\u5F53\\u524D\\u72B6\\u6001\\u548C\\u52A8\\u4F5C\\u7684\\u4EF7\\u503C\\u51FD\\u6570\\u4F30\\u8BA1\\u548C\\u4E0B\\u4E00\\u4E2A\\u72B6\\u6001\\u7684\\u6700\\u4F18\\u52A8\\u4F5C\\u7684\\u4EF7\\u503C\\u51FD\\u6570\\u4F30\\u8BA1\\u6765\\u8BA1\\u7B97 TD \\u8BEF\\u5DEE\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"policy-network-policy-based\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#policy-network-policy-based\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Policy Network (Policy-Based)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Policy Network \\u4F7F\\u7528\\u4E00\\u4E2A\\u795E\\u7ECF\\u7F51\\u7EDC\\u6765\\u76F4\\u63A5\\u8F93\\u51FA\\u7ED9\\u5B9A\\u72B6\\u6001\\u4E0B\\u7684\\u52A8\\u4F5C\\u6982\\u7387\\u5206\\u5E03\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u53EF\\u4EE5\\u5904\\u7406\\u8FDE\\u7EED\\u52A8\\u4F5C\\u7A7A\\u95F4\\u548C\\u9AD8\\u7EF4\\u72B6\\u6001\\u7A7A\\u95F4\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u53EF\\u4EE5\\u907F\\u514D\\u6700\\u5927\\u5316\\u8BEF\\u5DEE\\u7684\\u7D2F\\u79EF\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u72B6\\u6001\\u4EF7\\u503C\\u51FD\\u6570\\u548C\\u72B6\\u6001-\\u52A8\\u4F5C\\u4EF7\\u503C\\u51FD\\u6570\\u4E4B\\u95F4\\u7684\\u5173\\u7CFB\\u4E3A\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"V_\\u03C0(s) = \\u03A3 \\u03C0_\\u03B8(a|s) \\xD7 Q_\\u03C0(s,a)\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5373\\u5728\\u4E0D\\u540C\\u7B56\\u7565\\u6982\\u7387\\u4E0B Q \\u7684\\u671F\\u671B\\u3002\\u5728 Policy Network \\u4E2D\\uFF0C\\u6211\\u4EEC\\u6700\\u5927\\u5316\\u72B6\\u6001\\u4EF7\\u503C\\u51FD\\u6570 V_\\u03C0(s)\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"actor-critic-methods\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#actor-critic-methods\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Actor-Critic Methods\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Actor-Critic Methods \\u7ED3\\u5408\\u4E86 Value-Based Methods \\u4EE5\\u53CA Policy-Based Methods\\uFF0C\\u4E0D\\u4EC5\\u83B7\\u5F97\\u4E86\\u4E24\\u79CD\\u65B9\\u6CD5\\u7684\\u4F18\\u70B9\\uFF0C\\u540C\\u65F6\\u4E5F\\u5728\\u4E00\\u5B9A\\u7A0B\\u5EA6\\u4E0A\\u907F\\u514D\\u4E86\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Value-Based \\u7684\\u95EE\\u9898\"}),\"\\uFF1A\\u9AD8\\u504F\\u5DEE\\uFF08High bias\\uFF09\\uFF0C\\u4E0D\\u80FD\\u76F4\\u63A5\\u5F97\\u5230\\u52A8\\u4F5C\\u503C\\u8F93\\u51FA\\uFF0C\\u96BE\\u4EE5\\u7528\\u4E8E\\u8FDE\\u7EED\\u52A8\\u4F5C\\u7A7A\\u95F4\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Policy-Based \\u7684\\u95EE\\u9898\"}),\"\\uFF1A\\u9AD8\\u65B9\\u5DEE\\uFF08High Variance\\uFF09\\uFF0C\\u8BAD\\u7EC3\\u4E0D\\u7A33\\u5B9A\\uFF0C\\u7B56\\u7565\\u6536\\u655B\\u56F0\\u96BE\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5B83\\u5305\\u62EC\\u4E24\\u4E2A\\u90E8\\u5206\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Actor\"}),\"\\uFF1A\\u7B56\\u7565\\u7F51\\u7EDC \\u03C0_\\u03B8(a|s)\\uFF0C\\u8F93\\u5165\\u72B6\\u6001\\uFF0C\\u8F93\\u51FA\\u52A8\\u4F5C\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Critic\"}),\"\\uFF1A\\u4EF7\\u503C\\u7F51\\u7EDC\\uFF0C\\u8F93\\u5165\\u72B6\\u6001\\u6216\\u72B6\\u6001-\\u52A8\\u4F5C\\u5BF9\\uFF0C\\u8F93\\u51FA\\u4EF7\\u503C\\u51FD\\u6570 V_w(s) \\u6216 Q_w(s, a)\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"conclusion\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u672C\\u6587\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5B66\\u4E60\\u4E86 RL \\u57FA\\u672C\\u6D41\\u7A0B\\u4E0E\\u4E00\\u4E9B\\u5173\\u952E\\u6027\\u6982\\u5FF5\\uFF0C\\u5305\\u62EC\\u56DE\\u62A5\\u51FD\\u6570\\uFF08Reward Function\\uFF09\\uFF0C\\u72B6\\u6001\\u4EF7\\u503C\\u51FD\\u6570\\uFF08State-Value Function\\uFF09\\u4EE5\\u53CA\\u52A8\\u4F5C\\u4EF7\\u503C\\u51FD\\u6570\\uFF08Action-Value Function\\uFF09\\u3002\\u540C\\u65F6\\uFF0C\\u6211\\u4EEC\\u8FD8\\u4ECB\\u7ECD\\u4E86 Value-Based Methods \\u4EE5\\u53CA Policy-Based Methods\\uFF0C\\u66F4\\u8FDB\\u4E00\\u6B65\\uFF0CActor-Critic Methods \\u7ED3\\u5408\\u4E86\\u4E24\\u79CD\\u65B9\\u6848\\uFF0C\\u5E76\\u83B7\\u5F97\\u4E86\\u76F8\\u5BF9\\u66F4\\u4F18\\u7684\\u6548\\u679C\\u3002\"})]})}function s(i={}){let{wrapper:n}=i.components||{};return n?(0,e.jsx)(n,{...i,children:(0,e.jsx)(h,{...i})}):h(i)}return w(y);})();\n;return Component;"
    },
    "_id": "blog/rl-basics.md",
    "_raw": {
      "sourceFilePath": "blog/rl-basics.md",
      "sourceFileName": "rl-basics.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/rl-basics"
    },
    "type": "Blog",
    "readingTime": {
      "text": "5 min read",
      "minutes": 4.445,
      "time": 266700,
      "words": 889
    },
    "slug": "rl-basics",
    "path": "blog/rl-basics",
    "toc": [
      {
        "value": "Introduction",
        "url": "#introduction",
        "depth": 2
      },
      {
        "value": "Key Concepts",
        "url": "#key-concepts",
        "depth": 2
      },
      {
        "value": "Reward Function",
        "url": "#reward-function",
        "depth": 3
      },
      {
        "value": "Action-Value Function",
        "url": "#action-value-function",
        "depth": 3
      },
      {
        "value": "State-Value Function",
        "url": "#state-value-function",
        "depth": 3
      },
      {
        "value": "Deep Q-Network (Value-Based)",
        "url": "#deep-q-network-value-based",
        "depth": 2
      },
      {
        "value": "Policy Network (Policy-Based)",
        "url": "#policy-network-policy-based",
        "depth": 2
      },
      {
        "value": "Actor-Critic Methods",
        "url": "#actor-critic-methods",
        "depth": 2
      },
      {
        "value": "Conclusion",
        "url": "#conclusion",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "å¼ºåŒ–å­¦ä¹ åŸºç¡€ï¼ˆ1ï¼‰",
      "datePublished": "2023-03-14T00:00:00.000Z",
      "dateModified": "2023-03-14T00:00:00.000Z",
      "description": "å¼ºåŒ–å­¦ä¹ å…¥é—¨ï¼šä»‹ç» Agentã€Environmentã€Policy ç­‰åŸºæœ¬æ¦‚å¿µï¼Œä»¥åŠ DQNã€Policy Network å’Œ Actor-Critic æ–¹æ³•ã€‚",
      "url": "https://zhangjian94cn.github.io/blog/rl-basics"
    }
  },
  {
    "title": "TBB å…¥é—¨æ•™ç¨‹",
    "date": "2022-11-22T00:00:00.000Z",
    "tags": [
      "HPC",
      "TBB",
      "å¹¶è¡Œè®¡ç®—"
    ],
    "draft": false,
    "summary": "Intel oneTBB å…¥é—¨ï¼šä»‹ç» TBB çš„ä¼˜åŠ¿ã€å®‰è£…æ–¹æ³•åŠç®€å•çš„ parallel_for ä½¿ç”¨ç¤ºä¾‹ã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## ç®€ä»‹\n\n### oneTBB çš„ä¼˜åŠ¿\n\n1. oneTBB enables you to specify logical paralleism instead of threads.\n2. oneTBB targets threading for performance.\n3. oneTBB is compatible with other threading packages.\n4. oneTBB emphasizes scalable, data parallel programming.\n5. oneTBB relies on generic programming.\n\n### å¹¶è¡Œå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜\n\nå‡ ç§åœ¨å¹¶è¡Œå¼€å‘ä¸­å¸¸è§çš„é—®é¢˜ï¼š\n\n1. Interface correspondence to specification\n2. Memory errors\n3. Data race\n4. Race conditions and deadlocks\n\nå…¶ä¸­æ¯”è¾ƒå¤æ‚çš„æ˜¯ï¼šRace conditions å’Œ deadlocksã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æµ‹è¯•æ–¹æ³•ï¼š\n\n1. **Unit tests**ï¼šèƒ½åŠ›æœ‰é™ä½†åŸºç¡€é‡è¦\n2. **Integration tests**ï¼šç»„åˆå¤šç§åŠŸèƒ½æ¨¡æ‹Ÿç”¨æˆ·åœºæ™¯\n3. **Stress testing**ï¼šç¡®ä¿å¾ˆå°‘è§¦å‘çš„é”™è¯¯æ¡ä»¶ä¹Ÿèƒ½è¢«æ•è·\n\n## å®‰è£…\n\n```bash\n# Clone oneTBB repository\ngit clone https://github.com/oneapi-src/oneTBB.git\ncd oneTBB\n\n# Create binary directory for out-of-source build\nmkdir build && cd build\n\n# Configure and build\ncmake .. && make -j$(nproc)\nsudo make install\n```\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n```cpp\n#include <tbb/tbb.h>\n#include <cstdio>\n\nusing namespace tbb;\n\nint main()\n{\n    tick_count t0 = tick_count::now();\n    parallel_for(0, 100, 1, [](int i) {\n        printf(\"hello tbb %d \\n\", i);\n    });\n    tick_count t1 = tick_count::now();\n\n    printf(\"use time %f \\n\", (t1-t0).seconds());\n\n    return 0;\n}\n```\n\n**CMakeLists.txt**\n\n```cmake\ncmake_minimum_required(VERSION 3.1)\n\nproject(TEST)\nfind_package(TBB REQUIRED)\nadd_executable(TEST_tbb test_tbb.cpp)\ntarget_link_libraries(TEST_tbb TBB::tbb)\n```\n\n## å‚è€ƒ\n\n- [oneTBB å®˜æ–¹æ–‡æ¡£](https://oneapi-src.github.io/oneTBB/)\n- [oneTBB å®‰è£…æŒ‡å—](https://github.com/oneapi-src/oneTBB/blob/master/INSTALL.md)\n- [oneTBB Developer Guide](https://oneapi-src.github.io/oneTBB/main/tbb_userguide/title.html)\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var b=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},t=(a,n,s,i)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(i=m(n,c))||i.enumerable});return a};var f=(a,n,s)=>(s=a!=null?h(N(a)):{},t(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),B=a=>t(l({},\"__esModule\",{value:!0}),a);var r=b((x,o)=>{o.exports=_jsx_runtime});var y={};g(y,{default:()=>p,frontmatter:()=>T});var e=f(r()),T={title:\"TBB \\u5165\\u95E8\\u6559\\u7A0B\",date:\"2022-11-22\",tags:[\"HPC\",\"TBB\",\"\\u5E76\\u884C\\u8BA1\\u7B97\"],draft:!1,summary:\"Intel oneTBB \\u5165\\u95E8\\uFF1A\\u4ECB\\u7ECD TBB \\u7684\\u4F18\\u52BF\\u3001\\u5B89\\u88C5\\u65B9\\u6CD5\\u53CA\\u7B80\\u5355\\u7684 parallel_for \\u4F7F\\u7528\\u793A\\u4F8B\\u3002\",authors:[\"default\"]};function d(a){let n={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"onetbb-\\u7684\\u4F18\\u52BF\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#onetbb-\\u7684\\u4F18\\u52BF\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"oneTBB \\u7684\\u4F18\\u52BF\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"oneTBB enables you to specify logical paralleism instead of threads.\"}),`\n`,(0,e.jsx)(n.li,{children:\"oneTBB targets threading for performance.\"}),`\n`,(0,e.jsx)(n.li,{children:\"oneTBB is compatible with other threading packages.\"}),`\n`,(0,e.jsx)(n.li,{children:\"oneTBB emphasizes scalable, data parallel programming.\"}),`\n`,(0,e.jsx)(n.li,{children:\"oneTBB relies on generic programming.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5E76\\u884C\\u5F00\\u53D1\\u4E2D\\u7684\\u5E38\\u89C1\\u95EE\\u9898\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5E76\\u884C\\u5F00\\u53D1\\u4E2D\\u7684\\u5E38\\u89C1\\u95EE\\u9898\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5E76\\u884C\\u5F00\\u53D1\\u4E2D\\u7684\\u5E38\\u89C1\\u95EE\\u9898\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u51E0\\u79CD\\u5728\\u5E76\\u884C\\u5F00\\u53D1\\u4E2D\\u5E38\\u89C1\\u7684\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Interface correspondence to specification\"}),`\n`,(0,e.jsx)(n.li,{children:\"Memory errors\"}),`\n`,(0,e.jsx)(n.li,{children:\"Data race\"}),`\n`,(0,e.jsx)(n.li,{children:\"Race conditions and deadlocks\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5176\\u4E2D\\u6BD4\\u8F83\\u590D\\u6742\\u7684\\u662F\\uFF1ARace conditions \\u548C deadlocks\\u3002\\u53EF\\u4EE5\\u4F7F\\u7528\\u4E0B\\u9762\\u7684\\u6D4B\\u8BD5\\u65B9\\u6CD5\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Unit tests\"}),\"\\uFF1A\\u80FD\\u529B\\u6709\\u9650\\u4F46\\u57FA\\u7840\\u91CD\\u8981\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Integration tests\"}),\"\\uFF1A\\u7EC4\\u5408\\u591A\\u79CD\\u529F\\u80FD\\u6A21\\u62DF\\u7528\\u6237\\u573A\\u666F\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Stress testing\"}),\"\\uFF1A\\u786E\\u4FDD\\u5F88\\u5C11\\u89E6\\u53D1\\u7684\\u9519\\u8BEF\\u6761\\u4EF6\\u4E5F\\u80FD\\u88AB\\u6355\\u83B7\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u5B89\\u88C5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B89\\u88C5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Clone oneTBB repository\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"git\"}),` clone https://github.com/oneapi-src/oneTBB.git\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"cd\"}),` oneTBB\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Create binary directory for out-of-source build\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"mkdir\"}),\" build \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"cd\"}),` build\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Configure and build\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"cmake \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"make\"}),\" -j\",(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$(\"}),\"nproc\",(0,e.jsx)(n.span,{className:\"token variable\",children:\")\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"make\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"install\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u4F7F\\u7528\\u793A\\u4F8B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F7F\\u7528\\u793A\\u4F8B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528\\u793A\\u4F8B\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token macro property\",children:[(0,e.jsx)(n.span,{className:\"token directive-hash\",children:\"#\"}),(0,e.jsx)(n.span,{className:\"token directive keyword\",children:\"include\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"<tbb/tbb.h>\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token macro property\",children:[(0,e.jsx)(n.span,{className:\"token directive-hash\",children:\"#\"}),(0,e.jsx)(n.span,{className:\"token directive keyword\",children:\"include\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"<cstdio>\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"using\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"namespace\"}),\" tbb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"main\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tick_count t0 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" tick_count\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"now\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"parallel_for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"100\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token function\",children:\"printf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"hello tbb %d \\\\n\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tick_count t1 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" tick_count\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"now\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"printf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"use time %f \\\\n\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"t1\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"t0\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"seconds\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"CMakeLists.txt\"})}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cmake\",children:(0,e.jsxs)(n.code,{className:\"language-cmake code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"cmake_minimum_required\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"VERSION\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3.1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"project\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TEST\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"find_package\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TBB REQUIRED\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"add_executable\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TEST_tbb test_tbb.cpp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"target_link_libraries\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TEST_tbb \",(0,e.jsx)(n.span,{className:\"token inserted class-name\",children:\"TBB::tbb\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u53C2\\u8003\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://oneapi-src.github.io/oneTBB/\",children:\"oneTBB \\u5B98\\u65B9\\u6587\\u6863\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://github.com/oneapi-src/oneTBB/blob/master/INSTALL.md\",children:\"oneTBB \\u5B89\\u88C5\\u6307\\u5357\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://oneapi-src.github.io/oneTBB/main/tbb_userguide/title.html\",children:\"oneTBB Developer Guide\"})}),`\n`]})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(d,{...a})}):d(a)}return B(y);})();\n;return Component;"
    },
    "_id": "blog/tbb-intro.md",
    "_raw": {
      "sourceFilePath": "blog/tbb-intro.md",
      "sourceFileName": "tbb-intro.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/tbb-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.34,
      "time": 80400,
      "words": 268
    },
    "slug": "tbb-intro",
    "path": "blog/tbb-intro",
    "toc": [
      {
        "value": "ç®€ä»‹",
        "url": "#ç®€ä»‹",
        "depth": 2
      },
      {
        "value": "oneTBB çš„ä¼˜åŠ¿",
        "url": "#onetbb-çš„ä¼˜åŠ¿",
        "depth": 3
      },
      {
        "value": "å¹¶è¡Œå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜",
        "url": "#å¹¶è¡Œå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜",
        "depth": 3
      },
      {
        "value": "å®‰è£…",
        "url": "#å®‰è£…",
        "depth": 2
      },
      {
        "value": "ä½¿ç”¨ç¤ºä¾‹",
        "url": "#ä½¿ç”¨ç¤ºä¾‹",
        "depth": 2
      },
      {
        "value": "å‚è€ƒ",
        "url": "#å‚è€ƒ",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "TBB å…¥é—¨æ•™ç¨‹",
      "datePublished": "2022-11-22T00:00:00.000Z",
      "dateModified": "2022-11-22T00:00:00.000Z",
      "description": "Intel oneTBB å…¥é—¨ï¼šä»‹ç» TBB çš„ä¼˜åŠ¿ã€å®‰è£…æ–¹æ³•åŠç®€å•çš„ parallel_for ä½¿ç”¨ç¤ºä¾‹ã€‚",
      "url": "https://zhangjian94cn.github.io/blog/tbb-intro"
    }
  },
  {
    "title": "æ±Ÿè‹ç§»åŠ¨æ•°æ™ºåŠ©æ‰‹ Text2SQL å¤§æ¨¡å‹å¾®è°ƒå®è·µ",
    "date": "2024-08-03T00:00:00.000Z",
    "tags": [
      "LLM",
      "Text2SQL",
      "å¾®è°ƒ",
      "LoRA"
    ],
    "draft": false,
    "summary": "éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„è¿…çŒ›å‘å±•ï¼Œä¼ä¸šåœ¨æ•°æ®å¤„ç†å’Œåˆ†ææ–¹é¢çš„éœ€æ±‚ä¹Ÿæ—¥ç›Šå¢é•¿ã€‚ä¸ºäº†æ›´é«˜æ•ˆåœ°ä»æµ·é‡æ•°æ®ä¸­æå–æœ‰ç”¨ä¿¡æ¯ï¼Œæˆ‘ä»¬åœ¨æ•°æ™ºåŠ©æ‰‹ä¸­è¿›è¡Œäº†Text2SQLå¾®è°ƒå®è·µã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n> \"éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„è¿…çŒ›å‘å±•ï¼Œä¼ä¸šåœ¨æ•°æ®å¤„ç†å’Œåˆ†ææ–¹é¢çš„éœ€æ±‚ä¹Ÿæ—¥ç›Šå¢é•¿ã€‚ä¸ºäº†æ›´é«˜æ•ˆåœ°ä»æµ·é‡æ•°æ®ä¸­æå–æœ‰ç”¨ä¿¡æ¯ï¼Œæˆ‘ä»¬åœ¨æ•°æ™ºåŠ©æ‰‹ä¸­è¿›è¡Œäº†Text2SQLå¾®è°ƒå®è·µã€‚è¿™ä¸ä»…æé«˜äº†æ•°æ®æŸ¥è¯¢çš„æ•ˆç‡ï¼Œè¿˜å¤§å¹…æå‡äº†ç”¨æˆ·ä½“éªŒã€‚\"\n\n## é—®é¢˜åˆ†æ\n\nText2SQLä¹Ÿç§°NL2SQLï¼ŒæŒ‡ç”¨è‡ªç„¶è¯­è¨€å‘LLMæé—®ï¼Œæ¨ç†ç”Ÿæˆç»“æ„åŒ–SQLè¯­å¥çš„è¿‡ç¨‹ã€‚\n\néšç€å¤§è¯­è¨€æ¨¡å‹çš„è¿…çŒ›æ¼”è¿›ï¼Œé€šè¿‡LLMå°†è‡ªç„¶è¯­è¨€è¡¨è¾¾çš„ç”¨æˆ·éœ€æ±‚è½¬åŒ–ä¸ºSQLæŸ¥è¯¢æŒ‡ä»¤ï¼Œå·²ç¡®ç«‹ä¸ºè§£å†³å¤æ‚æ•°æ®æ£€ç´¢é—®é¢˜çš„é¦–é€‰æ–¹æ¡ˆã€‚æˆ‘ä»¬åˆ©ç”¨æµ·é‡æ•°æ®å¯¹å¤§æ¨¡å‹è¿›è¡Œå¾®è°ƒï¼Œä»è€Œå¢å¼ºå…¶åœ¨æ–°åœºæ™¯ä¸‹çš„é€‚åº”æ€§å’Œå‡†ç¡®æ€§ï¼Œæœ€ç»ˆå½¢æˆï¼š**ç”¨æˆ·é—®é¢˜-SQLå‘½ä»¤ç”Ÿæˆ-SQLæŸ¥è¯¢ç»“æœè¿”å›-æŸ¥è¯¢ç»“æœæ€»ç»“è¾“å‡ºçš„å®Œæ•´é—­ç¯**ï¼Œå®ç°å¯é ã€å‡†ç¡®çš„é—®ç­”æµç¨‹ã€‚\n\nåœ¨é¡¹ç›®æ—©æœŸæœªå¼•å…¥Text2SQLæ—¶ï¼Œé’ˆå¯¹ç”¨æˆ·å¥—é¤æŸ¥è¯¢çš„éœ€æ±‚ï¼Œæˆ‘ä»¬åŸºäºå•çº¯RAGè¯­ä¹‰å‘é‡åŒ¹é…å’ŒåŸºåº§å¤§æ¨¡å‹èƒ½åŠ›ï¼Œæ— æ³•å®ç°å¯¹ç”¨æˆ·é—®é¢˜çš„ç²¾å‡†å›ç­”ï¼Œä¾‹å¦‚ï¼š\n\nå½“ç”¨æˆ·æé—®ï¼šâ€œå°†æµé‡å¥—é¤å‡æ¡£åˆ°20gï¼Œæ¨èä»€ä¹ˆâ€æ—¶ï¼ŒåŸæœ‰çš„å›ç­”ä»…ç®€å•æåˆ°äº†â€œç•…æƒ³20GBæµé‡å¥—é¤â€ï¼Œå¯¹äºå…¶ä»–çš„é€‰æ‹©å¹¶æ²¡æœ‰æåŠã€‚æ­¤å¤–ï¼Œå›ç­”ä¸­è¿˜å­˜åœ¨ä¸€äº›ç”±å¤§æ¨¡å‹è‡ªè¡Œç†è§£è¾“å‡ºçš„ä¿¡æ¯ï¼Œç¼ºä¹å¯é æ€§ä¸çœŸå®æ€§ã€‚\n\nä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æ•°æ™ºåŠ©æ‰‹é¡¹ç›®å®è·µè¿‡ç¨‹ä¸­ï¼Œå‘ç°æå‡æ­£ç¡®ç‡çš„æœ€å¤§çš„éš¾ç‚¹æ˜¯æ¨ç†æ‰€ç”¨åˆ°çš„ä¸šåŠ¡çŸ¥è¯†å’Œåœºæ™¯ï¼ˆåŒ…æ‹¬ä¸šåŠ¡æ¨¡å‹+ä¸šåŠ¡è§„åˆ™ï¼‰ã€‚å•çº¯ä¾èµ–äºæç¤ºè¯çš„æ–¹æ¡ˆæ— æ³•æ»¡è¶³å®é™…ä¸šåŠ¡å¯¹å›ç­”å‡†ç¡®ç‡çš„è¦æ±‚ã€‚å› æ­¤ï¼Œå¦‚ä½•å°†ç”¨æˆ·é—®é¢˜å‡†ç¡®è½¬æ¢ä¸ºSQLè¡¨å¯è¯†åˆ«çš„æŸ¥è¯¢è¯­å¥ï¼Œæ˜¯æˆ‘ä»¬éœ€è¦é‡ç‚¹è§£å†³çš„é—®é¢˜ã€‚\n\n### Text2SQLå¤§æ¨¡å‹ç°å­˜é—®é¢˜\n\nåœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°ç›®å‰çš„Text2SQLä¸­å­˜åœ¨çš„ä¸€äº›ä¸»è¦é—®é¢˜åŒ…æ‹¬ï¼š\n\n**(1) è¾“å‡ºå¹»è§‰ï¼ˆHallucinationï¼‰**ï¼šLLMåœ¨ç”ŸæˆSQLè¯­å¥æ—¶ä¼šç”Ÿæˆä¸€äº›çœ‹ä¼¼åˆç†ï¼Œä½†å®é™…ä¸è¾“å…¥æ–‡æœ¬æ— å…³æˆ–é”™è¯¯çš„æŸ¥è¯¢ï¼Œè¿™å¯èƒ½æ˜¯ç”±äºæ¨¡å‹å°šæœªå……åˆ†å­¦ä¹ åˆ°æ•°æ®åº“çš„ä¿¡æ¯å’ŒSQLé€»è¾‘ï¼Œå¯¼è‡´åœ¨æ¨ç†é˜¶æ®µäº§ç”Ÿè¯¯å¯¼æ€§çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·æé—®ï¼šâ€œæ¯”è¯­éŸ³ç¿»å€åŒ…æ›´ç»æµçš„å¥—é¤æœ‰å“ªäº›ï¼Ÿâ€ï¼Œç”Ÿæˆçš„SQLå‘½ä»¤ä¸ºï¼š\n\n```sql\nSELECT * FROM database WHERE money < 50;\n```\n\nå¤§æ¨¡å‹ç›´æ¥è®¤ä¸ºâ€è¯­éŸ³ç¿»å€åŒ…â€œçš„ä»·æ ¼ä¸º50å…ƒï¼Œå¹¶ä»¥æ­¤è¾“å‡ºSQLè¯­å¥ï¼Œå¯¼è‡´æŸ¥è¯¢ç»“æœå‡ºé”™ã€‚\n\n**(2) ç­”æ¡ˆç¨³å®šæ€§**ï¼šæ¨¡å‹ç”Ÿæˆç­”æ¡ˆä¸å¤Ÿç¨³å®šï¼Œå¶å°”éœ€è¦å¤šæ¬¡æé—®æ‰èƒ½æ‰¾åˆ°æœ€ä¼˜ç­”æ¡ˆã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¤šæ¬¡æé—®â€è¯·é—®æµé‡è¶…è¿‡3000MBæœ‰å‡ ç§å¥—é¤â€œï¼Œå¾—åˆ°çš„å›ç­”ä¼šå‡ºç°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š\n\n```sql\nSELECT COUNT(*) FROM database WHERE en_names LIKE %'æµé‡è¶…è¿‡3000MB'%;\nSELECT COUNT(*) FROM database WHERE en_broadband > 3;\nSELECT COUNT(*) FROM database WHERE en_broadband > 3000;\n```\n\nåœ¨å¤šæ¬¡æé—®çš„è¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†è¯­ä¹‰ç†è§£ä¸æ¸…ï¼ˆå°†â€æµé‡è¶…è¿‡3000MBâ€œä½œä¸ºå¥—é¤åï¼‰ã€å•ä½æ¢ç®—å‡ºé”™ï¼ˆMBè½¬æ¢æˆGBï¼‰çš„æƒ…å†µï¼Œæš´éœ²å‡ºå¤§æ¨¡å‹ç¨³å®šæ€§ä¸å¼ºçš„é—®é¢˜ã€‚\n\n### ä¼˜åŒ–æ–¹æ³•\n\nä¸ºäº†è§£å†³è¿™äº›æ¨¡å‹é—®é¢˜ï¼Œæˆ‘ä»¬è€ƒè™‘äº†Prompt Engineeringï¼ˆæç¤ºå·¥ç¨‹ï¼‰ã€Fine-tuningï¼ˆæ¨¡å‹å¾®è°ƒï¼‰ç­‰æ–¹å¼å¯¹æ¨¡å‹è¿›è¡Œä¼˜åŒ–ã€‚\n\n**(1) Prompt Engineeringï¼ˆæç¤ºå·¥ç¨‹ï¼‰** èƒ½å¤Ÿé€šè¿‡è®¾è®¡ç‰¹å®šçš„æç¤ºè¯æˆ–å¥å­ï¼Œå¼•å¯¼æ¨¡å‹ç”Ÿæˆæ›´è´´åˆç”¨æˆ·æ„å›¾çš„è¾“å‡ºã€‚åœ¨å¤„ç†SQLæŸ¥è¯¢æ—¶ï¼Œå‘æ¨¡å‹æ³¨å…¥ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†ï¼Œæ¯”å¦‚SQLè§„èŒƒã€æ•°æ®åº“æ¶æ„ä»¥åŠæ³¨æ„å•ä½è½¬æ¢ç­‰é¢å¤–è¦æ±‚ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡æ¨¡å‹å¯¹äºSQLè¯­å¥ç»“æ„å’Œé€»è¾‘çš„ç†è§£èƒ½åŠ›ã€‚\n\n**(2) Fine-tuningï¼ˆæ¨¡å‹å¾®è°ƒï¼‰** æ˜¯ä¸€ç§å…ˆè¿›çš„æœºå™¨å­¦ä¹ æŠ€æœ¯ï¼Œæ—¨åœ¨é’ˆå¯¹é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œå®šåˆ¶åŒ–è°ƒæ•´ï¼Œä½¿å…¶æ›´åŠ å¥‘åˆç‰¹å®šåº”ç”¨åœºæ™¯çš„éœ€æ±‚ã€‚å°¤å…¶åœ¨Text2SQLè¿™ç±»å¤æ‚ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ©ç”¨å¯Œå«SQLè¯­å¥çš„ä¸“é—¨æ•°æ®é›†å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒï¼Œä»¥æ­¤å¼ºåŒ–æ¨¡å‹å¯¹SQLè¯­è¨€ç‰¹æ€§çš„ç†è§£å’Œç”Ÿæˆèƒ½åŠ›ã€‚\n\n#### ä¼˜åŒ–å°è¯•\n\næ ¹æ®ä¼˜åŒ–æ–¹æ¡ˆçš„è°ƒç ”ç»“æœï¼Œæˆ‘ä»¬é¦–å…ˆå°è¯•é€šè¿‡æç¤ºå·¥ç¨‹å¯¹Text2SQLè¿›è¡Œä¼˜åŒ–ã€‚Promptç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n```text\nä½ æ˜¯ä¸€ä½ä¼˜ç§€çš„æ–‡æœ¬è½¬sqlå‘½ä»¤çš„AIä¸“å®¶ï¼Œæ“…é•¿çš„äº‹æƒ…æ˜¯åˆ†æç”¨æˆ·æé—®çš„çœŸå®æ„å›¾ï¼Œå°†å…¶è½¬æ¢æˆsqlå‘½ä»¤ï¼Œsqlå‘½ä»¤åˆ‡è®°ä¸è¦ç”Ÿç¼–ä¹±é€ ï¼Œä¸”åªè¿”å›sqlï¼Œä¸è¿”å›å…¶ä»–åˆ†æå†…å®¹ã€‚\nsqlè¡¨åŒ…å«ä»¥ä¸‹å±æ€§ï¼š***\nç¤ºä¾‹ï¼š\nç”¨æˆ·è¾“å…¥ï¼š\"ç”¨æˆ·æ‰“ç®—å°†æµé‡å¥—é¤å‡æ¡£åˆ°4GBï¼Œæ¨èä»€ä¹ˆ\"ï¼Œ\nè¿”å›sqlï¼š\"SELECT * FROM database WHERE GB = 4000\"ã€‚\n```\n\næˆ‘ä»¬å¯¹å¤§æ¨¡å‹è¾“å…¥æç¤ºè¯åï¼Œè¿›è¡Œäº†æ€§èƒ½æµ‹è¯•ï¼Œæµ‹è¯•å‡†ç¡®ç‡ä¸º83%ã€‚ä¾‹å¦‚ï¼Œå‘å…¶æé—®ï¼šâ€œ98å¤ªè´µäº†ï¼Œæœ‰æ²¡æœ‰ä¾¿å®œç‚¹çš„â€ï¼Œèƒ½å¤Ÿå¾—åˆ°æ­£ç¡®ç»“æœï¼š\n\n```sql\nSELECT * FROM database WHERE en_money < 98 AND en_money != '';\n```\n\nè€Œé”™è¯¯ç»“æœä¸­ï¼Œå¤§éƒ¨åˆ†é”™è¯¯æ•°æ®ä¸å¥—é¤åç§°æœ‰å…³ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·æé—®ï¼šâ€œæ•™è‚²å…¨èƒ½ä¼šå‘˜è®¡åˆ’é‡Œï¼Œå“ªäº›å¥—é¤åŒ…å«è‡³å°‘2GBçš„æ•°æ®ï¼Ÿâ€ï¼Œè¿”å›ç»“æœï¼š\n\n```sql\nSELECT * FROM database WHERE AND en_GB >= 2000;\n```\n\nè™½ç„¶æ­£ç¡®ç­›é€‰å‡ºäº†æµé‡è¶…è¿‡2GBçš„å¥—é¤ï¼Œä½†æ— æ³•å®šä½åˆ°â€œæ•™è‚²å…¨èƒ½ä¼šå‘˜è®¡åˆ’â€å¥—é¤ï¼Œå¯¼è‡´æŸ¥è¯¢å‡ºå¤§é‡çš„ä¿¡æ¯ï¼Œä¸ºåç»­æ€»ç»“è¾“å‡ºå¸¦æ¥å›°éš¾ã€‚\n\né‰´äºç”¨æˆ·æŸ¥è¯¢å¸¸æ¶‰åŠç‰¹å®šå¥—é¤åç§°ï¼Œç°æœ‰é€šç”¨å¤§æ¨¡å‹å¯èƒ½ç¼ºä¹è¿™äº›ç»†èŠ‚ä¿¡æ¯ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è®¡åˆ’è®©å¤§æ¨¡å‹å¯¹ä¸“ä¸šçŸ¥è¯†è¿›è¡Œå­¦ä¹ ï¼Œä»è€Œè¿›ä¸€æ­¥æå‡å…¶è¯­ä¹‰ç†è§£èƒ½åŠ›ã€‚\n\nç›®å‰æ¨¡å‹å¾®è°ƒä¸»æµçš„æ–¹æ³•åŒ…æ‹¬2021å¹´å¾®è½¯æå‡ºçš„ LoRA (Low-Rank Adaptation)ã€‚LoRAå¾®è°ƒé€šè¿‡å°†æ¨¡å‹çš„éƒ¨åˆ†æƒé‡çŸ©é˜µåˆ†è§£ä¸ºä¸¤ä¸ªä½ç§©çŸ©é˜µï¼Œåªæ›´æ–°è¿™ä¸¤ä¸ªå°çŸ©é˜µçš„å‚æ•°æ¥å®ç°å¾®è°ƒï¼Œä»è€Œå‡å°‘è®¡ç®—èµ„æºå’Œå†…å­˜å ç”¨ã€‚\n\n## å¾®è°ƒè®­ç»ƒæ•°æ®å‡†å¤‡\n\n### ç”Ÿæˆæ–¹æ³•\n\n(1) æå–å…³é”®å±æ€§ä¿¡æ¯ï¼šå¯¹ä¸šåŠ¡çŸ¥è¯†æå–å…³é”®å±æ€§åŠå¯¹åº”çš„ä¿¡æ¯ã€‚\n\n```\nå¥—é¤åç§°ï¼š{names}\nå¥—é¤ä»·æ ¼ï¼š{money}\nå¥—é¤æµé‡ï¼š{GB}\nå¯é€šè¯æ—¶é•¿ï¼š{duration}\nå¥—é¤ä¸Šçº¿å¹´ä»½ï¼š{online_years}\nå¥—é¤ä¸‹çº¿å¹´ä»½ï¼š{offline_years}\nå¥—é¤å®½å¸¦é‡ï¼š{broadband}\nå¥—é¤åœ°ç‚¹ï¼š{locations}\n```\n\n(2) æ„å»ºå¸¸è§çš„ç”¨æˆ·é—®é¢˜ä¸sqlå‘½ä»¤è¯­æ–™å¯¹ï¼Œé€šè¿‡æŠ½è±¡åŒ–ç”¨æˆ·å¯èƒ½æé—®çš„é—®é¢˜ï¼Œå¹¶è¿›è¡Œå¯¹åº”çš„åŒä¹‰è¯æ›¿æ¢ï¼Œç”Ÿæˆå¤§é‡è®­ç»ƒæ ·æœ¬\n\n- **ç¤ºä¾‹1**ï¼šæŸ¥è¯¢128å…ƒçš„å¥—é¤\n  `SELECT * FROM {table_name} WHERE money = {money};`\n- **ç¤ºä¾‹2**ï¼šé™æ¡£æµé‡å¥—é¤åˆ°60G\n  `SELECT * FROM {table_name} WHERE GB = {GB};`\n\n(3) è®­ç»ƒè¯­æ–™å¯¹ä¿å­˜ä¸ºjsonæ ¼å¼\n\n```json\n{\n  \"user\": \"å‡çº§åˆ°41GBæµé‡çš„å¥—é¤ï¼Œæœ‰ä»€ä¹ˆå»ºè®®\",\n  \"assistant\": \"SELECT * FROM database WHERE GB = 41000;\"\n}\n```\n\n### ç”Ÿæˆè§„æ¨¡\n\nå…±ç”Ÿæˆ**15wæ¡è¯­æ–™å¯¹**ï¼ŒåŒ…æ‹¬æ­£å‘è¯­æ–™å’Œåå‘è¯­æ–™ï¼š\n\n- **æ­£å‘è¯­æ–™**ï¼š\n  - **ç›´æ¥æŸ¥è¯¢ç±»**ï¼šç”Ÿæˆ5wæ¡æ ·æœ¬ã€‚\n  - **æ•°å­—æ¯”è¾ƒç±»**ï¼šç”Ÿæˆ5wæ¡æ ·æœ¬ã€‚\n- **åå‘è¯­æ–™**ï¼šç”Ÿæˆ5wæ¡æ ·æœ¬ã€‚\n\n## å¾®è°ƒè¿‡ç¨‹\n\n1.  **æ‰€éœ€èµ„æº**ï¼šGPUï¼šNVIDIA A100-SXM4-40GB x2ï¼›å¾®è°ƒæ¨¡å‹ï¼šQWen-7b-chat\n2.  **è®­ç»ƒæ—¶é•¿**ï¼šå¤§çº¦3.75å°æ—¶\n\næˆ‘ä»¬å¯¹å¾®è°ƒåçš„æ¨¡å‹è¿›è¡Œæµ‹è¯•ï¼Œç”¨æˆ·é—®é¢˜ä¸SQLè¯­å¥çš„è½¬æ¢æ­£ç¡®ç‡å¯è¾¾**98.56%**ï¼Œè¾¾åˆ°äº†ç”Ÿäº§ä¸Šçº¿çš„æ ‡å‡†ã€‚å½“æˆ‘ä»¬å°†å¾®è°ƒæ¨¡å‹éƒ¨ç½²åï¼Œå›ç­”çš„å¥—é¤ä¿¡æ¯å·²æ˜æ˜¾æ‰©å……ï¼Œå¹¶ä¸”ä»ç”¨æˆ·è§’åº¦è€ƒè™‘äº†çŸ­æœŸå’Œé•¿æœŸä¸¤ç§æƒ…å†µï¼Œå‘ç”¨æˆ·æä¾›äº†æ›´å…¨é¢ã€æ›´å¯é çš„ç­”æ¡ˆã€‚\n\n## æœªæ¥å±•æœ›\n\néšç€å¤§æ¨¡å‹æŠ€æœ¯çš„æ—¥æ–°æœˆå¼‚ï¼ŒText2SQLæŠ€æœ¯ä¹Ÿåœ¨ä»¥æƒŠäººçš„é€Ÿåº¦ä¸æ–­å‘å±•ã€‚ç›®å‰æ‰€é‡‡ç”¨çš„ä¼˜åŒ–æ‰‹æ®µï¼Œè™½ç„¶åœ¨ç°é˜¶æ®µå¯èƒ½æœ‰æ•ˆï¼Œä½†éšç€å¤§æ¨¡å‹èƒ½åŠ›çš„æŒç»­æå‡ï¼Œè¿™äº›æ‰‹æ®µå¾ˆå¯èƒ½ä¼šé€æ¸æ˜¾å¾—è¿‡æ—¶ï¼Œç”šè‡³è¢«å½»åº•æ·˜æ±°ã€‚\n\nä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä¸èƒ½ç¥è¯å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„èƒ½åŠ›ï¼Œç»™äºˆå…¶è¿‡é«˜çš„æœŸæœ›ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½å› é«˜ä¼°å·¥ç¨‹å®ç°çš„éš¾åº¦è€Œæœ›è€Œç”Ÿç•ã€‚åªæœ‰ä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œè¸è¸å®å®åœ°è§£å†³å·¥ç¨‹å®è·µä¸­çš„æ¯ä¸€ä¸ªé—®é¢˜ï¼Œæ‰èƒ½æœ€ç»ˆå°†Text2SQLæŠ€æœ¯æ¨å‘æˆç†Ÿçš„ç”Ÿäº§é˜¶æ®µã€‚\n",
      "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),L=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},i=(a,n,s,r)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of N(n))!u.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(r=m(n,c))||r.enumerable});return a};var E=(a,n,s)=>(s=a!=null?p(k(a)):{},i(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),S=a=>i(l({},\"__esModule\",{value:!0}),a);var o=g((w,d)=>{d.exports=_jsx_runtime});var x={};L(x,{default:()=>h,frontmatter:()=>y});var e=E(o()),y={title:\"\\u6C5F\\u82CF\\u79FB\\u52A8\\u6570\\u667A\\u52A9\\u624B Text2SQL \\u5927\\u6A21\\u578B\\u5FAE\\u8C03\\u5B9E\\u8DF5\",date:\"2024-08-03\",tags:[\"LLM\",\"Text2SQL\",\"\\u5FAE\\u8C03\",\"LoRA\"],draft:!1,summary:\"\\u968F\\u7740\\u4EBA\\u5DE5\\u667A\\u80FD\\u6280\\u672F\\u7684\\u8FC5\\u731B\\u53D1\\u5C55\\uFF0C\\u4F01\\u4E1A\\u5728\\u6570\\u636E\\u5904\\u7406\\u548C\\u5206\\u6790\\u65B9\\u9762\\u7684\\u9700\\u6C42\\u4E5F\\u65E5\\u76CA\\u589E\\u957F\\u3002\\u4E3A\\u4E86\\u66F4\\u9AD8\\u6548\\u5730\\u4ECE\\u6D77\\u91CF\\u6570\\u636E\\u4E2D\\u63D0\\u53D6\\u6709\\u7528\\u4FE1\\u606F\\uFF0C\\u6211\\u4EEC\\u5728\\u6570\\u667A\\u52A9\\u624B\\u4E2D\\u8FDB\\u884C\\u4E86Text2SQL\\u5FAE\\u8C03\\u5B9E\\u8DF5\\u3002\",authors:[\"default\"]};function t(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:'\"\\u968F\\u7740\\u4EBA\\u5DE5\\u667A\\u80FD\\u6280\\u672F\\u7684\\u8FC5\\u731B\\u53D1\\u5C55\\uFF0C\\u4F01\\u4E1A\\u5728\\u6570\\u636E\\u5904\\u7406\\u548C\\u5206\\u6790\\u65B9\\u9762\\u7684\\u9700\\u6C42\\u4E5F\\u65E5\\u76CA\\u589E\\u957F\\u3002\\u4E3A\\u4E86\\u66F4\\u9AD8\\u6548\\u5730\\u4ECE\\u6D77\\u91CF\\u6570\\u636E\\u4E2D\\u63D0\\u53D6\\u6709\\u7528\\u4FE1\\u606F\\uFF0C\\u6211\\u4EEC\\u5728\\u6570\\u667A\\u52A9\\u624B\\u4E2D\\u8FDB\\u884C\\u4E86Text2SQL\\u5FAE\\u8C03\\u5B9E\\u8DF5\\u3002\\u8FD9\\u4E0D\\u4EC5\\u63D0\\u9AD8\\u4E86\\u6570\\u636E\\u67E5\\u8BE2\\u7684\\u6548\\u7387\\uFF0C\\u8FD8\\u5927\\u5E45\\u63D0\\u5347\\u4E86\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"'}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u95EE\\u9898\\u5206\\u6790\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u95EE\\u9898\\u5206\\u6790\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u95EE\\u9898\\u5206\\u6790\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Text2SQL\\u4E5F\\u79F0NL2SQL\\uFF0C\\u6307\\u7528\\u81EA\\u7136\\u8BED\\u8A00\\u5411LLM\\u63D0\\u95EE\\uFF0C\\u63A8\\u7406\\u751F\\u6210\\u7ED3\\u6784\\u5316SQL\\u8BED\\u53E5\\u7684\\u8FC7\\u7A0B\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u968F\\u7740\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u7684\\u8FC5\\u731B\\u6F14\\u8FDB\\uFF0C\\u901A\\u8FC7LLM\\u5C06\\u81EA\\u7136\\u8BED\\u8A00\\u8868\\u8FBE\\u7684\\u7528\\u6237\\u9700\\u6C42\\u8F6C\\u5316\\u4E3ASQL\\u67E5\\u8BE2\\u6307\\u4EE4\\uFF0C\\u5DF2\\u786E\\u7ACB\\u4E3A\\u89E3\\u51B3\\u590D\\u6742\\u6570\\u636E\\u68C0\\u7D22\\u95EE\\u9898\\u7684\\u9996\\u9009\\u65B9\\u6848\\u3002\\u6211\\u4EEC\\u5229\\u7528\\u6D77\\u91CF\\u6570\\u636E\\u5BF9\\u5927\\u6A21\\u578B\\u8FDB\\u884C\\u5FAE\\u8C03\\uFF0C\\u4ECE\\u800C\\u589E\\u5F3A\\u5176\\u5728\\u65B0\\u573A\\u666F\\u4E0B\\u7684\\u9002\\u5E94\\u6027\\u548C\\u51C6\\u786E\\u6027\\uFF0C\\u6700\\u7EC8\\u5F62\\u6210\\uFF1A\",(0,e.jsx)(n.strong,{children:\"\\u7528\\u6237\\u95EE\\u9898-SQL\\u547D\\u4EE4\\u751F\\u6210-SQL\\u67E5\\u8BE2\\u7ED3\\u679C\\u8FD4\\u56DE-\\u67E5\\u8BE2\\u7ED3\\u679C\\u603B\\u7ED3\\u8F93\\u51FA\\u7684\\u5B8C\\u6574\\u95ED\\u73AF\"}),\"\\uFF0C\\u5B9E\\u73B0\\u53EF\\u9760\\u3001\\u51C6\\u786E\\u7684\\u95EE\\u7B54\\u6D41\\u7A0B\\u3002\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u9879\\u76EE\\u65E9\\u671F\\u672A\\u5F15\\u5165Text2SQL\\u65F6\\uFF0C\\u9488\\u5BF9\\u7528\\u6237\\u5957\\u9910\\u67E5\\u8BE2\\u7684\\u9700\\u6C42\\uFF0C\\u6211\\u4EEC\\u57FA\\u4E8E\\u5355\\u7EAFRAG\\u8BED\\u4E49\\u5411\\u91CF\\u5339\\u914D\\u548C\\u57FA\\u5EA7\\u5927\\u6A21\\u578B\\u80FD\\u529B\\uFF0C\\u65E0\\u6CD5\\u5B9E\\u73B0\\u5BF9\\u7528\\u6237\\u95EE\\u9898\\u7684\\u7CBE\\u51C6\\u56DE\\u7B54\\uFF0C\\u4F8B\\u5982\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5F53\\u7528\\u6237\\u63D0\\u95EE\\uFF1A\\u201C\\u5C06\\u6D41\\u91CF\\u5957\\u9910\\u5347\\u6863\\u523020g\\uFF0C\\u63A8\\u8350\\u4EC0\\u4E48\\u201D\\u65F6\\uFF0C\\u539F\\u6709\\u7684\\u56DE\\u7B54\\u4EC5\\u7B80\\u5355\\u63D0\\u5230\\u4E86\\u201C\\u7545\\u60F320GB\\u6D41\\u91CF\\u5957\\u9910\\u201D\\uFF0C\\u5BF9\\u4E8E\\u5176\\u4ED6\\u7684\\u9009\\u62E9\\u5E76\\u6CA1\\u6709\\u63D0\\u53CA\\u3002\\u6B64\\u5916\\uFF0C\\u56DE\\u7B54\\u4E2D\\u8FD8\\u5B58\\u5728\\u4E00\\u4E9B\\u7531\\u5927\\u6A21\\u578B\\u81EA\\u884C\\u7406\\u89E3\\u8F93\\u51FA\\u7684\\u4FE1\\u606F\\uFF0C\\u7F3A\\u4E4F\\u53EF\\u9760\\u6027\\u4E0E\\u771F\\u5B9E\\u6027\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E00\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u5728\\u6570\\u667A\\u52A9\\u624B\\u9879\\u76EE\\u5B9E\\u8DF5\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u53D1\\u73B0\\u63D0\\u5347\\u6B63\\u786E\\u7387\\u7684\\u6700\\u5927\\u7684\\u96BE\\u70B9\\u662F\\u63A8\\u7406\\u6240\\u7528\\u5230\\u7684\\u4E1A\\u52A1\\u77E5\\u8BC6\\u548C\\u573A\\u666F\\uFF08\\u5305\\u62EC\\u4E1A\\u52A1\\u6A21\\u578B+\\u4E1A\\u52A1\\u89C4\\u5219\\uFF09\\u3002\\u5355\\u7EAF\\u4F9D\\u8D56\\u4E8E\\u63D0\\u793A\\u8BCD\\u7684\\u65B9\\u6848\\u65E0\\u6CD5\\u6EE1\\u8DB3\\u5B9E\\u9645\\u4E1A\\u52A1\\u5BF9\\u56DE\\u7B54\\u51C6\\u786E\\u7387\\u7684\\u8981\\u6C42\\u3002\\u56E0\\u6B64\\uFF0C\\u5982\\u4F55\\u5C06\\u7528\\u6237\\u95EE\\u9898\\u51C6\\u786E\\u8F6C\\u6362\\u4E3ASQL\\u8868\\u53EF\\u8BC6\\u522B\\u7684\\u67E5\\u8BE2\\u8BED\\u53E5\\uFF0C\\u662F\\u6211\\u4EEC\\u9700\\u8981\\u91CD\\u70B9\\u89E3\\u51B3\\u7684\\u95EE\\u9898\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"text2sql\\u5927\\u6A21\\u578B\\u73B0\\u5B58\\u95EE\\u9898\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#text2sql\\u5927\\u6A21\\u578B\\u73B0\\u5B58\\u95EE\\u9898\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Text2SQL\\u5927\\u6A21\\u578B\\u73B0\\u5B58\\u95EE\\u9898\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u5B9E\\u8DF5\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53D1\\u73B0\\u76EE\\u524D\\u7684Text2SQL\\u4E2D\\u5B58\\u5728\\u7684\\u4E00\\u4E9B\\u4E3B\\u8981\\u95EE\\u9898\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"(1) \\u8F93\\u51FA\\u5E7B\\u89C9\\uFF08Hallucination\\uFF09\"}),\"\\uFF1ALLM\\u5728\\u751F\\u6210SQL\\u8BED\\u53E5\\u65F6\\u4F1A\\u751F\\u6210\\u4E00\\u4E9B\\u770B\\u4F3C\\u5408\\u7406\\uFF0C\\u4F46\\u5B9E\\u9645\\u4E0E\\u8F93\\u5165\\u6587\\u672C\\u65E0\\u5173\\u6216\\u9519\\u8BEF\\u7684\\u67E5\\u8BE2\\uFF0C\\u8FD9\\u53EF\\u80FD\\u662F\\u7531\\u4E8E\\u6A21\\u578B\\u5C1A\\u672A\\u5145\\u5206\\u5B66\\u4E60\\u5230\\u6570\\u636E\\u5E93\\u7684\\u4FE1\\u606F\\u548CSQL\\u903B\\u8F91\\uFF0C\\u5BFC\\u81F4\\u5728\\u63A8\\u7406\\u9636\\u6BB5\\u4EA7\\u751F\\u8BEF\\u5BFC\\u6027\\u7684\\u8F93\\u51FA\\u3002\\u4F8B\\u5982\\uFF0C\\u5F53\\u7528\\u6237\\u63D0\\u95EE\\uFF1A\\u201C\\u6BD4\\u8BED\\u97F3\\u7FFB\\u500D\\u5305\\u66F4\\u7ECF\\u6D4E\\u7684\\u5957\\u9910\\u6709\\u54EA\\u4E9B\\uFF1F\\u201D\\uFF0C\\u751F\\u6210\\u7684SQL\\u547D\\u4EE4\\u4E3A\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsx)(n.code,{className:\"language-sql code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" money \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"50\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5927\\u6A21\\u578B\\u76F4\\u63A5\\u8BA4\\u4E3A\\u201D\\u8BED\\u97F3\\u7FFB\\u500D\\u5305\\u201C\\u7684\\u4EF7\\u683C\\u4E3A50\\u5143\\uFF0C\\u5E76\\u4EE5\\u6B64\\u8F93\\u51FASQL\\u8BED\\u53E5\\uFF0C\\u5BFC\\u81F4\\u67E5\\u8BE2\\u7ED3\\u679C\\u51FA\\u9519\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"(2) \\u7B54\\u6848\\u7A33\\u5B9A\\u6027\"}),\"\\uFF1A\\u6A21\\u578B\\u751F\\u6210\\u7B54\\u6848\\u4E0D\\u591F\\u7A33\\u5B9A\\uFF0C\\u5076\\u5C14\\u9700\\u8981\\u591A\\u6B21\\u63D0\\u95EE\\u624D\\u80FD\\u627E\\u5230\\u6700\\u4F18\\u7B54\\u6848\\u3002\\u4F8B\\u5982\\uFF0C\\u7528\\u6237\\u591A\\u6B21\\u63D0\\u95EE\\u201D\\u8BF7\\u95EE\\u6D41\\u91CF\\u8D85\\u8FC73000MB\\u6709\\u51E0\\u79CD\\u5957\\u9910\\u201C\\uFF0C\\u5F97\\u5230\\u7684\\u56DE\\u7B54\\u4F1A\\u51FA\\u73B0\\u4EE5\\u4E0B\\u51E0\\u79CD\\u60C5\\u51B5\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"COUNT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" en_names \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"LIKE\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'\\u6D41\\u91CF\\u8D85\\u8FC73000MB'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"COUNT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" en_broadband \",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"COUNT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" en_broadband \",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u591A\\u6B21\\u63D0\\u95EE\\u7684\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u51FA\\u73B0\\u4E86\\u8BED\\u4E49\\u7406\\u89E3\\u4E0D\\u6E05\\uFF08\\u5C06\\u201D\\u6D41\\u91CF\\u8D85\\u8FC73000MB\\u201C\\u4F5C\\u4E3A\\u5957\\u9910\\u540D\\uFF09\\u3001\\u5355\\u4F4D\\u6362\\u7B97\\u51FA\\u9519\\uFF08MB\\u8F6C\\u6362\\u6210GB\\uFF09\\u7684\\u60C5\\u51B5\\uFF0C\\u66B4\\u9732\\u51FA\\u5927\\u6A21\\u578B\\u7A33\\u5B9A\\u6027\\u4E0D\\u5F3A\\u7684\\u95EE\\u9898\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u4F18\\u5316\\u65B9\\u6CD5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F18\\u5316\\u65B9\\u6CD5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4F18\\u5316\\u65B9\\u6CD5\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E9B\\u6A21\\u578B\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u8003\\u8651\\u4E86Prompt Engineering\\uFF08\\u63D0\\u793A\\u5DE5\\u7A0B\\uFF09\\u3001Fine-tuning\\uFF08\\u6A21\\u578B\\u5FAE\\u8C03\\uFF09\\u7B49\\u65B9\\u5F0F\\u5BF9\\u6A21\\u578B\\u8FDB\\u884C\\u4F18\\u5316\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"(1) Prompt Engineering\\uFF08\\u63D0\\u793A\\u5DE5\\u7A0B\\uFF09\"}),\" \\u80FD\\u591F\\u901A\\u8FC7\\u8BBE\\u8BA1\\u7279\\u5B9A\\u7684\\u63D0\\u793A\\u8BCD\\u6216\\u53E5\\u5B50\\uFF0C\\u5F15\\u5BFC\\u6A21\\u578B\\u751F\\u6210\\u66F4\\u8D34\\u5408\\u7528\\u6237\\u610F\\u56FE\\u7684\\u8F93\\u51FA\\u3002\\u5728\\u5904\\u7406SQL\\u67E5\\u8BE2\\u65F6\\uFF0C\\u5411\\u6A21\\u578B\\u6CE8\\u5165\\u7279\\u5B9A\\u9886\\u57DF\\u7684\\u77E5\\u8BC6\\uFF0C\\u6BD4\\u5982SQL\\u89C4\\u8303\\u3001\\u6570\\u636E\\u5E93\\u67B6\\u6784\\u4EE5\\u53CA\\u6CE8\\u610F\\u5355\\u4F4D\\u8F6C\\u6362\\u7B49\\u989D\\u5916\\u8981\\u6C42\\uFF0C\\u80FD\\u591F\\u663E\\u8457\\u63D0\\u5347\\u6A21\\u578B\\u5BF9\\u4E8ESQL\\u8BED\\u53E5\\u7ED3\\u6784\\u548C\\u903B\\u8F91\\u7684\\u7406\\u89E3\\u80FD\\u529B\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"(2) Fine-tuning\\uFF08\\u6A21\\u578B\\u5FAE\\u8C03\\uFF09\"}),\" \\u662F\\u4E00\\u79CD\\u5148\\u8FDB\\u7684\\u673A\\u5668\\u5B66\\u4E60\\u6280\\u672F\\uFF0C\\u65E8\\u5728\\u9488\\u5BF9\\u9884\\u8BAD\\u7EC3\\u6A21\\u578B\\u8FDB\\u884C\\u5B9A\\u5236\\u5316\\u8C03\\u6574\\uFF0C\\u4F7F\\u5176\\u66F4\\u52A0\\u5951\\u5408\\u7279\\u5B9A\\u5E94\\u7528\\u573A\\u666F\\u7684\\u9700\\u6C42\\u3002\\u5C24\\u5176\\u5728Text2SQL\\u8FD9\\u7C7B\\u590D\\u6742\\u4EFB\\u52A1\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\\u5229\\u7528\\u5BCC\\u542BSQL\\u8BED\\u53E5\\u7684\\u4E13\\u95E8\\u6570\\u636E\\u96C6\\u5BF9\\u6A21\\u578B\\u8FDB\\u884C\\u5FAE\\u8C03\\uFF0C\\u4EE5\\u6B64\\u5F3A\\u5316\\u6A21\\u578B\\u5BF9SQL\\u8BED\\u8A00\\u7279\\u6027\\u7684\\u7406\\u89E3\\u548C\\u751F\\u6210\\u80FD\\u529B\\u3002\"]}),`\n`,(0,e.jsxs)(n.h4,{id:\"\\u4F18\\u5316\\u5C1D\\u8BD5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F18\\u5316\\u5C1D\\u8BD5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4F18\\u5316\\u5C1D\\u8BD5\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6839\\u636E\\u4F18\\u5316\\u65B9\\u6848\\u7684\\u8C03\\u7814\\u7ED3\\u679C\\uFF0C\\u6211\\u4EEC\\u9996\\u5148\\u5C1D\\u8BD5\\u901A\\u8FC7\\u63D0\\u793A\\u5DE5\\u7A0B\\u5BF9Text2SQL\\u8FDB\\u884C\\u4F18\\u5316\\u3002Prompt\\u793A\\u4F8B\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-text\",children:(0,e.jsxs)(n.code,{className:\"language-text code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u4F60\\u662F\\u4E00\\u4F4D\\u4F18\\u79C0\\u7684\\u6587\\u672C\\u8F6Csql\\u547D\\u4EE4\\u7684AI\\u4E13\\u5BB6\\uFF0C\\u64C5\\u957F\\u7684\\u4E8B\\u60C5\\u662F\\u5206\\u6790\\u7528\\u6237\\u63D0\\u95EE\\u7684\\u771F\\u5B9E\\u610F\\u56FE\\uFF0C\\u5C06\\u5176\\u8F6C\\u6362\\u6210sql\\u547D\\u4EE4\\uFF0Csql\\u547D\\u4EE4\\u5207\\u8BB0\\u4E0D\\u8981\\u751F\\u7F16\\u4E71\\u9020\\uFF0C\\u4E14\\u53EA\\u8FD4\\u56DEsql\\uFF0C\\u4E0D\\u8FD4\\u56DE\\u5176\\u4ED6\\u5206\\u6790\\u5185\\u5BB9\\u3002\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`sql\\u8868\\u5305\\u542B\\u4EE5\\u4E0B\\u5C5E\\u6027\\uFF1A***\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u793A\\u4F8B\\uFF1A\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u7528\\u6237\\u8F93\\u5165\\uFF1A\"\\u7528\\u6237\\u6253\\u7B97\\u5C06\\u6D41\\u91CF\\u5957\\u9910\\u5347\\u6863\\u52304GB\\uFF0C\\u63A8\\u8350\\u4EC0\\u4E48\"\\uFF0C\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u8FD4\\u56DEsql\\uFF1A\"SELECT * FROM database WHERE GB = 4000\"\\u3002\n`})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u5BF9\\u5927\\u6A21\\u578B\\u8F93\\u5165\\u63D0\\u793A\\u8BCD\\u540E\\uFF0C\\u8FDB\\u884C\\u4E86\\u6027\\u80FD\\u6D4B\\u8BD5\\uFF0C\\u6D4B\\u8BD5\\u51C6\\u786E\\u7387\\u4E3A83%\\u3002\\u4F8B\\u5982\\uFF0C\\u5411\\u5176\\u63D0\\u95EE\\uFF1A\\u201C98\\u592A\\u8D35\\u4E86\\uFF0C\\u6709\\u6CA1\\u6709\\u4FBF\\u5B9C\\u70B9\\u7684\\u201D\\uFF0C\\u80FD\\u591F\\u5F97\\u5230\\u6B63\\u786E\\u7ED3\\u679C\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsx)(n.code,{className:\"language-sql code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" en_money \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"98\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"AND\"}),\" en_money \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u800C\\u9519\\u8BEF\\u7ED3\\u679C\\u4E2D\\uFF0C\\u5927\\u90E8\\u5206\\u9519\\u8BEF\\u6570\\u636E\\u4E0E\\u5957\\u9910\\u540D\\u79F0\\u6709\\u5173\\u3002\\u4F8B\\u5982\\uFF0C\\u7528\\u6237\\u63D0\\u95EE\\uFF1A\\u201C\\u6559\\u80B2\\u5168\\u80FD\\u4F1A\\u5458\\u8BA1\\u5212\\u91CC\\uFF0C\\u54EA\\u4E9B\\u5957\\u9910\\u5305\\u542B\\u81F3\\u5C112GB\\u7684\\u6570\\u636E\\uFF1F\\u201D\\uFF0C\\u8FD4\\u56DE\\u7ED3\\u679C\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsx)(n.code,{className:\"language-sql code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"AND\"}),\" en_GB \",(0,e.jsx)(n.span,{className:\"token operator\",children:\">=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u867D\\u7136\\u6B63\\u786E\\u7B5B\\u9009\\u51FA\\u4E86\\u6D41\\u91CF\\u8D85\\u8FC72GB\\u7684\\u5957\\u9910\\uFF0C\\u4F46\\u65E0\\u6CD5\\u5B9A\\u4F4D\\u5230\\u201C\\u6559\\u80B2\\u5168\\u80FD\\u4F1A\\u5458\\u8BA1\\u5212\\u201D\\u5957\\u9910\\uFF0C\\u5BFC\\u81F4\\u67E5\\u8BE2\\u51FA\\u5927\\u91CF\\u7684\\u4FE1\\u606F\\uFF0C\\u4E3A\\u540E\\u7EED\\u603B\\u7ED3\\u8F93\\u51FA\\u5E26\\u6765\\u56F0\\u96BE\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u9274\\u4E8E\\u7528\\u6237\\u67E5\\u8BE2\\u5E38\\u6D89\\u53CA\\u7279\\u5B9A\\u5957\\u9910\\u540D\\u79F0\\uFF0C\\u73B0\\u6709\\u901A\\u7528\\u5927\\u6A21\\u578B\\u53EF\\u80FD\\u7F3A\\u4E4F\\u8FD9\\u4E9B\\u7EC6\\u8282\\u4FE1\\u606F\\u3002\\u56E0\\u6B64\\uFF0C\\u6211\\u4EEC\\u8BA1\\u5212\\u8BA9\\u5927\\u6A21\\u578B\\u5BF9\\u4E13\\u4E1A\\u77E5\\u8BC6\\u8FDB\\u884C\\u5B66\\u4E60\\uFF0C\\u4ECE\\u800C\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u5176\\u8BED\\u4E49\\u7406\\u89E3\\u80FD\\u529B\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u76EE\\u524D\\u6A21\\u578B\\u5FAE\\u8C03\\u4E3B\\u6D41\\u7684\\u65B9\\u6CD5\\u5305\\u62EC2021\\u5E74\\u5FAE\\u8F6F\\u63D0\\u51FA\\u7684 LoRA (Low-Rank Adaptation)\\u3002LoRA\\u5FAE\\u8C03\\u901A\\u8FC7\\u5C06\\u6A21\\u578B\\u7684\\u90E8\\u5206\\u6743\\u91CD\\u77E9\\u9635\\u5206\\u89E3\\u4E3A\\u4E24\\u4E2A\\u4F4E\\u79E9\\u77E9\\u9635\\uFF0C\\u53EA\\u66F4\\u65B0\\u8FD9\\u4E24\\u4E2A\\u5C0F\\u77E9\\u9635\\u7684\\u53C2\\u6570\\u6765\\u5B9E\\u73B0\\u5FAE\\u8C03\\uFF0C\\u4ECE\\u800C\\u51CF\\u5C11\\u8BA1\\u7B97\\u8D44\\u6E90\\u548C\\u5185\\u5B58\\u5360\\u7528\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u5FAE\\u8C03\\u8BAD\\u7EC3\\u6570\\u636E\\u51C6\\u5907\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5FAE\\u8C03\\u8BAD\\u7EC3\\u6570\\u636E\\u51C6\\u5907\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5FAE\\u8C03\\u8BAD\\u7EC3\\u6570\\u636E\\u51C6\\u5907\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u751F\\u6210\\u65B9\\u6CD5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u751F\\u6210\\u65B9\\u6CD5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u751F\\u6210\\u65B9\\u6CD5\"]}),`\n`,(0,e.jsx)(n.p,{children:\"(1) \\u63D0\\u53D6\\u5173\\u952E\\u5C5E\\u6027\\u4FE1\\u606F\\uFF1A\\u5BF9\\u4E1A\\u52A1\\u77E5\\u8BC6\\u63D0\\u53D6\\u5173\\u952E\\u5C5E\\u6027\\u53CA\\u5BF9\\u5E94\\u7684\\u4FE1\\u606F\\u3002\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u540D\\u79F0\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"names\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u4EF7\\u683C\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"money\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u6D41\\u91CF\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"GB\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u53EF\\u901A\\u8BDD\\u65F6\\u957F\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"duration\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u4E0A\\u7EBF\\u5E74\\u4EFD\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"online_years\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u4E0B\\u7EBF\\u5E74\\u4EFD\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"offline_years\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u5BBD\\u5E26\\u91CF\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"broadband\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u5730\\u70B9\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"locations\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"(2) \\u6784\\u5EFA\\u5E38\\u89C1\\u7684\\u7528\\u6237\\u95EE\\u9898\\u4E0Esql\\u547D\\u4EE4\\u8BED\\u6599\\u5BF9\\uFF0C\\u901A\\u8FC7\\u62BD\\u8C61\\u5316\\u7528\\u6237\\u53EF\\u80FD\\u63D0\\u95EE\\u7684\\u95EE\\u9898\\uFF0C\\u5E76\\u8FDB\\u884C\\u5BF9\\u5E94\\u7684\\u540C\\u4E49\\u8BCD\\u66FF\\u6362\\uFF0C\\u751F\\u6210\\u5927\\u91CF\\u8BAD\\u7EC3\\u6837\\u672C\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u793A\\u4F8B1\"}),`\\uFF1A\\u67E5\\u8BE2128\\u5143\\u7684\\u5957\\u9910\n`,(0,e.jsx)(n.code,{children:\"SELECT * FROM {table_name} WHERE money = {money};\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u793A\\u4F8B2\"}),`\\uFF1A\\u964D\\u6863\\u6D41\\u91CF\\u5957\\u9910\\u523060G\n`,(0,e.jsx)(n.code,{children:\"SELECT * FROM {table_name} WHERE GB = {GB};\"})]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"(3) \\u8BAD\\u7EC3\\u8BED\\u6599\\u5BF9\\u4FDD\\u5B58\\u4E3Ajson\\u683C\\u5F0F\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsxs)(n.code,{className:\"language-json code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"user\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\u5347\\u7EA7\\u523041GB\\u6D41\\u91CF\\u7684\\u5957\\u9910\\uFF0C\\u6709\\u4EC0\\u4E48\\u5EFA\\u8BAE\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"assistant\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"SELECT * FROM database WHERE GB = 41000;\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u751F\\u6210\\u89C4\\u6A21\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u751F\\u6210\\u89C4\\u6A21\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u751F\\u6210\\u89C4\\u6A21\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5171\\u751F\\u6210\",(0,e.jsx)(n.strong,{children:\"15w\\u6761\\u8BED\\u6599\\u5BF9\"}),\"\\uFF0C\\u5305\\u62EC\\u6B63\\u5411\\u8BED\\u6599\\u548C\\u53CD\\u5411\\u8BED\\u6599\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6B63\\u5411\\u8BED\\u6599\"}),\"\\uFF1A\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u76F4\\u63A5\\u67E5\\u8BE2\\u7C7B\"}),\"\\uFF1A\\u751F\\u62105w\\u6761\\u6837\\u672C\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6570\\u5B57\\u6BD4\\u8F83\\u7C7B\"}),\"\\uFF1A\\u751F\\u62105w\\u6761\\u6837\\u672C\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u53CD\\u5411\\u8BED\\u6599\"}),\"\\uFF1A\\u751F\\u62105w\\u6761\\u6837\\u672C\\u3002\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u5FAE\\u8C03\\u8FC7\\u7A0B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5FAE\\u8C03\\u8FC7\\u7A0B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5FAE\\u8C03\\u8FC7\\u7A0B\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6240\\u9700\\u8D44\\u6E90\"}),\"\\uFF1AGPU\\uFF1ANVIDIA A100-SXM4-40GB x2\\uFF1B\\u5FAE\\u8C03\\u6A21\\u578B\\uFF1AQWen-7b-chat\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8BAD\\u7EC3\\u65F6\\u957F\"}),\"\\uFF1A\\u5927\\u7EA63.75\\u5C0F\\u65F6\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u5BF9\\u5FAE\\u8C03\\u540E\\u7684\\u6A21\\u578B\\u8FDB\\u884C\\u6D4B\\u8BD5\\uFF0C\\u7528\\u6237\\u95EE\\u9898\\u4E0ESQL\\u8BED\\u53E5\\u7684\\u8F6C\\u6362\\u6B63\\u786E\\u7387\\u53EF\\u8FBE\",(0,e.jsx)(n.strong,{children:\"98.56%\"}),\"\\uFF0C\\u8FBE\\u5230\\u4E86\\u751F\\u4EA7\\u4E0A\\u7EBF\\u7684\\u6807\\u51C6\\u3002\\u5F53\\u6211\\u4EEC\\u5C06\\u5FAE\\u8C03\\u6A21\\u578B\\u90E8\\u7F72\\u540E\\uFF0C\\u56DE\\u7B54\\u7684\\u5957\\u9910\\u4FE1\\u606F\\u5DF2\\u660E\\u663E\\u6269\\u5145\\uFF0C\\u5E76\\u4E14\\u4ECE\\u7528\\u6237\\u89D2\\u5EA6\\u8003\\u8651\\u4E86\\u77ED\\u671F\\u548C\\u957F\\u671F\\u4E24\\u79CD\\u60C5\\u51B5\\uFF0C\\u5411\\u7528\\u6237\\u63D0\\u4F9B\\u4E86\\u66F4\\u5168\\u9762\\u3001\\u66F4\\u53EF\\u9760\\u7684\\u7B54\\u6848\\u3002\"]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u672A\\u6765\\u5C55\\u671B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u672A\\u6765\\u5C55\\u671B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u672A\\u6765\\u5C55\\u671B\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u968F\\u7740\\u5927\\u6A21\\u578B\\u6280\\u672F\\u7684\\u65E5\\u65B0\\u6708\\u5F02\\uFF0CText2SQL\\u6280\\u672F\\u4E5F\\u5728\\u4EE5\\u60CA\\u4EBA\\u7684\\u901F\\u5EA6\\u4E0D\\u65AD\\u53D1\\u5C55\\u3002\\u76EE\\u524D\\u6240\\u91C7\\u7528\\u7684\\u4F18\\u5316\\u624B\\u6BB5\\uFF0C\\u867D\\u7136\\u5728\\u73B0\\u9636\\u6BB5\\u53EF\\u80FD\\u6709\\u6548\\uFF0C\\u4F46\\u968F\\u7740\\u5927\\u6A21\\u578B\\u80FD\\u529B\\u7684\\u6301\\u7EED\\u63D0\\u5347\\uFF0C\\u8FD9\\u4E9B\\u624B\\u6BB5\\u5F88\\u53EF\\u80FD\\u4F1A\\u9010\\u6E10\\u663E\\u5F97\\u8FC7\\u65F6\\uFF0C\\u751A\\u81F3\\u88AB\\u5F7B\\u5E95\\u6DD8\\u6C70\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E00\\u65B9\\u9762\\uFF0C\\u6211\\u4EEC\\u4E0D\\u80FD\\u795E\\u8BDD\\u5927\\u578B\\u8BED\\u8A00\\u6A21\\u578B\\uFF08LLM\\uFF09\\u7684\\u80FD\\u529B\\uFF0C\\u7ED9\\u4E88\\u5176\\u8FC7\\u9AD8\\u7684\\u671F\\u671B\\u3002\\u53E6\\u4E00\\u65B9\\u9762\\uFF0C\\u6211\\u4EEC\\u4E5F\\u4E0D\\u80FD\\u56E0\\u9AD8\\u4F30\\u5DE5\\u7A0B\\u5B9E\\u73B0\\u7684\\u96BE\\u5EA6\\u800C\\u671B\\u800C\\u751F\\u754F\\u3002\\u53EA\\u6709\\u4E00\\u6B65\\u4E00\\u4E2A\\u811A\\u5370\\uFF0C\\u8E0F\\u8E0F\\u5B9E\\u5B9E\\u5730\\u89E3\\u51B3\\u5DE5\\u7A0B\\u5B9E\\u8DF5\\u4E2D\\u7684\\u6BCF\\u4E00\\u4E2A\\u95EE\\u9898\\uFF0C\\u624D\\u80FD\\u6700\\u7EC8\\u5C06Text2SQL\\u6280\\u672F\\u63A8\\u5411\\u6210\\u719F\\u7684\\u751F\\u4EA7\\u9636\\u6BB5\\u3002\"})]})}function h(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(t,{...a})}):t(a)}return S(x);})();\n;return Component;"
    },
    "_id": "blog/text2sql-finetuning-practice.md",
    "_raw": {
      "sourceFilePath": "blog/text2sql-finetuning-practice.md",
      "sourceFileName": "text2sql-finetuning-practice.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/text2sql-finetuning-practice"
    },
    "type": "Blog",
    "readingTime": {
      "text": "11 min read",
      "minutes": 10.85,
      "time": 651000,
      "words": 2170
    },
    "slug": "text2sql-finetuning-practice",
    "path": "blog/text2sql-finetuning-practice",
    "toc": [
      {
        "value": "é—®é¢˜åˆ†æ",
        "url": "#é—®é¢˜åˆ†æ",
        "depth": 2
      },
      {
        "value": "Text2SQLå¤§æ¨¡å‹ç°å­˜é—®é¢˜",
        "url": "#text2sqlå¤§æ¨¡å‹ç°å­˜é—®é¢˜",
        "depth": 3
      },
      {
        "value": "ä¼˜åŒ–æ–¹æ³•",
        "url": "#ä¼˜åŒ–æ–¹æ³•",
        "depth": 3
      },
      {
        "value": "ä¼˜åŒ–å°è¯•",
        "url": "#ä¼˜åŒ–å°è¯•",
        "depth": 4
      },
      {
        "value": "å¾®è°ƒè®­ç»ƒæ•°æ®å‡†å¤‡",
        "url": "#å¾®è°ƒè®­ç»ƒæ•°æ®å‡†å¤‡",
        "depth": 2
      },
      {
        "value": "ç”Ÿæˆæ–¹æ³•",
        "url": "#ç”Ÿæˆæ–¹æ³•",
        "depth": 3
      },
      {
        "value": "ç”Ÿæˆè§„æ¨¡",
        "url": "#ç”Ÿæˆè§„æ¨¡",
        "depth": 3
      },
      {
        "value": "å¾®è°ƒè¿‡ç¨‹",
        "url": "#å¾®è°ƒè¿‡ç¨‹",
        "depth": 2
      },
      {
        "value": "æœªæ¥å±•æœ›",
        "url": "#æœªæ¥å±•æœ›",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "æ±Ÿè‹ç§»åŠ¨æ•°æ™ºåŠ©æ‰‹ Text2SQL å¤§æ¨¡å‹å¾®è°ƒå®è·µ",
      "datePublished": "2024-08-03T00:00:00.000Z",
      "dateModified": "2024-08-03T00:00:00.000Z",
      "description": "éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„è¿…çŒ›å‘å±•ï¼Œä¼ä¸šåœ¨æ•°æ®å¤„ç†å’Œåˆ†ææ–¹é¢çš„éœ€æ±‚ä¹Ÿæ—¥ç›Šå¢é•¿ã€‚ä¸ºäº†æ›´é«˜æ•ˆåœ°ä»æµ·é‡æ•°æ®ä¸­æå–æœ‰ç”¨ä¿¡æ¯ï¼Œæˆ‘ä»¬åœ¨æ•°æ™ºåŠ©æ‰‹ä¸­è¿›è¡Œäº†Text2SQLå¾®è°ƒå®è·µã€‚",
      "url": "https://zhangjian94cn.github.io/blog/text2sql-finetuning-practice"
    }
  },
  {
    "title": "æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢",
    "date": "2026-02-01T00:00:00.000Z",
    "tags": [
      "å…¬å‘Š",
      "åšå®¢"
    ],
    "draft": false,
    "summary": "ä¸ªäººåšå®¢æ­£å¼ä¸Šçº¿ï¼è¿™é‡Œå°†åˆ†äº« AI æŠ€æœ¯æ¢ç´¢ã€å­¦ä¹ ç¬”è®°ä¸ç”Ÿæ´»æ€è€ƒã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## ğŸ‘‹ ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼\n\nè¿™æ˜¯æˆ‘çš„ä¸ªäººç½‘ç«™ï¼Œåœ¨è¿™é‡Œæˆ‘ä¼šåˆ†äº«ï¼š\n\n- **AI æŠ€æœ¯å®è·µ**ï¼šå¤§è¯­è¨€æ¨¡å‹ã€RAGã€Text2SQL ç­‰å®æˆ˜ç»éªŒ\n- **å­¦ä¹ ç¬”è®°**ï¼šè®¡ç®—æœºè§†è§‰ã€é«˜æ€§èƒ½è®¡ç®—ã€ç®—æ³•ä¼˜åŒ–\n- **ç”Ÿæ´»æ€è€ƒ**ï¼šå·¥ä½œæ–¹æ³•è®ºã€ä¸ªäººæˆé•¿\n\n## ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ\n\nå†™ä½œæ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹å¼ä¹‹ä¸€ã€‚é€šè¿‡å°†æ‰€å­¦æ•´ç†æˆæ–‡å­—ï¼Œå¯ä»¥ï¼š\n\n1. åŠ æ·±å¯¹çŸ¥è¯†çš„ç†è§£\n2. å»ºç«‹ä¸ªäººçŸ¥è¯†åº“\n3. ä¸ç¤¾åŒºäº¤æµåˆ†äº«\n\n## æŠ€æœ¯æ ˆ\n\nè¿™ä¸ªåšå®¢ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯æ„å»ºï¼š\n\n- **æ¡†æ¶**: Next.js 16 + React 19\n- **æ ·å¼**: Tailwind CSS 4\n- **å†…å®¹**: Contentlayer + MDX\n- **éƒ¨ç½²**: æ”¯æŒ GitHub Pages / è‡ªæ‰˜ç®¡\n\næ¬¢è¿å…³æ³¨ï¼Œä¸€èµ·äº¤æµå­¦ä¹ ï¼\n",
      "code": "var Component=(()=>{var u=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var f=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),N=(r,n)=>{for(var i in n)t(r,i,{get:n[i],enumerable:!0})},a=(r,n,i,c)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let l of p(n))!g.call(r,l)&&l!==i&&t(r,l,{get:()=>n[l],enumerable:!(c=m(n,l))||c.enumerable});return r};var _=(r,n,i)=>(i=r!=null?u(x(r)):{},a(n||!r||!r.__esModule?t(i,\"default\",{value:r,enumerable:!0}):i,r)),j=r=>a(t({},\"__esModule\",{value:!0}),r);var h=f((M,d)=>{d.exports=_jsx_runtime});var b={};N(b,{default:()=>o,frontmatter:()=>I});var e=_(h()),I={title:\"\\u6B22\\u8FCE\\u6765\\u5230\\u6211\\u7684\\u535A\\u5BA2\",date:\"2026-02-01\",tags:[\"\\u516C\\u544A\",\"\\u535A\\u5BA2\"],draft:!1,summary:\"\\u4E2A\\u4EBA\\u535A\\u5BA2\\u6B63\\u5F0F\\u4E0A\\u7EBF\\uFF01\\u8FD9\\u91CC\\u5C06\\u5206\\u4EAB AI \\u6280\\u672F\\u63A2\\u7D22\\u3001\\u5B66\\u4E60\\u7B14\\u8BB0\\u4E0E\\u751F\\u6D3B\\u601D\\u8003\\u3002\",authors:[\"default\"]};function s(r){let n={a:\"a\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"-\\u4F60\\u597D\\u6B22\\u8FCE\\u6765\\u5230\\u6211\\u7684\\u535A\\u5BA2\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#-\\u4F60\\u597D\\u6B22\\u8FCE\\u6765\\u5230\\u6211\\u7684\\u535A\\u5BA2\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u{1F44B} \\u4F60\\u597D\\uFF0C\\u6B22\\u8FCE\\u6765\\u5230\\u6211\\u7684\\u535A\\u5BA2\\uFF01\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u662F\\u6211\\u7684\\u4E2A\\u4EBA\\u7F51\\u7AD9\\uFF0C\\u5728\\u8FD9\\u91CC\\u6211\\u4F1A\\u5206\\u4EAB\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"AI \\u6280\\u672F\\u5B9E\\u8DF5\"}),\"\\uFF1A\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u3001RAG\\u3001Text2SQL \\u7B49\\u5B9E\\u6218\\u7ECF\\u9A8C\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5B66\\u4E60\\u7B14\\u8BB0\"}),\"\\uFF1A\\u8BA1\\u7B97\\u673A\\u89C6\\u89C9\\u3001\\u9AD8\\u6027\\u80FD\\u8BA1\\u7B97\\u3001\\u7B97\\u6CD5\\u4F18\\u5316\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u751F\\u6D3B\\u601D\\u8003\"}),\"\\uFF1A\\u5DE5\\u4F5C\\u65B9\\u6CD5\\u8BBA\\u3001\\u4E2A\\u4EBA\\u6210\\u957F\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199\\u535A\\u5BA2\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199\\u535A\\u5BA2\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199\\u535A\\u5BA2\\uFF1F\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5199\\u4F5C\\u662F\\u6700\\u597D\\u7684\\u5B66\\u4E60\\u65B9\\u5F0F\\u4E4B\\u4E00\\u3002\\u901A\\u8FC7\\u5C06\\u6240\\u5B66\\u6574\\u7406\\u6210\\u6587\\u5B57\\uFF0C\\u53EF\\u4EE5\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u52A0\\u6DF1\\u5BF9\\u77E5\\u8BC6\\u7684\\u7406\\u89E3\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5EFA\\u7ACB\\u4E2A\\u4EBA\\u77E5\\u8BC6\\u5E93\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4E0E\\u793E\\u533A\\u4EA4\\u6D41\\u5206\\u4EAB\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6280\\u672F\\u6808\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6280\\u672F\\u6808\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6280\\u672F\\u6808\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4E2A\\u535A\\u5BA2\\u4F7F\\u7528\\u4EE5\\u4E0B\\u6280\\u672F\\u6784\\u5EFA\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6846\\u67B6\"}),\": Next.js 16 + React 19\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6837\\u5F0F\"}),\": Tailwind CSS 4\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5185\\u5BB9\"}),\": Contentlayer + MDX\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u90E8\\u7F72\"}),\": \\u652F\\u6301 GitHub Pages / \\u81EA\\u6258\\u7BA1\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6B22\\u8FCE\\u5173\\u6CE8\\uFF0C\\u4E00\\u8D77\\u4EA4\\u6D41\\u5B66\\u4E60\\uFF01\"})]})}function o(r={}){let{wrapper:n}=r.components||{};return n?(0,e.jsx)(n,{...r,children:(0,e.jsx)(s,{...r})}):s(r)}return j(b);})();\n;return Component;"
    },
    "_id": "blog/welcome.md",
    "_raw": {
      "sourceFilePath": "blog/welcome.md",
      "sourceFileName": "welcome.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/welcome"
    },
    "type": "Blog",
    "readingTime": {
      "text": "1 min read",
      "minutes": 0.94,
      "time": 56400,
      "words": 188
    },
    "slug": "welcome",
    "path": "blog/welcome",
    "toc": [
      {
        "value": "ğŸ‘‹ ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼",
        "url": "#-ä½ å¥½æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢",
        "depth": 2
      },
      {
        "value": "ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ",
        "url": "#ä¸ºä»€ä¹ˆè¦å†™åšå®¢",
        "depth": 2
      },
      {
        "value": "æŠ€æœ¯æ ˆ",
        "url": "#æŠ€æœ¯æ ˆ",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢",
      "datePublished": "2026-02-01T00:00:00.000Z",
      "dateModified": "2026-02-01T00:00:00.000Z",
      "description": "ä¸ªäººåšå®¢æ­£å¼ä¸Šçº¿ï¼è¿™é‡Œå°†åˆ†äº« AI æŠ€æœ¯æ¢ç´¢ã€å­¦ä¹ ç¬”è®°ä¸ç”Ÿæ´»æ€è€ƒã€‚",
      "url": "https://zhangjian94cn.github.io/blog/welcome"
    }
  },
  {
    "title": "AVX æŒ‡ä»¤å…¥é—¨",
    "date": "2022-11-19T00:00:00.000Z",
    "tags": [
      "HPC",
      "AVX",
      "SIMD",
      "æ€§èƒ½ä¼˜åŒ–"
    ],
    "draft": false,
    "summary": "ä»‹ç» SIMD å‘é‡åŒ–æŒ‡ä»¤çš„åŸºç¡€æ¦‚å¿µï¼ŒåŒ…æ‹¬è‡ªåŠ¨å‘é‡åŒ–ä¸æ‰‹åŠ¨å‘é‡åŒ–çš„å®ç°æ–¹å¼å’Œæ€§èƒ½å¯¹æ¯”ã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## ç®€ä»‹\n\nSIMDï¼ˆSingle Instruction Multiple Dataï¼‰æ˜¯æŒ‡ä¸€æ¡æŒ‡ä»¤èƒ½å¤Ÿæ“ä½œå¤šä¸ªæ•°æ®ï¼Œæ˜¯å¯¹ CPU æŒ‡ä»¤çš„æ‰©å±•ï¼Œä¸»è¦ç”¨æ¥è¿›è¡Œå°æ•°æ®çš„å¹¶è¡Œæ“ä½œã€‚\n\n> Intel æœ€åˆæ”¯æŒ SIMD çš„æŒ‡ä»¤é›†æ˜¯ 1996 å¹´é›†æˆåœ¨ Pentium é‡Œçš„ MMXï¼ˆMulti-Media Extensionï¼Œå¤šåª’ä½“æ‰©å±•ï¼‰ï¼Œå®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯ä¸ºäº†æ”¯æŒ MPEG è§†é¢‘è§£ç ã€‚Intel åœ¨ 1999 å¹´ Pentium3 ä¸­æ¨å‡ºäº† SSEï¼ˆStreaming SIMD Extensionsï¼Œæµå¼SIMDæ‰©å±•ï¼‰ï¼Œæ˜¯ç»§ MMX çš„æ‰©å±•æŒ‡ä»¤é›†ï¼Œä¸»è¦ç”¨äº 3D å›¾å½¢è®¡ç®—ã€‚Intel åœ¨ 2008 å¹´ 3 æœˆä»½æå‡ºäº† AVX æŒ‡ä»¤é›†ï¼ˆAdvanced Vector Extensionï¼Œé«˜çº§å‘é‡æ‰©å±•ï¼‰ï¼Œå®ƒæ˜¯ SSE å»¶ä¼¸æ¶æ„ï¼Œå°† SSE ä¸­çš„ 16 ä¸ª 128 ä½ XMM å¯„å­˜å™¨æ‰©å±•ä¸º 16 ä¸ª 256 ä½ YMM å¯„å­˜å™¨ï¼Œå¢åŠ äº†ä¸€å€çš„è¿ç®—æ•ˆç‡ã€‚ (CSAPP)\n\n## å®ç°\n\nä½¿ç”¨ AVX æŒ‡ä»¤åŠ é€Ÿä»£ç ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š\n\n**è‡ªåŠ¨å‘é‡åŒ–**ï¼šintel C++ ç¼–è¯‘å™¨è¿›è¡Œè‡ªåŠ¨å‘é‡åŒ–ï¼Œéœ€è¦ä½¿ç”¨ `-xhost` ç¼–è¯‘é€‰é¡¹ã€‚åœ¨ gcc ç¼–è¯‘å™¨ä¸­çš„å¯¹åº”é€‰é¡¹ä¸º `-march=native`ã€‚å¼€å¯è¯¥é€‰é¡¹åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ ¹æ® CPU æ”¯æŒçš„æŒ‡ä»¤é›†è¿›è¡Œå‘é‡åŒ–ã€‚\n\n**æ‰‹åŠ¨å‘é‡åŒ–**ï¼šä¸»è¦ä½¿ç”¨ [Intel Intrinsics](https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html) ä¸­çš„æŒ‡ä»¤è¿›è¡Œä»£ç ç¨‹åºçš„ç¼–å†™ã€‚\n\n### è‡ªåŠ¨å‘é‡åŒ–\n\nå¯¹äºä»£ç çš„æŒ‡å®šéƒ¨åˆ†è¿›è¡Œå‘é‡åŒ–å¯ä»¥åŠ ä¸Šç¼–è¯‘å®ï¼š\n\n```cpp\nvoid auto_vec(float* a, float* b, int* idx) {\n    #pragma ivdep\n    #pragma vector always\n    for (int j = 0; j < 1024; ++ j) {\n        a[idx[j]] += b[j];\n    }\n}\n```\n\n**é€Ÿåº¦æ¯”è¾ƒ**ï¼šå½“ä½¿ç”¨ `icc -O3 -xhost` çš„ç¼–è¯‘æŒ‡ä»¤æ—¶ï¼Œè¿è¡Œ 100m æ¬¡ï¼Œç›¸è¾ƒäº `g++ -O3`ï¼Œå‘é‡åŒ–çš„ç¼–è¯‘æ–¹å¼èƒ½å¤Ÿè·å¾— 2 å€å·¦å³çš„é€Ÿåº¦æå‡ã€‚\n\nè§‚å¯Ÿè¾“å‡ºæ–‡ä»¶çš„æ±‡ç¼–ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°å‘é‡åŒ–æŒ‡ä»¤çš„ä½¿ç”¨ï¼š\n\n```asm\n402ee0:       c4 81 7c 10 14 88       vmovups (%r8,%r9,4),%ymm2\n402ee6:       c4 81 7c 10 64 88 20    vmovups 0x20(%r8,%r9,4),%ymm4\n402eed:       c5 fc 57 c0             vxorps %ymm0,%ymm0,%ymm0\n402ef1:       62 f1 7d 08 74 c8       vpcmpeqb %xmm0,%xmm0,%k1\n402ef7:       c5 f4 57 c9             vxorps %ymm1,%ymm1,%ymm1\n402efb:       62 f2 7d 29 92 04 97    vgatherdps (%rdi,%ymm2,4),%ymm0\n```\n\n### æ‰‹åŠ¨å‘é‡åŒ–\n\nä¸‹é¢æ˜¯ç›¸åŒä»£ç çš„æ‰‹åŠ¨å‘é‡åŒ–å®ç°ï¼š\n\n```cpp\nvoid core_intrinsics(std::vector<float>& a, std::vector<float>& b, int* idx) {\n    for (int j = 0; j < 1024; j += 16) {\n        __m512i _idx = _mm512_load_epi32(idx + j);\n        __m512 _b512 = _mm512_load_ps(b.data() + j);\n        __m512 _a512 = _mm512_i32gather_ps(_idx, a.data(), 4);\n\n        __m512 _res = _mm512_add_ps(_a512, _b512);\n        _mm512_i32scatter_ps(a.data(), _idx, _res, 4);\n    }\n}\n```\n\næœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±å°è¯•ï¼Œæ¯”è¾ƒä¸¤ç§æ–¹æ³•çš„é€Ÿåº¦ä»¥åŠèƒŒåçš„åŸå› ã€‚\n\n## ç»“è®º\n\né€šè¿‡ä¸Šé¢çš„ç®€å•å®éªŒï¼Œæˆ‘ä»¬åˆæ­¥è®¤çŸ¥äº†å‘é‡åŒ–çš„ä¸¤ç§å®ç°æ–¹å¼ã€‚ä½†æ˜¯å¦‚ä½•èƒ½æ›´å¥½åœ°åˆ©ç”¨ AVX æŒ‡ä»¤çš„ä¼˜åŠ¿ï¼Œéœ€è¦è€ƒè™‘å…·ä½“çš„ä»£ç ã€‚å½±å“æ€§èƒ½çš„æ ¸å¿ƒå› ç´ æ˜¯ memory bound è¿˜æ˜¯ compute boundï¼Œä»£ç ç¨‹åºæ˜¯å¦èƒ½å®ç°æŒ‡ä»¤ä¸Šçš„å¹¶è¡Œï¼Œä»£ç çš„å…³é”®è·¯å¾„æ˜¯ä»€ä¹ˆç­‰ç­‰éƒ½æ˜¯æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„ã€‚\n",
      "code": "var Component=(()=>{var m=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var _=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),f=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},o=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=h(n,c))||t.enumerable});return a};var x=(a,n,s)=>(s=a!=null?m(N(a)):{},o(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),g=a=>o(l({},\"__esModule\",{value:!0}),a);var r=_((v,i)=>{i.exports=_jsx_runtime});var b={};f(b,{default:()=>p,frontmatter:()=>y});var e=x(r()),y={title:\"AVX \\u6307\\u4EE4\\u5165\\u95E8\",date:\"2022-11-19\",tags:[\"HPC\",\"AVX\",\"SIMD\",\"\\u6027\\u80FD\\u4F18\\u5316\"],draft:!1,summary:\"\\u4ECB\\u7ECD SIMD \\u5411\\u91CF\\u5316\\u6307\\u4EE4\\u7684\\u57FA\\u7840\\u6982\\u5FF5\\uFF0C\\u5305\\u62EC\\u81EA\\u52A8\\u5411\\u91CF\\u5316\\u4E0E\\u624B\\u52A8\\u5411\\u91CF\\u5316\\u7684\\u5B9E\\u73B0\\u65B9\\u5F0F\\u548C\\u6027\\u80FD\\u5BF9\\u6BD4\\u3002\",authors:[\"default\"]};function d(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,e.jsx)(n.p,{children:\"SIMD\\uFF08Single Instruction Multiple Data\\uFF09\\u662F\\u6307\\u4E00\\u6761\\u6307\\u4EE4\\u80FD\\u591F\\u64CD\\u4F5C\\u591A\\u4E2A\\u6570\\u636E\\uFF0C\\u662F\\u5BF9 CPU \\u6307\\u4EE4\\u7684\\u6269\\u5C55\\uFF0C\\u4E3B\\u8981\\u7528\\u6765\\u8FDB\\u884C\\u5C0F\\u6570\\u636E\\u7684\\u5E76\\u884C\\u64CD\\u4F5C\\u3002\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"Intel \\u6700\\u521D\\u652F\\u6301 SIMD \\u7684\\u6307\\u4EE4\\u96C6\\u662F 1996 \\u5E74\\u96C6\\u6210\\u5728 Pentium \\u91CC\\u7684 MMX\\uFF08Multi-Media Extension\\uFF0C\\u591A\\u5A92\\u4F53\\u6269\\u5C55\\uFF09\\uFF0C\\u5B83\\u7684\\u4E3B\\u8981\\u76EE\\u6807\\u662F\\u4E3A\\u4E86\\u652F\\u6301 MPEG \\u89C6\\u9891\\u89E3\\u7801\\u3002Intel \\u5728 1999 \\u5E74 Pentium3 \\u4E2D\\u63A8\\u51FA\\u4E86 SSE\\uFF08Streaming SIMD Extensions\\uFF0C\\u6D41\\u5F0FSIMD\\u6269\\u5C55\\uFF09\\uFF0C\\u662F\\u7EE7 MMX \\u7684\\u6269\\u5C55\\u6307\\u4EE4\\u96C6\\uFF0C\\u4E3B\\u8981\\u7528\\u4E8E 3D \\u56FE\\u5F62\\u8BA1\\u7B97\\u3002Intel \\u5728 2008 \\u5E74 3 \\u6708\\u4EFD\\u63D0\\u51FA\\u4E86 AVX \\u6307\\u4EE4\\u96C6\\uFF08Advanced Vector Extension\\uFF0C\\u9AD8\\u7EA7\\u5411\\u91CF\\u6269\\u5C55\\uFF09\\uFF0C\\u5B83\\u662F SSE \\u5EF6\\u4F38\\u67B6\\u6784\\uFF0C\\u5C06 SSE \\u4E2D\\u7684 16 \\u4E2A 128 \\u4F4D XMM \\u5BC4\\u5B58\\u5668\\u6269\\u5C55\\u4E3A 16 \\u4E2A 256 \\u4F4D YMM \\u5BC4\\u5B58\\u5668\\uFF0C\\u589E\\u52A0\\u4E86\\u4E00\\u500D\\u7684\\u8FD0\\u7B97\\u6548\\u7387\\u3002 (CSAPP)\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u5B9E\\u73B0\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B9E\\u73B0\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B9E\\u73B0\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4F7F\\u7528 AVX \\u6307\\u4EE4\\u52A0\\u901F\\u4EE3\\u7801\\u4E3B\\u8981\\u6709\\u4E24\\u79CD\\u65B9\\u5F0F\\uFF1A\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u81EA\\u52A8\\u5411\\u91CF\\u5316\"}),\"\\uFF1Aintel C++ \\u7F16\\u8BD1\\u5668\\u8FDB\\u884C\\u81EA\\u52A8\\u5411\\u91CF\\u5316\\uFF0C\\u9700\\u8981\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"-xhost\"}),\" \\u7F16\\u8BD1\\u9009\\u9879\\u3002\\u5728 gcc \\u7F16\\u8BD1\\u5668\\u4E2D\\u7684\\u5BF9\\u5E94\\u9009\\u9879\\u4E3A \",(0,e.jsx)(n.code,{children:\"-march=native\"}),\"\\u3002\\u5F00\\u542F\\u8BE5\\u9009\\u9879\\u540E\\uFF0C\\u7F16\\u8BD1\\u5668\\u4F1A\\u81EA\\u52A8\\u6839\\u636E CPU \\u652F\\u6301\\u7684\\u6307\\u4EE4\\u96C6\\u8FDB\\u884C\\u5411\\u91CF\\u5316\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u624B\\u52A8\\u5411\\u91CF\\u5316\"}),\"\\uFF1A\\u4E3B\\u8981\\u4F7F\\u7528 \",(0,e.jsx)(n.a,{href:\"https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html\",children:\"Intel Intrinsics\"}),\" \\u4E2D\\u7684\\u6307\\u4EE4\\u8FDB\\u884C\\u4EE3\\u7801\\u7A0B\\u5E8F\\u7684\\u7F16\\u5199\\u3002\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u81EA\\u52A8\\u5411\\u91CF\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u81EA\\u52A8\\u5411\\u91CF\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u81EA\\u52A8\\u5411\\u91CF\\u5316\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5BF9\\u4E8E\\u4EE3\\u7801\\u7684\\u6307\\u5B9A\\u90E8\\u5206\\u8FDB\\u884C\\u5411\\u91CF\\u5316\\u53EF\\u4EE5\\u52A0\\u4E0A\\u7F16\\u8BD1\\u5B8F\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"auto_vec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token macro property\",children:[(0,e.jsx)(n.span,{className:\"token directive-hash\",children:\"#\"}),(0,e.jsx)(n.span,{className:\"token directive keyword\",children:\"pragma\"}),\" \",(0,e.jsx)(n.span,{className:\"token expression\",children:\"ivdep\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token macro property\",children:[(0,e.jsx)(n.span,{className:\"token directive-hash\",children:\"#\"}),(0,e.jsx)(n.span,{className:\"token directive keyword\",children:\"pragma\"}),\" \",(0,e.jsx)(n.span,{className:\"token expression\",children:\"vector always\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1024\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),\" j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u901F\\u5EA6\\u6BD4\\u8F83\"}),\"\\uFF1A\\u5F53\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"icc -O3 -xhost\"}),\" \\u7684\\u7F16\\u8BD1\\u6307\\u4EE4\\u65F6\\uFF0C\\u8FD0\\u884C 100m \\u6B21\\uFF0C\\u76F8\\u8F83\\u4E8E \",(0,e.jsx)(n.code,{children:\"g++ -O3\"}),\"\\uFF0C\\u5411\\u91CF\\u5316\\u7684\\u7F16\\u8BD1\\u65B9\\u5F0F\\u80FD\\u591F\\u83B7\\u5F97 2 \\u500D\\u5DE6\\u53F3\\u7684\\u901F\\u5EA6\\u63D0\\u5347\\u3002\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u89C2\\u5BDF\\u8F93\\u51FA\\u6587\\u4EF6\\u7684\\u6C47\\u7F16\\u4EE3\\u7801\\uFF0C\\u53EF\\u4EE5\\u770B\\u5230\\u5411\\u91CF\\u5316\\u6307\\u4EE4\\u7684\\u4F7F\\u7528\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"language-asm code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`402ee0:       c4 81 7c 10 14 88       vmovups (%r8,%r9,4),%ymm2\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402ee6:       c4 81 7c 10 64 88 20    vmovups 0x20(%r8,%r9,4),%ymm4\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402eed:       c5 fc 57 c0             vxorps %ymm0,%ymm0,%ymm0\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402ef1:       62 f1 7d 08 74 c8       vpcmpeqb %xmm0,%xmm0,%k1\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402ef7:       c5 f4 57 c9             vxorps %ymm1,%ymm1,%ymm1\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402efb:       62 f2 7d 29 92 04 97    vgatherdps (%rdi,%ymm2,4),%ymm0\n`})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u624B\\u52A8\\u5411\\u91CF\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u624B\\u52A8\\u5411\\u91CF\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u624B\\u52A8\\u5411\\u91CF\\u5316\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E0B\\u9762\\u662F\\u76F8\\u540C\\u4EE3\\u7801\\u7684\\u624B\\u52A8\\u5411\\u91CF\\u5316\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"core_intrinsics\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"vector\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"vector\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1024\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        __m512i _idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_load_epi32\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        __m512 _b512 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_load_ps\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        __m512 _a512 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_i32gather_ps\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"_idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        __m512 _res \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_add_ps\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"_a512\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" _b512\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_i32scatter_ps\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" _idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" _res\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6709\\u5174\\u8DA3\\u7684\\u53EF\\u4EE5\\u81EA\\u5DF1\\u5C1D\\u8BD5\\uFF0C\\u6BD4\\u8F83\\u4E24\\u79CD\\u65B9\\u6CD5\\u7684\\u901F\\u5EA6\\u4EE5\\u53CA\\u80CC\\u540E\\u7684\\u539F\\u56E0\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u7ED3\\u8BBA\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BBA\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BBA\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u901A\\u8FC7\\u4E0A\\u9762\\u7684\\u7B80\\u5355\\u5B9E\\u9A8C\\uFF0C\\u6211\\u4EEC\\u521D\\u6B65\\u8BA4\\u77E5\\u4E86\\u5411\\u91CF\\u5316\\u7684\\u4E24\\u79CD\\u5B9E\\u73B0\\u65B9\\u5F0F\\u3002\\u4F46\\u662F\\u5982\\u4F55\\u80FD\\u66F4\\u597D\\u5730\\u5229\\u7528 AVX \\u6307\\u4EE4\\u7684\\u4F18\\u52BF\\uFF0C\\u9700\\u8981\\u8003\\u8651\\u5177\\u4F53\\u7684\\u4EE3\\u7801\\u3002\\u5F71\\u54CD\\u6027\\u80FD\\u7684\\u6838\\u5FC3\\u56E0\\u7D20\\u662F memory bound \\u8FD8\\u662F compute bound\\uFF0C\\u4EE3\\u7801\\u7A0B\\u5E8F\\u662F\\u5426\\u80FD\\u5B9E\\u73B0\\u6307\\u4EE4\\u4E0A\\u7684\\u5E76\\u884C\\uFF0C\\u4EE3\\u7801\\u7684\\u5173\\u952E\\u8DEF\\u5F84\\u662F\\u4EC0\\u4E48\\u7B49\\u7B49\\u90FD\\u662F\\u6211\\u4EEC\\u9700\\u8981\\u8003\\u8651\\u7684\\u3002\"})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(d,{...a})}):d(a)}return g(b);})();\n;return Component;"
    },
    "_id": "blog/avx-intro.md",
    "_raw": {
      "sourceFilePath": "blog/avx-intro.md",
      "sourceFileName": "avx-intro.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/avx-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "4 min read",
      "minutes": 3.38,
      "time": 202800,
      "words": 676
    },
    "slug": "avx-intro",
    "path": "blog/avx-intro",
    "toc": [
      {
        "value": "ç®€ä»‹",
        "url": "#ç®€ä»‹",
        "depth": 2
      },
      {
        "value": "å®ç°",
        "url": "#å®ç°",
        "depth": 2
      },
      {
        "value": "è‡ªåŠ¨å‘é‡åŒ–",
        "url": "#è‡ªåŠ¨å‘é‡åŒ–",
        "depth": 3
      },
      {
        "value": "æ‰‹åŠ¨å‘é‡åŒ–",
        "url": "#æ‰‹åŠ¨å‘é‡åŒ–",
        "depth": 3
      },
      {
        "value": "ç»“è®º",
        "url": "#ç»“è®º",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "AVX æŒ‡ä»¤å…¥é—¨",
      "datePublished": "2022-11-19T00:00:00.000Z",
      "dateModified": "2022-11-19T00:00:00.000Z",
      "description": "ä»‹ç» SIMD å‘é‡åŒ–æŒ‡ä»¤çš„åŸºç¡€æ¦‚å¿µï¼ŒåŒ…æ‹¬è‡ªåŠ¨å‘é‡åŒ–ä¸æ‰‹åŠ¨å‘é‡åŒ–çš„å®ç°æ–¹å¼å’Œæ€§èƒ½å¯¹æ¯”ã€‚",
      "url": "https://zhangjian94cn.github.io/blog/avx-intro"
    }
  },
  {
    "title": "CUDA æ€§èƒ½ä¼˜åŒ–æŠ€å·§",
    "date": "2026-01-15T00:00:00.000Z",
    "tags": [
      "CUDA",
      "HPC",
      "æ€§èƒ½ä¼˜åŒ–",
      "GPU"
    ],
    "draft": false,
    "summary": "æ·±å…¥æ¢è®¨ CUDA ç¼–ç¨‹ä¸­çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼ŒåŒ…æ‹¬å†…å­˜è®¿é—®æ¨¡å¼ã€çº¿ç¨‹ç»„ç»‡å’Œæ€§èƒ½åˆ†æå·¥å…·ã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## ä¸ºä»€ä¹ˆéœ€è¦ CUDA ä¼˜åŒ–\n\nGPU å¹¶è¡Œè®¡ç®—èƒ½åŠ›å¼ºå¤§ï¼Œä½†è¦å……åˆ†å‘æŒ¥æ€§èƒ½éœ€è¦äº†è§£ç¡¬ä»¶ç‰¹æ€§ã€‚ä¼˜åŒ–å¾—å½“å¯ä»¥è·å¾— 10-100 å€åŠ é€Ÿã€‚\n\n## æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥\n\n### 1. å†…å­˜åˆå¹¶è®¿é—®\n\nGPU å†…å­˜ä»¥ 128 å­—èŠ‚ä¸ºå•ä½è¯»å–ï¼Œç›¸é‚»çº¿ç¨‹è®¿é—®ç›¸é‚»å†…å­˜æ•ˆç‡æœ€é«˜ï¼š\n\n```cpp\n// âŒ æ…¢ï¼šè·¨æ­¥è®¿é—®\n__global__ void bad_kernel(float* data, int stride) {\n    int idx = threadIdx.x * stride;\n    float val = data[idx];  // éåˆå¹¶è®¿é—®\n}\n\n// âœ… å¿«ï¼šè¿ç»­è®¿é—®\n__global__ void good_kernel(float* data) {\n    int idx = threadIdx.x;\n    float val = data[idx];  // åˆå¹¶è®¿é—®\n}\n```\n\n### 2. å…±äº«å†…å­˜ä½¿ç”¨\n\nå…±äº«å†…å­˜é€Ÿåº¦æ¯”å…¨å±€å†…å­˜å¿« 100 å€ï¼š\n\n```cpp\n__global__ void matrix_mul(float* A, float* B, float* C) {\n    __shared__ float tile_A[16][16];\n    __shared__ float tile_B[16][16];\n\n    // åˆ†å—åŠ è½½åˆ°å…±äº«å†…å­˜\n    tile_A[ty][tx] = A[row * N + tx];\n    tile_B[ty][tx] = B[ty * N + col];\n    __syncthreads();\n\n    // åœ¨å…±äº«å†…å­˜ä¸­è®¡ç®—\n    for (int k = 0; k < 16; k++) {\n        sum += tile_A[ty][k] * tile_B[k][tx];\n    }\n}\n```\n\n### 3. é¿å…åˆ†æ”¯åˆ†æ­§\n\nåŒä¸€ä¸ª warp å†…çš„çº¿ç¨‹åº”æ‰§è¡Œç›¸åŒæŒ‡ä»¤ï¼š\n\n```cpp\n// âŒ åˆ†æ”¯åˆ†æ­§\nif (threadIdx.x % 2 == 0) {\n    // ä¸€åŠçº¿ç¨‹æ‰§è¡Œè¿™é‡Œ\n} else {\n    // å¦ä¸€åŠçº¿ç¨‹æ‰§è¡Œè¿™é‡Œ\n}\n\n// âœ… æ— åˆ†æ­§\nint offset = (threadIdx.x % 2) * stride;\ndata[threadIdx.x + offset] = value;\n```\n\n## æ€§èƒ½åˆ†æå·¥å…·\n\n### Nsight Compute\n\n```bash\nncu --target-processes all ./my_cuda_app\n```\n\nå…³æ³¨æŒ‡æ ‡ï¼š\n\n- **SM åˆ©ç”¨ç‡**: åº” > 80%\n- **å†…å­˜å¸¦å®½åˆ©ç”¨ç‡**: åº” > 60%\n- **Occupancy**: æ´»è·ƒ warp æ¯”ä¾‹\n\n### nvprof (æ—§ç‰ˆ)\n\n```bash\nnvprof --print-gpu-trace ./my_cuda_app\n```\n\n## æ€§èƒ½å¯¹æ¯”\n\nä¼˜åŒ–å‰åçš„çŸ©é˜µä¹˜æ³•æ€§èƒ½ï¼š\n\n| ç‰ˆæœ¬        | è€—æ—¶   | åŠ é€Ÿæ¯” |\n| ----------- | ------ | ------ |\n| CPU åŸºçº¿    | 1200ms | 1x     |\n| æœ´ç´  CUDA   | 45ms   | 27x    |\n| å…±äº«å†…å­˜    | 8ms    | 150x   |\n| Tensor Core | 2ms    | 600x   |\n\n## æ€»ç»“\n\nCUDA ä¼˜åŒ–éœ€è¦ç†è§£ç¡¬ä»¶æ¶æ„ã€‚å–„ç”¨æ€§èƒ½åˆ†æå·¥å…·ï¼Œæ‰¾åˆ°ç“¶é¢ˆå†é’ˆå¯¹æ€§ä¼˜åŒ–ã€‚\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),x=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},i=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=m(n,c))||t.enumerable});return a};var _=(a,n,s)=>(s=a!=null?h(N(a)):{},i(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>i(l({},\"__esModule\",{value:!0}),a);var r=g((I,o)=>{o.exports=_jsx_runtime});var y={};x(y,{default:()=>p,frontmatter:()=>b});var e=_(r()),b={title:\"CUDA \\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\",date:\"2026-01-15\",tags:[\"CUDA\",\"HPC\",\"\\u6027\\u80FD\\u4F18\\u5316\",\"GPU\"],draft:!1,summary:\"\\u6DF1\\u5165\\u63A2\\u8BA8 CUDA \\u7F16\\u7A0B\\u4E2D\\u7684\\u6027\\u80FD\\u4F18\\u5316\\u7B56\\u7565\\uFF0C\\u5305\\u62EC\\u5185\\u5B58\\u8BBF\\u95EE\\u6A21\\u5F0F\\u3001\\u7EBF\\u7A0B\\u7EC4\\u7EC7\\u548C\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\\u3002\",authors:[\"default\"]};function d(a){let n={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-cuda-\\u4F18\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-cuda-\\u4F18\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981 CUDA \\u4F18\\u5316\"]}),`\n`,(0,e.jsx)(n.p,{children:\"GPU \\u5E76\\u884C\\u8BA1\\u7B97\\u80FD\\u529B\\u5F3A\\u5927\\uFF0C\\u4F46\\u8981\\u5145\\u5206\\u53D1\\u6325\\u6027\\u80FD\\u9700\\u8981\\u4E86\\u89E3\\u786C\\u4EF6\\u7279\\u6027\\u3002\\u4F18\\u5316\\u5F97\\u5F53\\u53EF\\u4EE5\\u83B7\\u5F97 10-100 \\u500D\\u52A0\\u901F\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6838\\u5FC3\\u4F18\\u5316\\u7B56\\u7565\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6838\\u5FC3\\u4F18\\u5316\\u7B56\\u7565\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6838\\u5FC3\\u4F18\\u5316\\u7B56\\u7565\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"1-\\u5185\\u5B58\\u5408\\u5E76\\u8BBF\\u95EE\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#1-\\u5185\\u5B58\\u5408\\u5E76\\u8BBF\\u95EE\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"1. \\u5185\\u5B58\\u5408\\u5E76\\u8BBF\\u95EE\"]}),`\n`,(0,e.jsx)(n.p,{children:\"GPU \\u5185\\u5B58\\u4EE5 128 \\u5B57\\u8282\\u4E3A\\u5355\\u4F4D\\u8BFB\\u53D6\\uFF0C\\u76F8\\u90BB\\u7EBF\\u7A0B\\u8BBF\\u95EE\\u76F8\\u90BB\\u5185\\u5B58\\u6548\\u7387\\u6700\\u9AD8\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u274C \\u6162\\uFF1A\\u8DE8\\u6B65\\u8BBF\\u95EE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"__global__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"bad_kernel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" stride\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" stride\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),\" val \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u975E\\u5408\\u5E76\\u8BBF\\u95EE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u2705 \\u5FEB\\uFF1A\\u8FDE\\u7EED\\u8BBF\\u95EE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"__global__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"good_kernel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),\" val \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5408\\u5E76\\u8BBF\\u95EE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"2-\\u5171\\u4EAB\\u5185\\u5B58\\u4F7F\\u7528\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#2-\\u5171\\u4EAB\\u5185\\u5B58\\u4F7F\\u7528\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"2. \\u5171\\u4EAB\\u5185\\u5B58\\u4F7F\\u7528\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5171\\u4EAB\\u5185\\u5B58\\u901F\\u5EA6\\u6BD4\\u5168\\u5C40\\u5185\\u5B58\\u5FEB 100 \\u500D\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"__global__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"matrix_mul\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" C\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    __shared__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),\" tile_A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    __shared__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),\" tile_B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5206\\u5757\\u52A0\\u8F7D\\u5230\\u5171\\u4EAB\\u5185\\u5B58\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tile_A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"ty\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"tx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"row \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" N \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" tx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tile_B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"ty\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"tx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"ty \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" N \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" col\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"__syncthreads\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5728\\u5171\\u4EAB\\u5185\\u5B58\\u4E2D\\u8BA1\\u7B97\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" k \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" k \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" k\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        sum \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" tile_A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"ty\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"k\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" tile_B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"k\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"tx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"3-\\u907F\\u514D\\u5206\\u652F\\u5206\\u6B67\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#3-\\u907F\\u514D\\u5206\\u652F\\u5206\\u6B67\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"3. \\u907F\\u514D\\u5206\\u652F\\u5206\\u6B67\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u540C\\u4E00\\u4E2A warp \\u5185\\u7684\\u7EBF\\u7A0B\\u5E94\\u6267\\u884C\\u76F8\\u540C\\u6307\\u4EE4\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u274C \\u5206\\u652F\\u5206\\u6B67\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u4E00\\u534A\\u7EBF\\u7A0B\\u6267\\u884C\\u8FD9\\u91CC\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u53E6\\u4E00\\u534A\\u7EBF\\u7A0B\\u6267\\u884C\\u8FD9\\u91CC\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u2705 \\u65E0\\u5206\\u6B67\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" offset \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" stride\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" offset\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" value\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"nsight-compute\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#nsight-compute\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Nsight Compute\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`ncu --target-processes all ./my_cuda_app\n`})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5173\\u6CE8\\u6307\\u6807\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"SM \\u5229\\u7528\\u7387\"}),\": \\u5E94 > 80%\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5185\\u5B58\\u5E26\\u5BBD\\u5229\\u7528\\u7387\"}),\": \\u5E94 > 60%\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Occupancy\"}),\": \\u6D3B\\u8DC3 warp \\u6BD4\\u4F8B\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"nvprof-\\u65E7\\u7248\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#nvprof-\\u65E7\\u7248\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"nvprof (\\u65E7\\u7248)\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`nvprof --print-gpu-trace ./my_cuda_app\n`})})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6027\\u80FD\\u5BF9\\u6BD4\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6027\\u80FD\\u5BF9\\u6BD4\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6027\\u80FD\\u5BF9\\u6BD4\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4F18\\u5316\\u524D\\u540E\\u7684\\u77E9\\u9635\\u4E58\\u6CD5\\u6027\\u80FD\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u7248\\u672C\"}),(0,e.jsx)(n.th,{children:\"\\u8017\\u65F6\"}),(0,e.jsx)(n.th,{children:\"\\u52A0\\u901F\\u6BD4\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"CPU \\u57FA\\u7EBF\"}),(0,e.jsx)(n.td,{children:\"1200ms\"}),(0,e.jsx)(n.td,{children:\"1x\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u6734\\u7D20 CUDA\"}),(0,e.jsx)(n.td,{children:\"45ms\"}),(0,e.jsx)(n.td,{children:\"27x\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5171\\u4EAB\\u5185\\u5B58\"}),(0,e.jsx)(n.td,{children:\"8ms\"}),(0,e.jsx)(n.td,{children:\"150x\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Tensor Core\"}),(0,e.jsx)(n.td,{children:\"2ms\"}),(0,e.jsx)(n.td,{children:\"600x\"})]})]})]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u603B\\u7ED3\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u603B\\u7ED3\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u603B\\u7ED3\"]}),`\n`,(0,e.jsx)(n.p,{children:\"CUDA \\u4F18\\u5316\\u9700\\u8981\\u7406\\u89E3\\u786C\\u4EF6\\u67B6\\u6784\\u3002\\u5584\\u7528\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\\uFF0C\\u627E\\u5230\\u74F6\\u9888\\u518D\\u9488\\u5BF9\\u6027\\u4F18\\u5316\\u3002\"})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(d,{...a})}):d(a)}return f(y);})();\n;return Component;"
    },
    "_id": "blog/cuda-optimization-tips.md",
    "_raw": {
      "sourceFilePath": "blog/cuda-optimization-tips.md",
      "sourceFileName": "cuda-optimization-tips.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/cuda-optimization-tips"
    },
    "type": "Blog",
    "readingTime": {
      "text": "3 min read",
      "minutes": 2.225,
      "time": 133500,
      "words": 445
    },
    "slug": "cuda-optimization-tips",
    "path": "blog/cuda-optimization-tips",
    "toc": [
      {
        "value": "ä¸ºä»€ä¹ˆéœ€è¦ CUDA ä¼˜åŒ–",
        "url": "#ä¸ºä»€ä¹ˆéœ€è¦-cuda-ä¼˜åŒ–",
        "depth": 2
      },
      {
        "value": "æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥",
        "url": "#æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥",
        "depth": 2
      },
      {
        "value": "1. å†…å­˜åˆå¹¶è®¿é—®",
        "url": "#1-å†…å­˜åˆå¹¶è®¿é—®",
        "depth": 3
      },
      {
        "value": "2. å…±äº«å†…å­˜ä½¿ç”¨",
        "url": "#2-å…±äº«å†…å­˜ä½¿ç”¨",
        "depth": 3
      },
      {
        "value": "3. é¿å…åˆ†æ”¯åˆ†æ­§",
        "url": "#3-é¿å…åˆ†æ”¯åˆ†æ­§",
        "depth": 3
      },
      {
        "value": "æ€§èƒ½åˆ†æå·¥å…·",
        "url": "#æ€§èƒ½åˆ†æå·¥å…·",
        "depth": 2
      },
      {
        "value": "Nsight Compute",
        "url": "#nsight-compute",
        "depth": 3
      },
      {
        "value": "nvprof (æ—§ç‰ˆ)",
        "url": "#nvprof-æ—§ç‰ˆ",
        "depth": 3
      },
      {
        "value": "æ€§èƒ½å¯¹æ¯”",
        "url": "#æ€§èƒ½å¯¹æ¯”",
        "depth": 2
      },
      {
        "value": "æ€»ç»“",
        "url": "#æ€»ç»“",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "CUDA æ€§èƒ½ä¼˜åŒ–æŠ€å·§",
      "datePublished": "2026-01-15T00:00:00.000Z",
      "dateModified": "2026-01-15T00:00:00.000Z",
      "description": "æ·±å…¥æ¢è®¨ CUDA ç¼–ç¨‹ä¸­çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼ŒåŒ…æ‹¬å†…å­˜è®¿é—®æ¨¡å¼ã€çº¿ç¨‹ç»„ç»‡å’Œæ€§èƒ½åˆ†æå·¥å…·ã€‚",
      "url": "https://zhangjian94cn.github.io/blog/cuda-optimization-tips"
    }
  },
  {
    "title": "é«˜ç²¾åº¦å›¾åƒåˆ†å‰²æŠ€æœ¯å›é¡¾",
    "date": "2023-11-06T00:00:00.000Z",
    "tags": [
      "æ·±åº¦å­¦ä¹ ",
      "è®¡ç®—æœºè§†è§‰",
      "å›¾åƒåˆ†å‰²"
    ],
    "draft": false,
    "summary": "å›é¡¾é«˜ç²¾åº¦å›¾åƒåˆ†å‰²ç®—æ³•å‘å±•ï¼šä» BASNet åˆ° U2Netï¼Œå†åˆ° DISã€‚æ¢è®¨ Residual Refine Module åŠå¤šå°ºåº¦èåˆæŠ€æœ¯ã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## å‰è¨€\n\næœ€è¿‘å›é¡¾äº†ä¸€ä¸‹ä¹‹å‰ä½¿ç”¨è¿‡çš„é«˜ç²¾åº¦å›¾åƒåˆ†å‰²ç®—æ³•ï¼Œä» BASNetï¼Œåˆ° U2Netï¼Œå†åˆ° 2022 å¹´çš„ DISã€‚é«˜ç²¾åº¦çš„å›¾åƒåˆ†å‰²æŠ€æœ¯åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸå…·æœ‰ç€æä¸ºé‡è¦çš„åº”ç”¨ã€‚é€šè¿‡å‡†ç¡®åœ°åˆ†ç¦»å›¾åƒä¸­çš„ä¸åŒå¯¹è±¡ã€åŒºåŸŸå’Œç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ï¼š\n\n1. **æ›´å®‰å…¨çš„è‡ªåŠ¨é©¾é©¶**ï¼šé€šè¿‡å°†é“è·¯ã€è½¦é“çº¿ã€äº¤é€šæ ‡å¿—å’Œè¡Œäººç²¾ç¡®åˆ†ç¦»ï¼Œä»¥å¸®åŠ©è½¦è¾†å¯¼èˆª\n2. **æ›´ç²¾ç¡®çš„åŒ»ç–—è¯Šæ–­**ï¼šé€šè¿‡å°†è‡ªåŠ¨åŒ–çš„åˆ†å‰²äººä½“å™¨å®˜ï¼Œå¯ä»¥å®ç°é«˜ç²¾åº¦è‡ªåŠ¨åŒ–çš„äººä½“æ‰‹æœ¯\n3. **æ›´ä½³çš„ç¤¾äº¤åº”ç”¨ä½“éªŒ**ï¼šé€šè¿‡é«˜ç²¾åº¦çš„åˆ†å‰²ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å„ç§åˆ›æ„æ•ˆæœï¼Œå¦‚èƒŒæ™¯è™šåŒ–ã€æ™¯æ·±æ•ˆæœå’Œå›¾åƒåˆæˆç­‰ç­‰\n\n## BASNet\n\nè¿™ç¯‡è®ºæ–‡çš„è´¡çŒ®ä¸»è¦æœ‰ä¸¤ä¸ªï¼š\n\n- æå‡ºäº†ä¸€ä¸ªåŸºäºæ®‹å·®çš„ Refine æ¨¡å—ï¼ˆResidual Refine Moduleï¼‰\n- ä½¿ç”¨äº†å¤šå±‚çº§çš„ lossï¼Œåˆ†åˆ«æ˜¯ pixelï¼Œpatch å’Œ map çº§åˆ«çš„ BCEï¼ŒSSIMï¼ŒIOU loss\n\n### predict-refine ç½‘ç»œæ¶æ„\n\nBASNet æ˜¯ä¸€ä¸ªç±»ä¼¼ U-Net çš„ encoder-decoder çš„ç½‘ç»œæ¶æ„ï¼Œå…¶å’Œä¼ ç»Ÿåˆ†å‰²ç½‘ç»œçš„åŒºåˆ«åœ¨äºï¼šå¢åŠ äº†ä¸€ä¸ª refine æ¨¡å—ã€‚refine æ¨¡å—çš„è¾“å…¥æ˜¯ï¼šencoder çš„ç‰¹å¾ï¼Œå…¶å­¦ä¹ çš„ç›®æ ‡æ˜¯ coarse predict ç½‘ç»œä¸ ground truth çš„æ®‹å·®ã€‚\n\n### å¤šå±‚çº§çš„æ··åˆ loss\n\n- **BCE loss**ï¼šè¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹åƒç´ è¿›è¡ŒäºŒåˆ†ç±»çš„ loss\n- **Structural SIMilarity (SSIM)**ï¼šç»“æ„ç›¸ä¼¼æ€§çš„åº¦é‡ï¼Œç”¨äºè¡¡é‡ä¸¤å¼ å›¾çš„ç›¸ä¼¼åº¦ï¼Œç‰¹åˆ«å…³æ³¨è¾¹ç¼˜æ•ˆæœ\n- **IOU**ï¼šå¯¹æ•´ä¸ªå›¾åƒçš„åˆ†å‰²æ­£ç¡®ç‡çš„ä¸€ç§åº¦é‡\n\n## U2Net\n\nU2Net çš„ä¸»è¦è´¡çŒ®æœ‰ä¸¤ä¸ªï¼š\n\n- æå‡ºäº†ä¸€ä¸ªèƒ½èåˆå¤šå°ºåº¦ä¿¡æ¯çš„ RSUï¼ˆReSidual U-blocksï¼‰ç»“æ„\n- åŸºäº RSU ç»“æ„çš„æ–°çš„ç½‘ç»œæ¶æ„\n\n### ReSidual U-blocks\n\nRSU çš„ç»“æ„ç®€å•æ¥è¯´å°±æ˜¯ï¼šæ®‹å·®çš„è·¨æ¥ç»´åº¦æ˜¯ä»¥ä¸€ä¸ª UNet ä¸ºå•ä½çš„ã€‚æ¢å¥è¯è¯´ ResNet ç»“æ„ä¸­çš„ weight layer è¢«æ›¿æ¢æˆäº†ä¸€ä¸ª UNetï¼Œè¿™æ ·åšçš„ä¼˜åŠ¿åœ¨äº U-block çš„è¾“å‡ºå¯ä»¥è®¤ä¸ºæ˜¯å¸¦æœ‰å¤šå°ºåº¦ä¿¡æ¯çš„ï¼Œä»è€Œå¢å¼ºäº†æ¨¡å‹çš„èƒ½åŠ›ã€‚\n\n### ç½‘ç»œæ¶æ„\n\næ•´ä½“çš„ç½‘ç»œæ¶æ„æ˜¯åœ¨åŸæ¥çš„ RSU æ¨¡å—çš„åŸºç¡€ä¸Šå†å¥—ä¸€ä¸ª UNet çš„ç»“æ„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå« UÂ² çš„åŸå› ã€‚å¯¹äºæ¯ä¸€å±‚çš„ç‰¹å¾è¾“å‡ºï¼Œæœ€ç»ˆéƒ½ä¼šè¢« concate åˆ°ä¸€èµ·ï¼Œå¾—åˆ°ä¸€ä¸ªèåˆä¹‹åçš„ç»“æœã€‚\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ loss è®¡ç®—æ—¶ï¼Œä¸ä»…è€ƒè™‘äº†æœ€ç»ˆçš„ S_fuseï¼Œå…¶æ¯ä¸€ä¸ªç‰¹å¾å±‚çš„è¾“å‡ºéƒ½ä¼šè¢«åŠ å…¥åˆ° loss è®¡ç®—ä¸­å»ã€‚\n\n## Highly Accurate Dichotomous Image Segmentationï¼ˆDISï¼‰\n\nè¿™ç¯‡å·¥ä½œå¾ˆå¤§çš„è´¡çŒ®åœ¨äºï¼šæä¾›äº†ä¸€ä¸ªé«˜ç²¾åº¦çš„åˆ†å‰²æ•°æ®é›†ã€‚å°¤å…¶æ˜¯å¯¹äºç‰©ä½“ç»†èŠ‚è¿™å—ï¼Œæ ‡æ³¨çš„éå¸¸ç²¾å‡†ï¼Œæ­¤ç±»æ•°æ®æˆæœ¬å¾€å¾€å¾ˆé«˜ï¼Œèƒ½å¤Ÿå…¬å¼€å‡ºæ¥æ˜¯éå¸¸éš¾å¾—çš„ã€‚\n\nç›¸å¯¹äº U2Netï¼Œæ•ˆæœä¸Šä¹Ÿæœ‰äº†å¾ˆå¤§çš„æå‡ã€‚é™¤äº†æ•°æ®é›†çš„è´¡çŒ®ä¹‹å¤–ï¼Œè¿™ç¯‡å·¥ä½œæå‡ºäº†ï¼š\n\n- ä¸€ç§æ–°çš„åŸºäºä¸­é—´ç›‘ç£çš„åŸºçº¿ IS-Netï¼Œå®ƒé€šè¿‡å¼ºåˆ¶é«˜ç»´ç‰¹å¾çš„ç›´æ¥åŒæ­¥æ¥å‡å°‘è¿‡æ‹Ÿåˆ\n- äººå·¥çŸ«æ­£é‡ï¼ˆHCEï¼‰æŒ‡æ ‡\n\n### IS-Net ç½‘ç»œæ¶æ„\n\nIS-Net çš„ç½‘ç»œæ¶æ„åŸºæœ¬ä¸Šæ˜¯æ²¿ç”¨äº† U2Net çš„ç»“æ„ï¼ŒåŒºåˆ«åœ¨äºå…¶å¯¹å¤šå°ºåº¦ä¸‹çš„ç‰¹å¾è¿›è¡Œç›´æ¥çš„ç›‘ç£ã€‚å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿå…¶å°†è®­ç»ƒåˆ†æˆäº†ä¸¤ä¸ªé˜¶æ®µï¼š\n\n1. ç¬¬ä¸€é˜¶æ®µåŸºäº ground truth è®­ç»ƒä¸€ä¸ªç¼–ç å™¨ï¼Œå…¶åŒ…å«äº†å¤šå°ºåº¦ä¸‹å¯¹åº”çš„**ç‰¹å¾ ground truth**\n2. ç¬¬äºŒé˜¶æ®µåˆ©ç”¨è¿™äº›ç‰¹å¾ ground truth å»è®­ç»ƒåŸæ¥çš„ U2Net ç»“æ„\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸»å¹²éƒ¨åˆ†ï¼Œç‰¹å¾ç›‘ç£æ¨¡å—åªå‚ä¸è®­ç»ƒã€‚\n\n## ç»“è¯­\n\né€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬ç®€å•å›é¡¾äº†é«˜ç²¾åº¦å›¾åƒåˆ†å‰²ç›¸å…³å·¥ä½œï¼Œå…¶åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸå…·æœ‰ç€å¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚è¿™äº›ç®—æ³•çš„ä¸æ–­å‘å±•å’Œæ”¹è¿›ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´å‡†ç¡®åœ°åˆ†ç¦»å›¾åƒä¸­çš„ä¸åŒå¯¹è±¡ã€åŒºåŸŸå’Œç‰¹å¾ã€‚\n\n## å‚è€ƒ\n\n- [BASNet](https://github.com/xuebinqin/BASNet)\n- [U-2-Net](https://github.com/xuebinqin/U-2-Net)\n- [DIS](https://github.com/xuebinqin/DIS)\n",
      "code": "var Component=(()=>{var u=Object.create;var c=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var g=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),S=(i,e)=>{for(var r in e)c(i,r,{get:e[r],enumerable:!0})},t=(i,e,r,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let l of N(e))!f.call(i,l)&&l!==r&&c(i,l,{get:()=>e[l],enumerable:!(a=m(e,l))||a.enumerable});return i};var I=(i,e,r)=>(r=i!=null?u(p(i)):{},t(e||!i||!i.__esModule?c(r,\"default\",{value:i,enumerable:!0}):r,i)),b=i=>t(c({},\"__esModule\",{value:!0}),i);var h=g((R,d)=>{d.exports=_jsx_runtime});var U={};S(U,{default:()=>o,frontmatter:()=>x});var n=I(h()),x={title:\"\\u9AD8\\u7CBE\\u5EA6\\u56FE\\u50CF\\u5206\\u5272\\u6280\\u672F\\u56DE\\u987E\",date:\"2023-11-06\",tags:[\"\\u6DF1\\u5EA6\\u5B66\\u4E60\",\"\\u8BA1\\u7B97\\u673A\\u89C6\\u89C9\",\"\\u56FE\\u50CF\\u5206\\u5272\"],draft:!1,summary:\"\\u56DE\\u987E\\u9AD8\\u7CBE\\u5EA6\\u56FE\\u50CF\\u5206\\u5272\\u7B97\\u6CD5\\u53D1\\u5C55\\uFF1A\\u4ECE BASNet \\u5230 U2Net\\uFF0C\\u518D\\u5230 DIS\\u3002\\u63A2\\u8BA8 Residual Refine Module \\u53CA\\u591A\\u5C3A\\u5EA6\\u878D\\u5408\\u6280\\u672F\\u3002\",authors:[\"default\"]};function s(i){let e={a:\"a\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"\\u524D\\u8A00\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u524D\\u8A00\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u8FD1\\u56DE\\u987E\\u4E86\\u4E00\\u4E0B\\u4E4B\\u524D\\u4F7F\\u7528\\u8FC7\\u7684\\u9AD8\\u7CBE\\u5EA6\\u56FE\\u50CF\\u5206\\u5272\\u7B97\\u6CD5\\uFF0C\\u4ECE BASNet\\uFF0C\\u5230 U2Net\\uFF0C\\u518D\\u5230 2022 \\u5E74\\u7684 DIS\\u3002\\u9AD8\\u7CBE\\u5EA6\\u7684\\u56FE\\u50CF\\u5206\\u5272\\u6280\\u672F\\u5728\\u8BA1\\u7B97\\u673A\\u89C6\\u89C9\\u9886\\u57DF\\u5177\\u6709\\u7740\\u6781\\u4E3A\\u91CD\\u8981\\u7684\\u5E94\\u7528\\u3002\\u901A\\u8FC7\\u51C6\\u786E\\u5730\\u5206\\u79BB\\u56FE\\u50CF\\u4E2D\\u7684\\u4E0D\\u540C\\u5BF9\\u8C61\\u3001\\u533A\\u57DF\\u548C\\u7279\\u5F81\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u66F4\\u5B89\\u5168\\u7684\\u81EA\\u52A8\\u9A7E\\u9A76\"}),\"\\uFF1A\\u901A\\u8FC7\\u5C06\\u9053\\u8DEF\\u3001\\u8F66\\u9053\\u7EBF\\u3001\\u4EA4\\u901A\\u6807\\u5FD7\\u548C\\u884C\\u4EBA\\u7CBE\\u786E\\u5206\\u79BB\\uFF0C\\u4EE5\\u5E2E\\u52A9\\u8F66\\u8F86\\u5BFC\\u822A\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u66F4\\u7CBE\\u786E\\u7684\\u533B\\u7597\\u8BCA\\u65AD\"}),\"\\uFF1A\\u901A\\u8FC7\\u5C06\\u81EA\\u52A8\\u5316\\u7684\\u5206\\u5272\\u4EBA\\u4F53\\u5668\\u5B98\\uFF0C\\u53EF\\u4EE5\\u5B9E\\u73B0\\u9AD8\\u7CBE\\u5EA6\\u81EA\\u52A8\\u5316\\u7684\\u4EBA\\u4F53\\u624B\\u672F\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u66F4\\u4F73\\u7684\\u793E\\u4EA4\\u5E94\\u7528\\u4F53\\u9A8C\"}),\"\\uFF1A\\u901A\\u8FC7\\u9AD8\\u7CBE\\u5EA6\\u7684\\u5206\\u5272\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5B9E\\u73B0\\u5404\\u79CD\\u521B\\u610F\\u6548\\u679C\\uFF0C\\u5982\\u80CC\\u666F\\u865A\\u5316\\u3001\\u666F\\u6DF1\\u6548\\u679C\\u548C\\u56FE\\u50CF\\u5408\\u6210\\u7B49\\u7B49\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"basnet\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#basnet\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"BASNet\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u8BBA\\u6587\\u7684\\u8D21\\u732E\\u4E3B\\u8981\\u6709\\u4E24\\u4E2A\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u63D0\\u51FA\\u4E86\\u4E00\\u4E2A\\u57FA\\u4E8E\\u6B8B\\u5DEE\\u7684 Refine \\u6A21\\u5757\\uFF08Residual Refine Module\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528\\u4E86\\u591A\\u5C42\\u7EA7\\u7684 loss\\uFF0C\\u5206\\u522B\\u662F pixel\\uFF0Cpatch \\u548C map \\u7EA7\\u522B\\u7684 BCE\\uFF0CSSIM\\uFF0CIOU loss\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"predict-refine-\\u7F51\\u7EDC\\u67B6\\u6784\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#predict-refine-\\u7F51\\u7EDC\\u67B6\\u6784\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"predict-refine \\u7F51\\u7EDC\\u67B6\\u6784\"]}),`\n`,(0,n.jsx)(e.p,{children:\"BASNet \\u662F\\u4E00\\u4E2A\\u7C7B\\u4F3C U-Net \\u7684 encoder-decoder \\u7684\\u7F51\\u7EDC\\u67B6\\u6784\\uFF0C\\u5176\\u548C\\u4F20\\u7EDF\\u5206\\u5272\\u7F51\\u7EDC\\u7684\\u533A\\u522B\\u5728\\u4E8E\\uFF1A\\u589E\\u52A0\\u4E86\\u4E00\\u4E2A refine \\u6A21\\u5757\\u3002refine \\u6A21\\u5757\\u7684\\u8F93\\u5165\\u662F\\uFF1Aencoder \\u7684\\u7279\\u5F81\\uFF0C\\u5176\\u5B66\\u4E60\\u7684\\u76EE\\u6807\\u662F coarse predict \\u7F51\\u7EDC\\u4E0E ground truth \\u7684\\u6B8B\\u5DEE\\u3002\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u591A\\u5C42\\u7EA7\\u7684\\u6DF7\\u5408-loss\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u591A\\u5C42\\u7EA7\\u7684\\u6DF7\\u5408-loss\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u591A\\u5C42\\u7EA7\\u7684\\u6DF7\\u5408 loss\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"BCE loss\"}),\"\\uFF1A\\u8FD9\\u662F\\u4E00\\u4E2A\\u9488\\u5BF9\\u50CF\\u7D20\\u8FDB\\u884C\\u4E8C\\u5206\\u7C7B\\u7684 loss\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Structural SIMilarity (SSIM)\"}),\"\\uFF1A\\u7ED3\\u6784\\u76F8\\u4F3C\\u6027\\u7684\\u5EA6\\u91CF\\uFF0C\\u7528\\u4E8E\\u8861\\u91CF\\u4E24\\u5F20\\u56FE\\u7684\\u76F8\\u4F3C\\u5EA6\\uFF0C\\u7279\\u522B\\u5173\\u6CE8\\u8FB9\\u7F18\\u6548\\u679C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"IOU\"}),\"\\uFF1A\\u5BF9\\u6574\\u4E2A\\u56FE\\u50CF\\u7684\\u5206\\u5272\\u6B63\\u786E\\u7387\\u7684\\u4E00\\u79CD\\u5EA6\\u91CF\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"u2net\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#u2net\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"U2Net\"]}),`\n`,(0,n.jsx)(e.p,{children:\"U2Net \\u7684\\u4E3B\\u8981\\u8D21\\u732E\\u6709\\u4E24\\u4E2A\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u63D0\\u51FA\\u4E86\\u4E00\\u4E2A\\u80FD\\u878D\\u5408\\u591A\\u5C3A\\u5EA6\\u4FE1\\u606F\\u7684 RSU\\uFF08ReSidual U-blocks\\uFF09\\u7ED3\\u6784\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u57FA\\u4E8E RSU \\u7ED3\\u6784\\u7684\\u65B0\\u7684\\u7F51\\u7EDC\\u67B6\\u6784\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"residual-u-blocks\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#residual-u-blocks\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"ReSidual U-blocks\"]}),`\n`,(0,n.jsx)(e.p,{children:\"RSU \\u7684\\u7ED3\\u6784\\u7B80\\u5355\\u6765\\u8BF4\\u5C31\\u662F\\uFF1A\\u6B8B\\u5DEE\\u7684\\u8DE8\\u63A5\\u7EF4\\u5EA6\\u662F\\u4EE5\\u4E00\\u4E2A UNet \\u4E3A\\u5355\\u4F4D\\u7684\\u3002\\u6362\\u53E5\\u8BDD\\u8BF4 ResNet \\u7ED3\\u6784\\u4E2D\\u7684 weight layer \\u88AB\\u66FF\\u6362\\u6210\\u4E86\\u4E00\\u4E2A UNet\\uFF0C\\u8FD9\\u6837\\u505A\\u7684\\u4F18\\u52BF\\u5728\\u4E8E U-block \\u7684\\u8F93\\u51FA\\u53EF\\u4EE5\\u8BA4\\u4E3A\\u662F\\u5E26\\u6709\\u591A\\u5C3A\\u5EA6\\u4FE1\\u606F\\u7684\\uFF0C\\u4ECE\\u800C\\u589E\\u5F3A\\u4E86\\u6A21\\u578B\\u7684\\u80FD\\u529B\\u3002\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u7F51\\u7EDC\\u67B6\\u6784\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7F51\\u7EDC\\u67B6\\u6784\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F51\\u7EDC\\u67B6\\u6784\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6574\\u4F53\\u7684\\u7F51\\u7EDC\\u67B6\\u6784\\u662F\\u5728\\u539F\\u6765\\u7684 RSU \\u6A21\\u5757\\u7684\\u57FA\\u7840\\u4E0A\\u518D\\u5957\\u4E00\\u4E2A UNet \\u7684\\u7ED3\\u6784\\uFF0C\\u8FD9\\u4E5F\\u662F\\u4E3A\\u4EC0\\u4E48\\u53EB U\\xB2 \\u7684\\u539F\\u56E0\\u3002\\u5BF9\\u4E8E\\u6BCF\\u4E00\\u5C42\\u7684\\u7279\\u5F81\\u8F93\\u51FA\\uFF0C\\u6700\\u7EC8\\u90FD\\u4F1A\\u88AB concate \\u5230\\u4E00\\u8D77\\uFF0C\\u5F97\\u5230\\u4E00\\u4E2A\\u878D\\u5408\\u4E4B\\u540E\\u7684\\u7ED3\\u679C\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u5728 loss \\u8BA1\\u7B97\\u65F6\\uFF0C\\u4E0D\\u4EC5\\u8003\\u8651\\u4E86\\u6700\\u7EC8\\u7684 S_fuse\\uFF0C\\u5176\\u6BCF\\u4E00\\u4E2A\\u7279\\u5F81\\u5C42\\u7684\\u8F93\\u51FA\\u90FD\\u4F1A\\u88AB\\u52A0\\u5165\\u5230 loss \\u8BA1\\u7B97\\u4E2D\\u53BB\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"highly-accurate-dichotomous-image-segmentationdis\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#highly-accurate-dichotomous-image-segmentationdis\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Highly Accurate Dichotomous Image Segmentation\\uFF08DIS\\uFF09\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u5DE5\\u4F5C\\u5F88\\u5927\\u7684\\u8D21\\u732E\\u5728\\u4E8E\\uFF1A\\u63D0\\u4F9B\\u4E86\\u4E00\\u4E2A\\u9AD8\\u7CBE\\u5EA6\\u7684\\u5206\\u5272\\u6570\\u636E\\u96C6\\u3002\\u5C24\\u5176\\u662F\\u5BF9\\u4E8E\\u7269\\u4F53\\u7EC6\\u8282\\u8FD9\\u5757\\uFF0C\\u6807\\u6CE8\\u7684\\u975E\\u5E38\\u7CBE\\u51C6\\uFF0C\\u6B64\\u7C7B\\u6570\\u636E\\u6210\\u672C\\u5F80\\u5F80\\u5F88\\u9AD8\\uFF0C\\u80FD\\u591F\\u516C\\u5F00\\u51FA\\u6765\\u662F\\u975E\\u5E38\\u96BE\\u5F97\\u7684\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u76F8\\u5BF9\\u4E8E U2Net\\uFF0C\\u6548\\u679C\\u4E0A\\u4E5F\\u6709\\u4E86\\u5F88\\u5927\\u7684\\u63D0\\u5347\\u3002\\u9664\\u4E86\\u6570\\u636E\\u96C6\\u7684\\u8D21\\u732E\\u4E4B\\u5916\\uFF0C\\u8FD9\\u7BC7\\u5DE5\\u4F5C\\u63D0\\u51FA\\u4E86\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u4E00\\u79CD\\u65B0\\u7684\\u57FA\\u4E8E\\u4E2D\\u95F4\\u76D1\\u7763\\u7684\\u57FA\\u7EBF IS-Net\\uFF0C\\u5B83\\u901A\\u8FC7\\u5F3A\\u5236\\u9AD8\\u7EF4\\u7279\\u5F81\\u7684\\u76F4\\u63A5\\u540C\\u6B65\\u6765\\u51CF\\u5C11\\u8FC7\\u62DF\\u5408\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4EBA\\u5DE5\\u77EB\\u6B63\\u91CF\\uFF08HCE\\uFF09\\u6307\\u6807\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"is-net-\\u7F51\\u7EDC\\u67B6\\u6784\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#is-net-\\u7F51\\u7EDC\\u67B6\\u6784\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"IS-Net \\u7F51\\u7EDC\\u67B6\\u6784\"]}),`\n`,(0,n.jsx)(e.p,{children:\"IS-Net \\u7684\\u7F51\\u7EDC\\u67B6\\u6784\\u57FA\\u672C\\u4E0A\\u662F\\u6CBF\\u7528\\u4E86 U2Net \\u7684\\u7ED3\\u6784\\uFF0C\\u533A\\u522B\\u5728\\u4E8E\\u5176\\u5BF9\\u591A\\u5C3A\\u5EA6\\u4E0B\\u7684\\u7279\\u5F81\\u8FDB\\u884C\\u76F4\\u63A5\\u7684\\u76D1\\u7763\\u3002\\u5982\\u4F55\\u505A\\u5230\\u8FD9\\u4E00\\u70B9\\u5462\\uFF1F\\u5176\\u5C06\\u8BAD\\u7EC3\\u5206\\u6210\\u4E86\\u4E24\\u4E2A\\u9636\\u6BB5\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7B2C\\u4E00\\u9636\\u6BB5\\u57FA\\u4E8E ground truth \\u8BAD\\u7EC3\\u4E00\\u4E2A\\u7F16\\u7801\\u5668\\uFF0C\\u5176\\u5305\\u542B\\u4E86\\u591A\\u5C3A\\u5EA6\\u4E0B\\u5BF9\\u5E94\\u7684\",(0,n.jsx)(e.strong,{children:\"\\u7279\\u5F81 ground truth\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u7B2C\\u4E8C\\u9636\\u6BB5\\u5229\\u7528\\u8FD9\\u4E9B\\u7279\\u5F81 ground truth \\u53BB\\u8BAD\\u7EC3\\u539F\\u6765\\u7684 U2Net \\u7ED3\\u6784\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u5728\\u63A8\\u7406\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EA\\u9700\\u8981\\u4E3B\\u5E72\\u90E8\\u5206\\uFF0C\\u7279\\u5F81\\u76D1\\u7763\\u6A21\\u5757\\u53EA\\u53C2\\u4E0E\\u8BAD\\u7EC3\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7\\u672C\\u6587\\uFF0C\\u6211\\u4EEC\\u7B80\\u5355\\u56DE\\u987E\\u4E86\\u9AD8\\u7CBE\\u5EA6\\u56FE\\u50CF\\u5206\\u5272\\u76F8\\u5173\\u5DE5\\u4F5C\\uFF0C\\u5176\\u5728\\u8BA1\\u7B97\\u673A\\u89C6\\u89C9\\u9886\\u57DF\\u5177\\u6709\\u7740\\u5E7F\\u6CDB\\u7684\\u5E94\\u7528\\u524D\\u666F\\u3002\\u8FD9\\u4E9B\\u7B97\\u6CD5\\u7684\\u4E0D\\u65AD\\u53D1\\u5C55\\u548C\\u6539\\u8FDB\\u4F7F\\u6211\\u4EEC\\u80FD\\u591F\\u66F4\\u51C6\\u786E\\u5730\\u5206\\u79BB\\u56FE\\u50CF\\u4E2D\\u7684\\u4E0D\\u540C\\u5BF9\\u8C61\\u3001\\u533A\\u57DF\\u548C\\u7279\\u5F81\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u53C2\\u8003\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/xuebinqin/BASNet\",children:\"BASNet\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/xuebinqin/U-2-Net\",children:\"U-2-Net\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/xuebinqin/DIS\",children:\"DIS\"})}),`\n`]})]})}function o(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsx)(e,{...i,children:(0,n.jsx)(s,{...i})}):s(i)}return b(U);})();\n;return Component;"
    },
    "_id": "blog/high-accuracy-segmentation.md",
    "_raw": {
      "sourceFilePath": "blog/high-accuracy-segmentation.md",
      "sourceFileName": "high-accuracy-segmentation.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/high-accuracy-segmentation"
    },
    "type": "Blog",
    "readingTime": {
      "text": "6 min read",
      "minutes": 5.06,
      "time": 303600,
      "words": 1012
    },
    "slug": "high-accuracy-segmentation",
    "path": "blog/high-accuracy-segmentation",
    "toc": [
      {
        "value": "å‰è¨€",
        "url": "#å‰è¨€",
        "depth": 2
      },
      {
        "value": "BASNet",
        "url": "#basnet",
        "depth": 2
      },
      {
        "value": "predict-refine ç½‘ç»œæ¶æ„",
        "url": "#predict-refine-ç½‘ç»œæ¶æ„",
        "depth": 3
      },
      {
        "value": "å¤šå±‚çº§çš„æ··åˆ loss",
        "url": "#å¤šå±‚çº§çš„æ··åˆ-loss",
        "depth": 3
      },
      {
        "value": "U2Net",
        "url": "#u2net",
        "depth": 2
      },
      {
        "value": "ReSidual U-blocks",
        "url": "#residual-u-blocks",
        "depth": 3
      },
      {
        "value": "ç½‘ç»œæ¶æ„",
        "url": "#ç½‘ç»œæ¶æ„",
        "depth": 3
      },
      {
        "value": "Highly Accurate Dichotomous Image Segmentationï¼ˆDISï¼‰",
        "url": "#highly-accurate-dichotomous-image-segmentationdis",
        "depth": 2
      },
      {
        "value": "IS-Net ç½‘ç»œæ¶æ„",
        "url": "#is-net-ç½‘ç»œæ¶æ„",
        "depth": 3
      },
      {
        "value": "ç»“è¯­",
        "url": "#ç»“è¯­",
        "depth": 2
      },
      {
        "value": "å‚è€ƒ",
        "url": "#å‚è€ƒ",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "é«˜ç²¾åº¦å›¾åƒåˆ†å‰²æŠ€æœ¯å›é¡¾",
      "datePublished": "2023-11-06T00:00:00.000Z",
      "dateModified": "2023-11-06T00:00:00.000Z",
      "description": "å›é¡¾é«˜ç²¾åº¦å›¾åƒåˆ†å‰²ç®—æ³•å‘å±•ï¼šä» BASNet åˆ° U2Netï¼Œå†åˆ° DISã€‚æ¢è®¨ Residual Refine Module åŠå¤šå°ºåº¦èåˆæŠ€æœ¯ã€‚",
      "url": "https://zhangjian94cn.github.io/blog/high-accuracy-segmentation"
    }
  },
  {
    "title": "Introducing Intel LLM-on-Ray: A New Era for Large Language Models",
    "date": "2023-12-09T00:00:00.000Z",
    "tags": [
      "LLM",
      "Ray",
      "Intel",
      "åˆ†å¸ƒå¼è®­ç»ƒ"
    ],
    "draft": false,
    "summary": "Pretrain, finetune and serve LLMs on Intel platforms with Ray distributed framework.",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\nWe are thrilled to announce the launch of the [Intel LLM-on-Ray project](https://github.com/intel/llm-on-ray), a groundbreaking initiative designed to revolutionize the way large language models (LLMs) are pretrained, finetuned, and served on Intel platforms using the Ray framework.\n\n## Empowering LLMs with Intel and Ray\n\nThe Intel LLM-on-Ray project brings together the scalability of Ray with the robustness of Intel's hardware, delivering an unparalleled environment for working with LLMs. Researchers and developers can now leverage this powerful combination to train and deploy some of the most advanced AI models with greater ease and efficiency.\n\n## Key Features\n\n- **Scalability**: Handle massive datasets and model sizes without compromising on performance.\n- **Flexibility**: Pretrain and finetune models with custom workflows tailored to specific needs.\n- **Efficiency**: Optimize resource utilization on Intel platforms, reducing operational costs.\n- **Ease of Use**: Simplified APIs and tools make it easier to get started and scale up.\n\n## Get Started\n\nThe project is open-source and ready for contributions. We encourage you to join us in this journey and help shape the future of LLMs. For more information, visit the [Intel LLM-on-Ray GitHub repository](https://github.com/intel/llm-on-ray).\n\n## Join the Community\n\nBecome part of a growing community of developers and researchers passionate about the potential of LLMs. Share your insights, collaborate on projects, and learn from the expertise of others in the field.\n",
      "code": "var Component=(()=>{var m=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),L=(t,e)=>{for(var a in e)i(t,a,{get:e[a],enumerable:!0})},s=(t,e,a,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of f(e))!g.call(t,r)&&r!==a&&i(t,r,{get:()=>e[r],enumerable:!(o=u(e,r))||o.enumerable});return t};var w=(t,e,a)=>(a=t!=null?m(p(t)):{},s(e||!t||!t.__esModule?i(a,\"default\",{value:t,enumerable:!0}):a,t)),b=t=>s(i({},\"__esModule\",{value:!0}),t);var d=y((j,l)=>{l.exports=_jsx_runtime});var x={};L(x,{default:()=>h,frontmatter:()=>I});var n=w(d()),I={title:\"Introducing Intel LLM-on-Ray: A New Era for Large Language Models\",date:\"2023-12-09\",tags:[\"LLM\",\"Ray\",\"Intel\",\"\\u5206\\u5E03\\u5F0F\\u8BAD\\u7EC3\"],draft:!1,summary:\"Pretrain, finetune and serve LLMs on Intel platforms with Ray distributed framework.\",authors:[\"default\"]};function c(t){let e={a:\"a\",h2:\"h2\",li:\"li\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"We are thrilled to announce the launch of the \",(0,n.jsx)(e.a,{href:\"https://github.com/intel/llm-on-ray\",children:\"Intel LLM-on-Ray project\"}),\", a groundbreaking initiative designed to revolutionize the way large language models (LLMs) are pretrained, finetuned, and served on Intel platforms using the Ray framework.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"empowering-llms-with-intel-and-ray\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#empowering-llms-with-intel-and-ray\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Empowering LLMs with Intel and Ray\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The Intel LLM-on-Ray project brings together the scalability of Ray with the robustness of Intel's hardware, delivering an unparalleled environment for working with LLMs. Researchers and developers can now leverage this powerful combination to train and deploy some of the most advanced AI models with greater ease and efficiency.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"key-features\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#key-features\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Key Features\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Scalability\"}),\": Handle massive datasets and model sizes without compromising on performance.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Flexibility\"}),\": Pretrain and finetune models with custom workflows tailored to specific needs.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Efficiency\"}),\": Optimize resource utilization on Intel platforms, reducing operational costs.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Ease of Use\"}),\": Simplified APIs and tools make it easier to get started and scale up.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"get-started\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#get-started\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Get Started\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The project is open-source and ready for contributions. We encourage you to join us in this journey and help shape the future of LLMs. For more information, visit the \",(0,n.jsx)(e.a,{href:\"https://github.com/intel/llm-on-ray\",children:\"Intel LLM-on-Ray GitHub repository\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"join-the-community\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#join-the-community\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Join the Community\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Become part of a growing community of developers and researchers passionate about the potential of LLMs. Share your insights, collaborate on projects, and learn from the expertise of others in the field.\"})]})}function h(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(c,{...t})}):c(t)}return b(x);})();\n;return Component;"
    },
    "_id": "blog/llm-on-ray.md",
    "_raw": {
      "sourceFilePath": "blog/llm-on-ray.md",
      "sourceFileName": "llm-on-ray.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/llm-on-ray"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.1,
      "time": 66000,
      "words": 220
    },
    "slug": "llm-on-ray",
    "path": "blog/llm-on-ray",
    "toc": [
      {
        "value": "Empowering LLMs with Intel and Ray",
        "url": "#empowering-llms-with-intel-and-ray",
        "depth": 2
      },
      {
        "value": "Key Features",
        "url": "#key-features",
        "depth": 2
      },
      {
        "value": "Get Started",
        "url": "#get-started",
        "depth": 2
      },
      {
        "value": "Join the Community",
        "url": "#join-the-community",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Introducing Intel LLM-on-Ray: A New Era for Large Language Models",
      "datePublished": "2023-12-09T00:00:00.000Z",
      "dateModified": "2023-12-09T00:00:00.000Z",
      "description": "Pretrain, finetune and serve LLMs on Intel platforms with Ray distributed framework.",
      "url": "https://zhangjian94cn.github.io/blog/llm-on-ray"
    }
  },
  {
    "title": "Makefile å…¥é—¨æŒ‡å—",
    "date": "2022-12-06T00:00:00.000Z",
    "tags": [
      "ç¼–è¯‘",
      "Makefile",
      "C++"
    ],
    "draft": false,
    "summary": "Makefile åŸºç¡€æ•™ç¨‹ï¼šç†è§£ targetsã€prerequisites å’Œ commandsï¼ŒæŒæ¡å¢é‡ç¼–è¯‘æ ¸å¿ƒåŸç†ã€‚",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\næœ¬æ–‡æ˜¯å¯¹ [Makefile Cookbook](https://makefiletutorial.com/#makefile-cookbook) çš„ç®€è¦ç¿»è¯‘ã€‚\n\n## ä¸ºä»€ä¹ˆéœ€è¦ Makefile\n\nMakefile ç”¨äºå†³å®šä¸€ä¸ªå¤§å‹ç¨‹åºçš„å“ªä¸€éƒ¨åˆ†éœ€è¦è¢«é‡æ–°ç¼–è¯‘ã€‚åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå…¶è¢«ç”¨æ¥ç¼–è¯‘ C æˆ– C++ æ–‡ä»¶ã€‚å…¶ä»–è¯­è¨€é€šå¸¸æœ‰è‡ªå·±çš„å·¥å…·ï¼Œå…¶ç”¨é€”ä¸ make ç±»ä¼¼ã€‚\n\n## è¿è¡Œæ ·ä¾‹\n\nè®©æˆ‘ä»¬è¿è¡Œä¸€ä¸ªæœ€ç®€å•çš„æ ·ä¾‹ï¼šæ–°å»ºæ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸­åˆ›å»º `Makefile` æ–‡ä»¶ï¼š\n\n> **éœ€è¦æ³¨æ„ï¼šmakefile ä¸­å¿…é¡»ä½¿ç”¨ tab è¿›è¡Œç¼©è¿›**\n\n```makefile\nhello:\n\techo \"Hello, World\"\n```\n\nè¿è¡Œç»“æœï¼š\n\n```bash\n$ make\necho \"Hello, World\"\nHello, World\n```\n\n## Makefile çš„è¯­æ³•\n\nMakefile ç”±ä¸€ç³»åˆ—çš„ rule æ„æˆï¼Œä¸€ä¸ª rule çš„èŒƒå¼å¦‚ä¸‹ï¼š\n\n```makefile\ntargets: prerequisites\n\tcommand\n\tcommand\n\tcommand\n```\n\n- **targets**: æ–‡ä»¶åï¼Œé€šè¿‡ç©ºæ ¼åˆ†éš”ã€‚é€šå¸¸ï¼Œä¸€ä¸ª rule åªæœ‰ä¸€ä¸ª target\n- **commands**: ç”¨äºç¼–è¯‘ targets çš„æŒ‡ä»¤ï¼Œéœ€è¦ä½¿ç”¨ tab ç¼©è¿›\n- **prerequisites**: ä¹Ÿæ˜¯æ–‡ä»¶åï¼Œä»£è¡¨\"è¿è¡Œå‘½ä»¤æ—¶çš„ä¾èµ–é¡¹\"\n\n## Make çš„æœ¬è´¨\n\næ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š\n\n```makefile\nhello:\n\techo \"Hello, World\"\n\techo \"This line will always print, because the file hello does not exist.\"\n```\n\nè®©æˆ‘ä»¬æ¥è¿è¡Œ `make`ã€‚åªè¦ **hello** ä¸å­˜åœ¨ï¼Œè¿™äº› command å°±ä¼šè¿è¡Œï¼Œåä¹‹åˆ™ä¸è¿è¡Œã€‚\n\néœ€è¦è®¤è¯†åˆ°çš„æ˜¯ï¼š**hello** åŒæ—¶ä»£è¡¨äº† target hello å’Œ file helloï¼Œè¿™ä¸¤è€…çš„è”ç³»éå¸¸ç´§å¯†ã€‚\n\n### ç¼–è¯‘ C æ–‡ä»¶ç¤ºä¾‹\n\nåˆ›å»º `blah.c`ï¼š\n\n```c\n// blah.c\nint main() { return 0; }\n```\n\nåˆ›å»º `Makefile`ï¼š\n\n```makefile\nblah: blah.c\n\tcc blah.c -o blah\n```\n\nå½“è¿è¡Œ make æ—¶ï¼Œä¸‹é¢çš„æ­¥éª¤å°†ä¼šè¢«æ‰§è¡Œï¼š\n\n1. ç¬¬ä¸€ä¸ª target å°†ä¼šè¢«é€‰ä¸­ï¼ˆé»˜è®¤ targetï¼‰\n2. æ£€æŸ¥ prerequisite `blah.c` æ˜¯å¦å­˜åœ¨\n3. å†³å®šæ˜¯å¦éœ€è¦è¿è¡Œæ­¤ targetï¼šåªæœ‰å½“ `blah.c` çš„æ–‡ä»¶ä¿®æ”¹æ—¶é—´åœ¨ `blah` ä¹‹åæ—¶æ‰ä¼šè¿è¡Œ\n\nè¿™å°±æ˜¯ **make çš„æœ¬è´¨**ï¼šå½“ prerequisites åœ¨ä¸Šæ¬¡ç¼–è¯‘ä¹‹åå‡ºç°å˜åŒ–ï¼Œå°±éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œåä¹‹åˆ™ä¸éœ€è¦ã€‚\n\n## æ›´å¤šçš„ä¾‹å­\n\nä¸‹é¢çš„ `Makefile` æœ€ç»ˆè¿è¡Œäº† 3 ä¸ª targetï¼š\n\n```makefile\nblah: blah.o\n\tcc blah.o -o blah # Runs third\n\nblah.o: blah.c\n\tcc -c blah.c -o blah.o # Runs second\n\nblah.c:\n\techo \"int main() { return 0; }\" > blah.c # Runs first\n```\n\næ‰§è¡Œæ­¥éª¤ï¼š\n\n1. é¦–å…ˆé€‰æ‹© `blah` target\n2. `blah` éœ€è¦ `blah.o`ï¼Œæœç´¢ `blah.o` target\n3. `blah.o` éœ€è¦ `blah.c`ï¼Œæœç´¢ `blah.c` target\n4. `blah.c` æ²¡æœ‰ä¾èµ–ï¼Œè¿è¡Œ echo\n5. è¿è¡Œ `cc -c`\n6. è¿è¡Œ `cc`\n7. æœ€ç»ˆï¼Œ`blah` ç”Ÿæˆ\n\n## Make Clean\n\nclean çš„è¯­æ³•å¦‚ä¸‹ï¼š\n\n```makefile\nsome_file:\n\ttouch some_file\n\nclean:\n\trm -f some_file\n```\n\nè¿è¡Œ `make clean` æ—¶ï¼Œclean ä¸­çš„å†…å®¹å°±ä¼šç”Ÿæ•ˆã€‚\n\n## å˜é‡\n\nå˜é‡åªèƒ½æ˜¯ stringsï¼Œä¸€èˆ¬ä½¿ç”¨ `:=`ï¼š\n\n```makefile\nfiles := file1 file2\nsome_file: $(files)\n\techo \"Look at this variable: \" $(files)\n\ttouch some_file\n\nfile1:\n\ttouch file1\nfile2:\n\ttouch file2\n\nclean:\n\trm -f file1 file2 some_file\n```\n\nå¼•ç”¨å˜é‡å¯ä»¥ä½¿ç”¨ï¼š`${}` æˆ– `$()`\n\n```makefile\nx := dude\n\nall:\n\techo $(x)\n\techo ${x}\n```\n",
      "code": "var Component=(()=>{var m=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),f=(a,e)=>{for(var l in e)s(a,l,{get:e[l],enumerable:!0})},d=(a,e,l,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of N(e))!u.call(a,c)&&c!==l&&s(a,c,{get:()=>e[c],enumerable:!(i=p(e,c))||i.enumerable});return a};var b=(a,e,l)=>(l=a!=null?m(k(a)):{},d(e||!a||!a.__esModule?s(l,\"default\",{value:a,enumerable:!0}):l,a)),x=a=>d(s({},\"__esModule\",{value:!0}),a);var h=g((q,r)=>{r.exports=_jsx_runtime});var M={};f(M,{default:()=>t,frontmatter:()=>y});var n=b(h()),y={title:\"Makefile \\u5165\\u95E8\\u6307\\u5357\",date:\"2022-12-06\",tags:[\"\\u7F16\\u8BD1\",\"Makefile\",\"C++\"],draft:!1,summary:\"Makefile \\u57FA\\u7840\\u6559\\u7A0B\\uFF1A\\u7406\\u89E3 targets\\u3001prerequisites \\u548C commands\\uFF0C\\u638C\\u63E1\\u589E\\u91CF\\u7F16\\u8BD1\\u6838\\u5FC3\\u539F\\u7406\\u3002\",authors:[\"default\"]};function o(a){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u662F\\u5BF9 \",(0,n.jsx)(e.a,{href:\"https://makefiletutorial.com/#makefile-cookbook\",children:\"Makefile Cookbook\"}),\" \\u7684\\u7B80\\u8981\\u7FFB\\u8BD1\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-makefile\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-makefile\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981 Makefile\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Makefile \\u7528\\u4E8E\\u51B3\\u5B9A\\u4E00\\u4E2A\\u5927\\u578B\\u7A0B\\u5E8F\\u7684\\u54EA\\u4E00\\u90E8\\u5206\\u9700\\u8981\\u88AB\\u91CD\\u65B0\\u7F16\\u8BD1\\u3002\\u5728\\u5927\\u90E8\\u5206\\u60C5\\u51B5\\u4E0B\\uFF0C\\u5176\\u88AB\\u7528\\u6765\\u7F16\\u8BD1 C \\u6216 C++ \\u6587\\u4EF6\\u3002\\u5176\\u4ED6\\u8BED\\u8A00\\u901A\\u5E38\\u6709\\u81EA\\u5DF1\\u7684\\u5DE5\\u5177\\uFF0C\\u5176\\u7528\\u9014\\u4E0E make \\u7C7B\\u4F3C\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u8FD0\\u884C\\u6837\\u4F8B\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8FD0\\u884C\\u6837\\u4F8B\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8FD0\\u884C\\u6837\\u4F8B\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BA9\\u6211\\u4EEC\\u8FD0\\u884C\\u4E00\\u4E2A\\u6700\\u7B80\\u5355\\u7684\\u6837\\u4F8B\\uFF1A\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939\\uFF0C\\u5728\\u5176\\u4E2D\\u521B\\u5EFA \",(0,n.jsx)(e.code,{children:\"Makefile\"}),\" \\u6587\\u4EF6\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u9700\\u8981\\u6CE8\\u610F\\uFF1Amakefile \\u4E2D\\u5FC5\\u987B\\u4F7F\\u7528 tab \\u8FDB\\u884C\\u7F29\\u8FDB\"})}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"hello\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello, World\"'}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD0\\u884C\\u7ED3\\u679C\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"$ \",(0,n.jsx)(e.span,{className:\"token function\",children:\"make\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello, World\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`Hello, World\n`})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"makefile-\\u7684\\u8BED\\u6CD5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#makefile-\\u7684\\u8BED\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Makefile \\u7684\\u8BED\\u6CD5\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Makefile \\u7531\\u4E00\\u7CFB\\u5217\\u7684 rule \\u6784\\u6210\\uFF0C\\u4E00\\u4E2A rule \\u7684\\u8303\\u5F0F\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"targets\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` prerequisites\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\tcommand\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\tcommand\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\tcommand\n`})]})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"targets\"}),\": \\u6587\\u4EF6\\u540D\\uFF0C\\u901A\\u8FC7\\u7A7A\\u683C\\u5206\\u9694\\u3002\\u901A\\u5E38\\uFF0C\\u4E00\\u4E2A rule \\u53EA\\u6709\\u4E00\\u4E2A target\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"commands\"}),\": \\u7528\\u4E8E\\u7F16\\u8BD1 targets \\u7684\\u6307\\u4EE4\\uFF0C\\u9700\\u8981\\u4F7F\\u7528 tab \\u7F29\\u8FDB\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"prerequisites\"}),': \\u4E5F\\u662F\\u6587\\u4EF6\\u540D\\uFF0C\\u4EE3\\u8868\"\\u8FD0\\u884C\\u547D\\u4EE4\\u65F6\\u7684\\u4F9D\\u8D56\\u9879\"']}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"make-\\u7684\\u672C\\u8D28\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#make-\\u7684\\u672C\\u8D28\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Make \\u7684\\u672C\\u8D28\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6765\\u770B\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"hello\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello, World\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"This line will always print, because the file hello does not exist.\"'}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BA9\\u6211\\u4EEC\\u6765\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"make\"}),\"\\u3002\\u53EA\\u8981 \",(0,n.jsx)(e.strong,{children:\"hello\"}),\" \\u4E0D\\u5B58\\u5728\\uFF0C\\u8FD9\\u4E9B command \\u5C31\\u4F1A\\u8FD0\\u884C\\uFF0C\\u53CD\\u4E4B\\u5219\\u4E0D\\u8FD0\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9700\\u8981\\u8BA4\\u8BC6\\u5230\\u7684\\u662F\\uFF1A\",(0,n.jsx)(e.strong,{children:\"hello\"}),\" \\u540C\\u65F6\\u4EE3\\u8868\\u4E86 target hello \\u548C file hello\\uFF0C\\u8FD9\\u4E24\\u8005\\u7684\\u8054\\u7CFB\\u975E\\u5E38\\u7D27\\u5BC6\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u7F16\\u8BD1-c-\\u6587\\u4EF6\\u793A\\u4F8B\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7F16\\u8BD1-c-\\u6587\\u4EF6\\u793A\\u4F8B\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F16\\u8BD1 C \\u6587\\u4EF6\\u793A\\u4F8B\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u521B\\u5EFA \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// blah.c\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u521B\\u5EFA \",(0,n.jsx)(e.code,{children:\"Makefile\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\tcc blah.c -o blah\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F53\\u8FD0\\u884C make \\u65F6\\uFF0C\\u4E0B\\u9762\\u7684\\u6B65\\u9AA4\\u5C06\\u4F1A\\u88AB\\u6267\\u884C\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u7B2C\\u4E00\\u4E2A target \\u5C06\\u4F1A\\u88AB\\u9009\\u4E2D\\uFF08\\u9ED8\\u8BA4 target\\uFF09\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u68C0\\u67E5 prerequisite \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\" \\u662F\\u5426\\u5B58\\u5728\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u51B3\\u5B9A\\u662F\\u5426\\u9700\\u8981\\u8FD0\\u884C\\u6B64 target\\uFF1A\\u53EA\\u6709\\u5F53 \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\" \\u7684\\u6587\\u4EF6\\u4FEE\\u6539\\u65F6\\u95F4\\u5728 \",(0,n.jsx)(e.code,{children:\"blah\"}),\" \\u4E4B\\u540E\\u65F6\\u624D\\u4F1A\\u8FD0\\u884C\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u5C31\\u662F \",(0,n.jsx)(e.strong,{children:\"make \\u7684\\u672C\\u8D28\"}),\"\\uFF1A\\u5F53 prerequisites \\u5728\\u4E0A\\u6B21\\u7F16\\u8BD1\\u4E4B\\u540E\\u51FA\\u73B0\\u53D8\\u5316\\uFF0C\\u5C31\\u9700\\u8981\\u91CD\\u65B0\\u7F16\\u8BD1\\uFF0C\\u53CD\\u4E4B\\u5219\\u4E0D\\u9700\\u8981\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u66F4\\u591A\\u7684\\u4F8B\\u5B50\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u66F4\\u591A\\u7684\\u4F8B\\u5B50\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u66F4\\u591A\\u7684\\u4F8B\\u5B50\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E0B\\u9762\\u7684 \",(0,n.jsx)(e.code,{children:\"Makefile\"}),\" \\u6700\\u7EC8\\u8FD0\\u884C\\u4E86 3 \\u4E2A target\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah.o\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\tcc blah.o -o blah \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Runs third\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\tcc -c blah.c -o blah.o \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Runs second\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"int main() { return 0; }\"'}),\" > blah.c \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Runs first\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6267\\u884C\\u6B65\\u9AA4\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9996\\u5148\\u9009\\u62E9 \",(0,n.jsx)(e.code,{children:\"blah\"}),\" target\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"blah\"}),\" \\u9700\\u8981 \",(0,n.jsx)(e.code,{children:\"blah.o\"}),\"\\uFF0C\\u641C\\u7D22 \",(0,n.jsx)(e.code,{children:\"blah.o\"}),\" target\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"blah.o\"}),\" \\u9700\\u8981 \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\"\\uFF0C\\u641C\\u7D22 \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\" target\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"blah.c\"}),\" \\u6CA1\\u6709\\u4F9D\\u8D56\\uFF0C\\u8FD0\\u884C echo\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"cc -c\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"cc\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6700\\u7EC8\\uFF0C\",(0,n.jsx)(e.code,{children:\"blah\"}),\" \\u751F\\u6210\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"make-clean\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#make-clean\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Make Clean\"]}),`\n`,(0,n.jsx)(e.p,{children:\"clean \\u7684\\u8BED\\u6CD5\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"some_file\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch some_file\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f some_file\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"make clean\"}),\" \\u65F6\\uFF0Cclean \\u4E2D\\u7684\\u5185\\u5BB9\\u5C31\\u4F1A\\u751F\\u6548\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u53D8\\u91CF\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53D8\\u91CF\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53D8\\u91CF\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u53D8\\u91CF\\u53EA\\u80FD\\u662F strings\\uFF0C\\u4E00\\u822C\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\":=\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"files \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),` file1 file2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"some_file\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"files\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Look at this variable: \"'}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"files\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch some_file\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"file1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch file1\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"file2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch file2\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f file1 file2 some_file\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F15\\u7528\\u53D8\\u91CF\\u53EF\\u4EE5\\u4F7F\\u7528\\uFF1A\",(0,n.jsx)(e.code,{children:\"${}\"}),\" \\u6216 \",(0,n.jsx)(e.code,{children:\"$()\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),` dude\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})})]})}function t(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(o,{...a})}):o(a)}return x(M);})();\n;return Component;"
    },
    "_id": "blog/makefile-intro.md",
    "_raw": {
      "sourceFilePath": "blog/makefile-intro.md",
      "sourceFileName": "makefile-intro.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/makefile-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "4 min read",
      "minutes": 3.19,
      "time": 191400,
      "words": 638
    },
    "slug": "makefile-intro",
    "path": "blog/makefile-intro",
    "toc": [
      {
        "value": "ä¸ºä»€ä¹ˆéœ€è¦ Makefile",
        "url": "#ä¸ºä»€ä¹ˆéœ€è¦-makefile",
        "depth": 2
      },
      {
        "value": "è¿è¡Œæ ·ä¾‹",
        "url": "#è¿è¡Œæ ·ä¾‹",
        "depth": 2
      },
      {
        "value": "Makefile çš„è¯­æ³•",
        "url": "#makefile-çš„è¯­æ³•",
        "depth": 2
      },
      {
        "value": "Make çš„æœ¬è´¨",
        "url": "#make-çš„æœ¬è´¨",
        "depth": 2
      },
      {
        "value": "ç¼–è¯‘ C æ–‡ä»¶ç¤ºä¾‹",
        "url": "#ç¼–è¯‘-c-æ–‡ä»¶ç¤ºä¾‹",
        "depth": 3
      },
      {
        "value": "æ›´å¤šçš„ä¾‹å­",
        "url": "#æ›´å¤šçš„ä¾‹å­",
        "depth": 2
      },
      {
        "value": "Make Clean",
        "url": "#make-clean",
        "depth": 2
      },
      {
        "value": "å˜é‡",
        "url": "#å˜é‡",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Makefile å…¥é—¨æŒ‡å—",
      "datePublished": "2022-12-06T00:00:00.000Z",
      "dateModified": "2022-12-06T00:00:00.000Z",
      "description": "Makefile åŸºç¡€æ•™ç¨‹ï¼šç†è§£ targetsã€prerequisites å’Œ commandsï¼ŒæŒæ¡å¢é‡ç¼–è¯‘æ ¸å¿ƒåŸç†ã€‚",
      "url": "https://zhangjian94cn.github.io/blog/makefile-intro"
    }
  },
  {
    "title": "Vtune Usage",
    "date": "2022-11-21T00:00:00.000Z",
    "tags": [
      "Profile"
    ],
    "draft": false,
    "summary": "Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instruct",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## å‰è¨€\n\næœ€è¿‘åœ¨ç ”ç©¶vtuneï¼Œè¯•ç€ç”¨å…¶è¿›è¡Œä»£ç æ€§èƒ½çš„åˆ†æï¼Œä¸»è¦çœ‹äº†snapshotå’Œhotspotä¸¤ä¸ªanalysis typeã€‚\n\nvtuneçš„å®‰è£…å¯ä»¥ä½¿ç”¨å®˜æ–¹çš„dockerï¼Œæˆ–è€…[è‡ªå·±å®‰è£…oneAPI](https://www.intel.com/content/www/us/en/develop/documentation/installation-guide-for-intel-oneapi-toolkits-linux/top.html)ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯[apt install](https://www.intel.com/content/www/us/en/develop/documentation/installation-guide-for-intel-oneapi-toolkits-linux/top/installation/install-using-package-managers/apt.html)ï¼Œè„šæœ¬å¦‚ä¸‹ã€‚\n\n\n```bash\napt-get install -y --no-install-recommends curl ca-certificates gpg-agent software-properties-common\n\n# download the key to system keyring\nwget -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB | gpg --dearmor | tee /usr/share/keyrings/oneapi-archive-keyring.gpg > /dev/null\n\n# add signed entry to apt sources and configure the APT client to use Intel repository:\necho \"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\" | tee /etc/apt/sources.list.d/oneAPI.list\n\n# install base kit and hpc kit\napt update && apt install intel-basekit intel-hpckit -y\n\n# source vtune env\necho \"source /opt/intel/oneapi/vtune/latest/vtune-vars.sh\" >> ~/.bashrc\n```\n\n## ç”¨æ³•\n\nå› ä¸ºä»£ç è¿è¡Œå¾€å¾€åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œä¸€èˆ¬æ¥è¯´æ˜¯æ²¡æœ‰GUIçš„ï¼Œå› æ­¤æˆ‘ä»¬é‡‡å–çš„æ–¹å¼æ˜¯åœ¨è¿œç«¯æˆ‘ä»¬ä½¿ç”¨CLIè¿›è¡Œåˆ†æï¼Œå°†åˆ†æç»“æœåœ¨æœ¬åœ°æœºå™¨ä¸Šå¯è§†åŒ–ã€‚\n\nå‘½ä»¤å¯ä»¥ç”¨`vtune -h`æŸ¥çœ‹ï¼š\n\n```bash\n#  1) Start with a performance snapshot. Get a quick overview of potential performance issues. Identify next steps for a deeper analysis:\nvtune -collect performance-snapshot a.out\n \n#  2) Run a hotspots collection (in user-mode sampling) on the specified target:\nvtune -collect hotspots a.out\n```\n\n### Performance Snapshot\n\n\nIPCï¼šä»£è¡¨äº†CPUæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸå®Œæˆï¼ˆretiredï¼‰çš„æŒ‡ä»¤æ•°ç›®ã€‚ç°ä»£å¤„ç†å™¨çš„æŒ‡ä»¤è¿è¡Œéƒ½æ˜¯æµæ°´çº¿ï¼ˆpipelineï¼‰çš„å½¢å¼ï¼Œæ¯ä¸ªï¼ˆæ±‡ç¼–ï¼‰æŒ‡ä»¤å¯åˆ†ä¸ºå–æŒ‡ã€è¯‘ç ã€æ‰§è¡Œç­‰å¤šæ¡æŒ‡ä»¤ï¼ˆuOPsï¼‰ï¼Œé€šè¿‡å¹¶è¡Œè¿™äº›æŒ‡ä»¤å¯ä»¥å®ç°å¤§äº1çš„IPCã€‚\n\n> Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instructions per cycle, suggesting a theoretical best IPC of 4. But various effects (long-latency memory, floating-point, or SIMD operations; non-retired instructions due to branch mispredictions; instruction starvation in the front-end) tend to pull the observed IPC down. A IPC > 1 is typical for instruction bound code, while a IPC < 1 may show up for a stall cycle bound application, also likely memory bound. IPC is an excellent metric for judging an overall potential for application performance tuning.\n\nRetiringï¼šåœ¨CPUçš„æŒ‡ä»¤æ§åˆ¶å•å…ƒï¼ˆInstruction Control Unitï¼‰ä¸­ï¼Œretirement unitè®°å½•æ­£åœ¨è¿›è¡Œçš„å¤„ç†ã€‚ä¸€æ—¦ä¸€æ¡æŒ‡ä»¤çš„æ“ä½œå®Œæˆäº†ï¼Œè€Œä¸”æ‰€æœ‰å¼•èµ·è¿™æ¡æŒ‡ä»¤çš„åˆ†æ”¯ç‚¹ä¹Ÿéƒ½è¢«ç¡®è®¤ä¸ºé¢„æµ‹æ­£ç¡®ï¼Œé‚£ä¹ˆè¿™æ¡æŒ‡ä»¤å°±å¯ä»¥retiredäº†ã€‚Retiringçš„å€¼è¶Šé«˜ï¼Œè¯´æ˜æŒ‡ä»¤çš„åˆ©ç”¨ç‡è¶Šé«˜ã€‚\n\n> Retiring metric represents a Pipeline Slots fraction utilized by useful work, meaning the issued uOps that eventually get retired. Ideally, all Pipeline Slots would be attributed to the Retiring category. Retiring of 100% would indicate the maximum possible number of uOps retired per cycle has been achieved. Maximizing Retiring typically increases the Instruction-Per-Cycle metric. Note that a high Retiring value does not necessary mean no more room for performance improvement. For example, Microcode assists are categorized under Retiring. They hurt performance and can often be avoided.\n\nVectorizationï¼šä»£è¡¨å‘é‡åŒ–æŒ‡ä»¤çš„å æ¯”ï¼ˆvaddps, ...ï¼‰ã€‚\n\n> This metric represents the percentage of packed (vectorized) floating point operations. 0% means that the code is fully scalar. The metric does not take into account the actual vector length that was used by the code for vector instructions. So if the code is fully vectorized and uses a legacy instruction set that loaded only half a vector length, the Vectorization metric shows 100%.\n\n\n### Hotspot\n\né€šè¿‡hotspotå¯ä»¥è®©æˆ‘ä»¬ä»å¤šä¸ªè§’åº¦å»åˆ†æç¨‹åºä¸åŒä½ç½®çš„æ—¶é—´æ¶ˆè€—ï¼ŒåŒ…æ‹¬ï¼š\n\n1. top down\n2. caller\n3. bottom up\n4. flame graph\n5. ...\n\né€šè¿‡ç‚¹å‡»ç›¸åº”çš„å‡½æ•°ä½ å¯ä»¥ç›´æ¥çœ‹åˆ°å¯¹åº”çš„ä»£ç è¡Œçš„å ç”¨æ—¶é—´ï¼Œä»¥åŠå¯¹åº”çš„æ±‡ç¼–ä»£ç ï¼ˆå¦‚ä¸‹å›¾ï¼‰\n\n![](/img/20221121215137.png)  \n\n\næœ‰æ—¶å€™ï¼Œä½ ä¼šå‘ç°ä½ æ‰€éœ€è¦åˆ†æçš„ä»£ç ä»…ä»…åªæ˜¯åºå¤§ä»£ç ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œè¿™æ—¶å€™è¯¥æ€ä¹ˆåŠï¼Ÿ[Instrumentation and Tracing Technology API](https://www.intel.com/content/www/us/en/develop/documentation/gpa-user-guide/top/instrumentation-and-tracing-technology-apis.html)æä¾›äº†ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚\n\n\n## ç»“è®º\n\né€šè¿‡vtuneæˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ™°çš„äº†è§£åˆ°æ¯ä¸ªå‡½æ•°ï¼Œç‰¹å®šè¡Œçš„æ—¶é—´å æ¯”ï¼Œé€šè¿‡top downçš„Performance Snapshoteï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ä»è¾ƒé«˜ç»´åº¦ç†è§£ç¨‹åºæ€§èƒ½ï¼Œä¸ºä¹‹åçš„ä¼˜åŒ–æŒ‡æ˜æ–¹å‘ã€‚\n\n\n## å‚è€ƒ\n\n[CPU Metrics Reference](https://www.intel.com/content/www/us/en/develop/documentation/vtune-help/top/reference/cpu-metrics-reference.html#cpu-metrics-reference_PIPELINE-SLOTS)\n",
      "code": "var Component=(()=>{var p=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var N=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),k=(a,e)=>{for(var t in e)i(a,t,{get:e[t],enumerable:!0})},r=(a,e,t,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of u(e))!f.call(a,s)&&s!==t&&i(a,s,{get:()=>e[s],enumerable:!(c=m(e,s))||c.enumerable});return a};var y=(a,e,t)=>(t=a!=null?p(g(a)):{},r(e||!a||!a.__esModule?i(t,\"default\",{value:a,enumerable:!0}):t,a)),b=a=>r(i({},\"__esModule\",{value:!0}),a);var l=N((P,o)=>{o.exports=_jsx_runtime});var w={};k(w,{default:()=>h,frontmatter:()=>v});var n=y(l()),v={title:\"Vtune Usage\",date:\"2022-11-21\",tags:[\"Profile\"],draft:!1,summary:\"Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instruct\",authors:[\"default\"]};function d(a){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"\\u524D\\u8A00\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u524D\\u8A00\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u8FD1\\u5728\\u7814\\u7A76vtune\\uFF0C\\u8BD5\\u7740\\u7528\\u5176\\u8FDB\\u884C\\u4EE3\\u7801\\u6027\\u80FD\\u7684\\u5206\\u6790\\uFF0C\\u4E3B\\u8981\\u770B\\u4E86snapshot\\u548Chotspot\\u4E24\\u4E2Aanalysis type\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"vtune\\u7684\\u5B89\\u88C5\\u53EF\\u4EE5\\u4F7F\\u7528\\u5B98\\u65B9\\u7684docker\\uFF0C\\u6216\\u8005\",(0,n.jsx)(e.a,{href:\"https://www.intel.com/content/www/us/en/develop/documentation/installation-guide-for-intel-oneapi-toolkits-linux/top.html\",children:\"\\u81EA\\u5DF1\\u5B89\\u88C5oneAPI\"}),\"\\u3002\\u6211\\u4F7F\\u7528\\u7684\\u662F\",(0,n.jsx)(e.a,{href:\"https://www.intel.com/content/www/us/en/develop/documentation/installation-guide-for-intel-oneapi-toolkits-linux/top/installation/install-using-package-managers/apt.html\",children:\"apt install\"}),\"\\uFF0C\\u811A\\u672C\\u5982\\u4E0B\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt-get\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),\" --no-install-recommends \",(0,n.jsx)(e.span,{className:\"token function\",children:\"curl\"}),` ca-certificates gpg-agent software-properties-common\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# download the key to system keyring\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"wget\"}),\" -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" gpg \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--dearmor\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),\" /usr/share/keyrings/oneapi-archive-keyring.gpg \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),` /dev/null\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# add signed entry to apt sources and configure the APT client to use Intel repository:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),` /etc/apt/sources.list.d/oneAPI.list\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# install base kit and hpc kit\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" update \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" intel-basekit intel-hpckit \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# source vtune env\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"source /opt/intel/oneapi/vtune/latest/vtune-vars.sh\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>\"}),` ~/.bashrc\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7528\\u6CD5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7528\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7528\\u6CD5\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u56E0\\u4E3A\\u4EE3\\u7801\\u8FD0\\u884C\\u5F80\\u5F80\\u5728\\u8FDC\\u7A0B\\u670D\\u52A1\\u5668\\u4E0A\\uFF0C\\u4E00\\u822C\\u6765\\u8BF4\\u662F\\u6CA1\\u6709GUI\\u7684\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u91C7\\u53D6\\u7684\\u65B9\\u5F0F\\u662F\\u5728\\u8FDC\\u7AEF\\u6211\\u4EEC\\u4F7F\\u7528CLI\\u8FDB\\u884C\\u5206\\u6790\\uFF0C\\u5C06\\u5206\\u6790\\u7ED3\\u679C\\u5728\\u672C\\u5730\\u673A\\u5668\\u4E0A\\u53EF\\u89C6\\u5316\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u547D\\u4EE4\\u53EF\\u4EE5\\u7528\",(0,n.jsx)(e.code,{children:\"vtune -h\"}),\"\\u67E5\\u770B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#  1) Start with a performance snapshot. Get a quick overview of potential performance issues. Identify next steps for a deeper analysis:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"vtune \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-collect\"}),` performance-snapshot a.out\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:` \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#  2) Run a hotspots collection (in user-mode sampling) on the specified target:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"vtune \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-collect\"}),` hotspots a.out\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"performance-snapshot\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#performance-snapshot\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Performance Snapshot\"]}),`\n`,(0,n.jsx)(e.p,{children:\"IPC\\uFF1A\\u4EE3\\u8868\\u4E86CPU\\u6BCF\\u4E2A\\u65F6\\u949F\\u5468\\u671F\\u5B8C\\u6210\\uFF08retired\\uFF09\\u7684\\u6307\\u4EE4\\u6570\\u76EE\\u3002\\u73B0\\u4EE3\\u5904\\u7406\\u5668\\u7684\\u6307\\u4EE4\\u8FD0\\u884C\\u90FD\\u662F\\u6D41\\u6C34\\u7EBF\\uFF08pipeline\\uFF09\\u7684\\u5F62\\u5F0F\\uFF0C\\u6BCF\\u4E2A\\uFF08\\u6C47\\u7F16\\uFF09\\u6307\\u4EE4\\u53EF\\u5206\\u4E3A\\u53D6\\u6307\\u3001\\u8BD1\\u7801\\u3001\\u6267\\u884C\\u7B49\\u591A\\u6761\\u6307\\u4EE4\\uFF08uOPs\\uFF09\\uFF0C\\u901A\\u8FC7\\u5E76\\u884C\\u8FD9\\u4E9B\\u6307\\u4EE4\\u53EF\\u4EE5\\u5B9E\\u73B0\\u5927\\u4E8E1\\u7684IPC\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instructions per cycle, suggesting a theoretical best IPC of 4. But various effects (long-latency memory, floating-point, or SIMD operations; non-retired instructions due to branch mispredictions; instruction starvation in the front-end) tend to pull the observed IPC down. A IPC > 1 is typical for instruction bound code, while a IPC < 1 may show up for a stall cycle bound application, also likely memory bound. IPC is an excellent metric for judging an overall potential for application performance tuning.\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Retiring\\uFF1A\\u5728CPU\\u7684\\u6307\\u4EE4\\u63A7\\u5236\\u5355\\u5143\\uFF08Instruction Control Unit\\uFF09\\u4E2D\\uFF0Cretirement unit\\u8BB0\\u5F55\\u6B63\\u5728\\u8FDB\\u884C\\u7684\\u5904\\u7406\\u3002\\u4E00\\u65E6\\u4E00\\u6761\\u6307\\u4EE4\\u7684\\u64CD\\u4F5C\\u5B8C\\u6210\\u4E86\\uFF0C\\u800C\\u4E14\\u6240\\u6709\\u5F15\\u8D77\\u8FD9\\u6761\\u6307\\u4EE4\\u7684\\u5206\\u652F\\u70B9\\u4E5F\\u90FD\\u88AB\\u786E\\u8BA4\\u4E3A\\u9884\\u6D4B\\u6B63\\u786E\\uFF0C\\u90A3\\u4E48\\u8FD9\\u6761\\u6307\\u4EE4\\u5C31\\u53EF\\u4EE5retired\\u4E86\\u3002Retiring\\u7684\\u503C\\u8D8A\\u9AD8\\uFF0C\\u8BF4\\u660E\\u6307\\u4EE4\\u7684\\u5229\\u7528\\u7387\\u8D8A\\u9AD8\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Retiring metric represents a Pipeline Slots fraction utilized by useful work, meaning the issued uOps that eventually get retired. Ideally, all Pipeline Slots would be attributed to the Retiring category. Retiring of 100% would indicate the maximum possible number of uOps retired per cycle has been achieved. Maximizing Retiring typically increases the Instruction-Per-Cycle metric. Note that a high Retiring value does not necessary mean no more room for performance improvement. For example, Microcode assists are categorized under Retiring. They hurt performance and can often be avoided.\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Vectorization\\uFF1A\\u4EE3\\u8868\\u5411\\u91CF\\u5316\\u6307\\u4EE4\\u7684\\u5360\\u6BD4\\uFF08vaddps, ...\\uFF09\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"This metric represents the percentage of packed (vectorized) floating point operations. 0% means that the code is fully scalar. The metric does not take into account the actual vector length that was used by the code for vector instructions. So if the code is fully vectorized and uses a legacy instruction set that loaded only half a vector length, the Vectorization metric shows 100%.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"hotspot\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#hotspot\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Hotspot\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7hotspot\\u53EF\\u4EE5\\u8BA9\\u6211\\u4EEC\\u4ECE\\u591A\\u4E2A\\u89D2\\u5EA6\\u53BB\\u5206\\u6790\\u7A0B\\u5E8F\\u4E0D\\u540C\\u4F4D\\u7F6E\\u7684\\u65F6\\u95F4\\u6D88\\u8017\\uFF0C\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"top down\"}),`\n`,(0,n.jsx)(e.li,{children:\"caller\"}),`\n`,(0,n.jsx)(e.li,{children:\"bottom up\"}),`\n`,(0,n.jsx)(e.li,{children:\"flame graph\"}),`\n`,(0,n.jsx)(e.li,{children:\"...\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7\\u70B9\\u51FB\\u76F8\\u5E94\\u7684\\u51FD\\u6570\\u4F60\\u53EF\\u4EE5\\u76F4\\u63A5\\u770B\\u5230\\u5BF9\\u5E94\\u7684\\u4EE3\\u7801\\u884C\\u7684\\u5360\\u7528\\u65F6\\u95F4\\uFF0C\\u4EE5\\u53CA\\u5BF9\\u5E94\\u7684\\u6C47\\u7F16\\u4EE3\\u7801\\uFF08\\u5982\\u4E0B\\u56FE\\uFF09\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/20221121215137.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6709\\u65F6\\u5019\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0\\u4F60\\u6240\\u9700\\u8981\\u5206\\u6790\\u7684\\u4EE3\\u7801\\u4EC5\\u4EC5\\u53EA\\u662F\\u5E9E\\u5927\\u4EE3\\u7801\\u4E2D\\u7684\\u4E00\\u5C0F\\u90E8\\u5206\\uFF0C\\u8FD9\\u65F6\\u5019\\u8BE5\\u600E\\u4E48\\u529E\\uFF1F\",(0,n.jsx)(e.a,{href:\"https://www.intel.com/content/www/us/en/develop/documentation/gpa-user-guide/top/instrumentation-and-tracing-technology-apis.html\",children:\"Instrumentation and Tracing Technology API\"}),\"\\u63D0\\u4F9B\\u4E86\\u76F8\\u5E94\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BBA\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BBA\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BBA\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7vtune\\u6211\\u4EEC\\u53EF\\u4EE5\\u5F88\\u6E05\\u6670\\u7684\\u4E86\\u89E3\\u5230\\u6BCF\\u4E2A\\u51FD\\u6570\\uFF0C\\u7279\\u5B9A\\u884C\\u7684\\u65F6\\u95F4\\u5360\\u6BD4\\uFF0C\\u901A\\u8FC7top down\\u7684Performance Snapshote\\uFF0C\\u53EF\\u4EE5\\u5E2E\\u52A9\\u6211\\u4EEC\\u4ECE\\u8F83\\u9AD8\\u7EF4\\u5EA6\\u7406\\u89E3\\u7A0B\\u5E8F\\u6027\\u80FD\\uFF0C\\u4E3A\\u4E4B\\u540E\\u7684\\u4F18\\u5316\\u6307\\u660E\\u65B9\\u5411\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u53C2\\u8003\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://www.intel.com/content/www/us/en/develop/documentation/vtune-help/top/reference/cpu-metrics-reference.html#cpu-metrics-reference_PIPELINE-SLOTS\",children:\"CPU Metrics Reference\"})})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return b(w);})();\n;return Component;"
    },
    "_id": "blog/vtune-intro.md",
    "_raw": {
      "sourceFilePath": "blog/vtune-intro.md",
      "sourceFileName": "vtune-intro.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/vtune-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "5 min read",
      "minutes": 4.455,
      "time": 267300,
      "words": 891
    },
    "slug": "vtune-intro",
    "path": "blog/vtune-intro",
    "toc": [
      {
        "value": "å‰è¨€",
        "url": "#å‰è¨€",
        "depth": 2
      },
      {
        "value": "ç”¨æ³•",
        "url": "#ç”¨æ³•",
        "depth": 2
      },
      {
        "value": "Performance Snapshot",
        "url": "#performance-snapshot",
        "depth": 3
      },
      {
        "value": "Hotspot",
        "url": "#hotspot",
        "depth": 3
      },
      {
        "value": "ç»“è®º",
        "url": "#ç»“è®º",
        "depth": 2
      },
      {
        "value": "å‚è€ƒ",
        "url": "#å‚è€ƒ",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Vtune Usage",
      "datePublished": "2022-11-21T00:00:00.000Z",
      "dateModified": "2022-11-21T00:00:00.000Z",
      "description": "Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instruct",
      "url": "https://zhangjian94cn.github.io/blog/vtune-intro"
    }
  },
  {
    "title": "How to Encrypt Your Website (private)",
    "date": "2022-12-19T00:00:00.000Z",
    "tags": [
      "WEB"
    ],
    "draft": false,
    "summary": "How to Encrypt Your Website (private)",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\nç®€è¦ä»‹ç»å¯¹é™æ€ç½‘ç«™ç‹¬ç«‹ç½‘é¡µåŠ å¯†çš„æ–¹æ³•\n",
      "code": "var Component=(()=>{var f=Object.create;var r=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var l=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),h=(t,e)=>{for(var n in e)r(t,n,{get:e[n],enumerable:!0})},c=(t,e,n,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of x(e))!_.call(t,o)&&o!==n&&r(t,o,{get:()=>e[o],enumerable:!(s=d(e,o))||s.enumerable});return t};var j=(t,e,n)=>(n=t!=null?f(l(t)):{},c(e||!t||!t.__esModule?r(n,\"default\",{value:t,enumerable:!0}):n,t)),w=t=>c(r({},\"__esModule\",{value:!0}),t);var i=y((b,u)=>{u.exports=_jsx_runtime});var M={};h(M,{default:()=>m,frontmatter:()=>E});var a=j(i()),E={title:\"How to Encrypt Your Website (private)\",date:\"2022-12-19\",tags:[\"WEB\"],draft:!1,summary:\"How to Encrypt Your Website (private)\",authors:[\"default\"]};function p(t){let e={p:\"p\",...t.components};return(0,a.jsx)(e.p,{children:\"\\u7B80\\u8981\\u4ECB\\u7ECD\\u5BF9\\u9759\\u6001\\u7F51\\u7AD9\\u72EC\\u7ACB\\u7F51\\u9875\\u52A0\\u5BC6\\u7684\\u65B9\\u6CD5\"})}function m(t={}){let{wrapper:e}=t.components||{};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(p,{...t})}):p(t)}return w(M);})();\n;return Component;"
    },
    "_id": "blog/jekyll-staticrypt-protected-post.md",
    "_raw": {
      "sourceFilePath": "blog/jekyll-staticrypt-protected-post.md",
      "sourceFileName": "jekyll-staticrypt-protected-post.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/jekyll-staticrypt-protected-post"
    },
    "type": "Blog",
    "readingTime": {
      "text": "1 min read",
      "minutes": 0.09,
      "time": 5400,
      "words": 18
    },
    "slug": "jekyll-staticrypt-protected-post",
    "path": "blog/jekyll-staticrypt-protected-post",
    "toc": [],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "How to Encrypt Your Website (private)",
      "datePublished": "2022-12-19T00:00:00.000Z",
      "dateModified": "2022-12-19T00:00:00.000Z",
      "description": "How to Encrypt Your Website (private)",
      "url": "https://zhangjian94cn.github.io/blog/jekyll-staticrypt-protected-post"
    }
  },
  {
    "title": "Deep Learning Basis",
    "date": "2023-11-12T00:00:00.000Z",
    "tags": [],
    "draft": false,
    "summary": "Deep Learning Basis",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "",
      "code": "var Component=(()=>{var x=Object.create;var s=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var l=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty;var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),D=(t,e)=>{for(var n in e)s(t,n,{get:e[n],enumerable:!0})},i=(t,e,n,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of g(e))!p.call(t,a)&&a!==n&&s(t,a,{get:()=>e[a],enumerable:!(o=d(e,a))||o.enumerable});return t};var j=(t,e,n)=>(n=t!=null?x(l(t)):{},i(e||!t||!t.__esModule?s(n,\"default\",{value:t,enumerable:!0}):n,t)),L=t=>i(s({},\"__esModule\",{value:!0}),t);var m=_((B,u)=>{u.exports=_jsx_runtime});var h={};D(h,{default:()=>c,frontmatter:()=>M});var r=j(m()),M={title:\"Deep Learning Basis\",date:\"2023-11-12\",tags:[],draft:!1,summary:\"Deep Learning Basis\",authors:[\"default\"]};function f(t){return(0,r.jsx)(r.Fragment,{})}function c(t={}){let{wrapper:e}=t.components||{};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(f,{...t})}):f(t)}return L(h);})();\n;return Component;"
    },
    "_id": "blog/dl-basis.md",
    "_raw": {
      "sourceFilePath": "blog/dl-basis.md",
      "sourceFileName": "dl-basis.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/dl-basis"
    },
    "type": "Blog",
    "readingTime": {
      "text": "0 min read",
      "minutes": 0,
      "time": 0,
      "words": 0
    },
    "slug": "dl-basis",
    "path": "blog/dl-basis",
    "toc": [],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Deep Learning Basis",
      "datePublished": "2023-11-12T00:00:00.000Z",
      "dateModified": "2023-11-12T00:00:00.000Z",
      "description": "Deep Learning Basis",
      "url": "https://zhangjian94cn.github.io/blog/dl-basis"
    }
  },
  {
    "title": "Learn Makefiles (2)",
    "date": "2022-12-13T00:00:00.000Z",
    "tags": [
      "Compilation",
      "Make"
    ],
    "draft": false,
    "summary": "Getting Advanced: Targets, Automatic Variables and Wildcards, Fancy Rules",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\næœ¬æ–‡æ˜¯å¯¹[Makefile Cookbook](https://makefiletutorial.com/#makefile-cookbook)çš„ç®€è¦ç¿»è¯‘\n\n## Targets\n\n### The `all` target\n\nå¦‚æœæƒ³è¦åŒæ—¶è¿è¡Œæ‰€æœ‰çš„`target`ï¼Œå¯ä»¥ä½¿ç”¨`all` targetã€‚ä¹‹æ‰€ä»¥å¯ä»¥è¿™æ ·ï¼ŒåŸå› æ˜¯ï¼šå¦‚æœä¸æŒ‡å®štargetï¼Œmakeæ€»æ˜¯è¿è¡Œç¬¬ä¸€æ¡ruleã€‚\n\n```makefile\nall: one two three\n\none:\n\ttouch one\ntwo:\n\ttouch two\nthree:\n\ttouch three\n\nclean:\n\trm -f one two three\n```\n\n### Multiple targets\n\nå½“å¤šä¸ªtargetså¯¹åº”åŒä¸€ä¸ªruleæ—¶ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªtargetéƒ½ä¼šæ‰§è¡Œæ­¤ruleçš„commandsï¼ˆå‚è€ƒä¸‹é¢çš„ä¾‹å­ï¼‰ã€‚å…¶ä¸­ï¼Œ`$@`æ˜¯[automatic variable](https://makefiletutorial.com/#automatic-variables)ï¼Œå…¶åŒ…å«äº†target nameã€‚\n\n```makefile\nall: f1.o f2.o\n\nf1.o f2.o:\n\techo $@\n# Equivalent to:\n# f1.o:\n#\t echo f1.o\n# f2.o:\n#\t echo f2.o\n```\n\n## Automatic Variables and Wildcards\n\n`*`å’Œ`%`åœ¨makeä¸­è¢«ç§°ä¸ºwildcardsï¼ˆé€šé…ç¬¦ï¼‰ã€‚\n\n### é€šé…ç¬¦ `*`\n\n`*`å«ä¹‰åŸºæœ¬å’Œæ­£åˆ™è¡¨è¾¾å¼ä¸€è‡´ã€‚åœ¨ä½¿ç”¨`*`çš„åŒæ—¶ï¼Œæœ€å¥½ä¹Ÿä½¿ç”¨`wildcard `functionï¼Œè¦ä¸ç„¶å¯èƒ½ä¼šå‡ºç°ä¸€äº›é—®é¢˜ã€‚\n\n```makefile\n# Print out file information about every .c file\nprint: $(wildcard *.c)\n\tls -la  $?\n```\n\n- `*`å¯ä»¥åœ¨targetï¼Œprerequisitesï¼Œ`wildcard` functionä¸­ä½¿ç”¨\n- æ³¨æ„ï¼š`*`ä¸å¯ä»¥ç›´æ¥ç”¨äºå˜é‡çš„å®šä¹‰\n- æ³¨æ„ï¼šå¦‚æœ`*`æ²¡æœ‰å’Œä»»ä½•æ–‡ä»¶åŒ¹é…ï¼Œé‚£ä¹ˆå°±ä¼šç›´æ¥å˜æˆå­—ç¬¦`*`ï¼ˆé™¤éä½ ä½¿ç”¨`wildcard` functionï¼‰\n\n\n```makefile\nthing_wrong := *.o # Don't do this! '*' will not get expanded\nthing_right := $(wildcard *.o)\n\nall: one two three four\n\n# Fails, because $(thing_wrong) is the string \"*.o\"\none: $(thing_wrong)\n\n# Stays as *.o if there are no files that match this pattern :(\ntwo: *.o \n\n# Works as you would expect! In this case, it does nothing.\nthree: $(thing_right)\n\n# Same as rule three\nfour: $(wildcard *.o)\n```\n\n### é€šé…ç¬¦ `%`\n\n`%`æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒçš„ç”¨æ³•ä¼šè®©äººæ„Ÿåˆ°å›°æƒ‘ã€‚\n\n- åŒ¹é…æ¨¡å¼ï¼š`%`ä¼šåŒ¹é…å­—ç¬¦ä¸²ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚This match is called the stem.\n- æ›¿æ¢æ¨¡å¼ï¼šå°†åŒ¹é…ä¸Šçš„stemè¿›è¡Œæ›¿æ¢ã€‚\n- `%`é€šå¸¸è¢«ä½¿ç”¨åœ¨`rule definitions`ä¸­ï¼Œæ­¤å¤–è¿˜ä¼šè¢«ç”¨äºä¸€äº›å‡½æ•°ã€‚\n\nä¸‹é¢å‡ èŠ‚è®²äº†ä¸€äº›æ›¿æ¢çš„ä¾‹å­ï¼š\n\n- Static Pattern Rules\n- Pattern Rules\n- String Substitution\n- The vpath Directive\n\n### è‡ªåŠ¨å˜é‡ï¼ˆAutomatic Variablesï¼‰\n\n[automatic variables](https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html)æœ‰å¾ˆå¤šï¼Œä¸‹é¢å‡ ä¸ªæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ï¼š\n\n```makefile\nhey: one two\n\t# Outputs \"hey\", since this is the target name\n\techo $@\n\n\t# Outputs all prerequisites newer than the target\n\techo $?\n\n\t# Outputs all prerequisites\n\techo $^\n\n\ttouch hey\n\none:\n\ttouch one\n\ntwo:\n\ttouch two\n\nclean:\n\trm -f hey one two\n```\n\n## Fancy Rules\n\n### Implicit Rules\n\nä¸‹é¢çš„å‡ ä¸ªå‘½ä»¤éƒ½æ˜¯makeä¸­çš„éšå¼å‘½ä»¤ï¼š\n- Cç¨‹åºçš„ç¼–è¯‘ï¼šblah.oè‡ªåŠ¨ç”±blah.cç¼–è¯‘å¾—åˆ°ï¼Œå…¶å‘½ä»¤å¦‚ä¸‹ï¼š`$(CC) -c $(CPPFLAGS) $(CFLAGS) $^ -o $@`\n- C++ç¨‹åºçš„ç¼–è¯‘ï¼šblah.oè‡ªåŠ¨ç”±blah.cc/blah.cppç¼–è¯‘å¾—åˆ°ï¼Œå…¶å‘½ä»¤å¦‚ä¸‹ï¼š`$(CXX) -c $(CPPFLAGS) $(CXXFLAGS) $^ -o $@`\n- ç›®æ ‡æ–‡ä»¶çš„é“¾æ¥ï¼šå¯æ‰§è¡Œæ–‡ä»¶blahè‡ªåŠ¨ç”±blah.oç”Ÿæˆï¼Œå…¶å‘½ä»¤å¦‚ä¸‹`$(CC) $(LDFLAGS) $^ $(LOADLIBES) $(LDLIBS) -o $@`\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç¼–è¯‘Cç¨‹åºçš„ä¾‹å­ï¼Œä»”ç»†è§‚å¯Ÿå…¶Implicit Rulesçš„ä½¿ç”¨ã€‚\n```makefile\nCC = gcc # Flag for implicit rules\nCFLAGS = -g # Flag for implicit rules. Turn on debug info\n\n# Implicit rule #1: blah is built via the C linker implicit rule\n# Implicit rule #2: blah.o is built via the C compilation implicit rule, because blah.c exists\nblah: blah.o\n\nblah.c:\n\techo \"int main() { return 0; }\" > blah.c\n\nclean:\n\trm -f blah*\n```\n\nå…¶ä¸­ï¼Œæœ‰ä¸€äº›æ¯”è¾ƒé‡è¦çš„å˜é‡ï¼š\n\n- CC: Program for compiling C programs; default cc\n- CXX: Program for compiling C++ programs; default g++\n- CFLAGS: Extra flags to give to the C compiler\n- CXXFLAGS: Extra flags to give to the C++ compiler\n- CPPFLAGS: Extra flags to give to the C preprocessor\n- LDFLAGS: Extra flags to give to compilers when they are supposed to invoke the linker\n\n### Static Pattern Rules\n\nå½¢å¼å¦‚ä¸‹ï¼š\n```makefile\ntargets...: target-pattern: prereq-patterns ...\n   commands\n```\n\né€šè¿‡target-patternï¼ˆä½¿ç”¨é€šé…ç¬¦`%`ï¼‰æ¥åŒ¹é…targetï¼Œç¬¦åˆçš„targetä¼šå¯¹åº”äºprereq-patterns\n\næ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥æ¯”è¾ƒä¸‹æ˜¯å¦ä½¿ç”¨Static Pattern Rulesçš„åŒºåˆ«ï¼š\n\n```makefile\n# æœªä½¿ç”¨çš„\nobjects = foo.o bar.o all.o\nall: $(objects)\n\n# These files compile via implicit rules\nfoo.o: foo.c\nbar.o: bar.c\nall.o: all.c\n\nall.c:\n\techo \"int main() { return 0; }\" > all.c\n\n%.c:\n\ttouch $@\n\nclean:\n\trm -f *.c *.o all\n```\n\n\n```makefile\n# ä½¿ç”¨äº†static pattern ruleçš„ï¼ŒMakefileä¼šæ›´åŠ ç®€æ´\nobjects = foo.o bar.o all.o\nall: $(objects)\n\n# These files compile via implicit rules\n# Syntax - targets ...: target-pattern: prereq-patterns ...\n# In the case of the first target, foo.o, the target-pattern matches foo.o and sets the \"stem\" to be \"foo\".\n# It then replaces the '%' in prereq-patterns with that stem\n$(objects): %.o: %.c\n\nall.c:\n\techo \"int main() { return 0; }\" > all.c\n\n%.c:\n\ttouch $@\n\nclean:\n\trm -f *.c *.o all\n```\n\n### Static Pattern Rules and Filter\n\nï¼ˆtarget-patternä¸æ˜¯å·²ç»èµ·åˆ°filterä½œç”¨å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜éœ€è¦filter functionï¼Ÿï¼‰\n\n```makefile\nobj_files = foo.result bar.o lose.o\nsrc_files = foo.raw bar.c lose.c\n\nall: $(obj_files)\n# Note: PHONY is important here. Without it, implicit rules will try to build the executable \"all\", since the prereqs are \".o\" files.\n.PHONY: all \n\n# Ex 1: .o files depend on .c files. Though we don't actually make the .o file.\n$(filter %.o,$(obj_files)): %.o: %.c\n\techo \"target: $@ prereq: $<\"\n\n# Ex 2: .result files depend on .raw files. Though we don't actually make the .result file.\n$(filter %.result,$(obj_files)): %.result: %.raw\n\techo \"target: $@ prereq: $<\" \n\n%.c %.raw:\n\ttouch $@\n\nclean:\n\trm -f $(src_files)\n```\n\n\n\n### Pattern Rules\n\nPattern rulesä¸€èˆ¬ä¼šåœ¨ä¸‹é¢ä¸¤ç§æƒ…å†µä¸‹å‡ºç°ï¼š\n1. å®šä¹‰è‡ªå·±çš„implicit rules\n2. å½¢å¼æ›´ç®€å•çš„static pattern rules\n\nä¸‹é¢æ˜¯ä¸¤ä¸ªç®€å•çš„ä¾‹å­ï¼š\n```makefile\n# Define a pattern rule that compiles every .c file into a .o file\n%.o : %.c\n\t\t$(CC) -c $(CFLAGS) $(CPPFLAGS) $< -o $@\n```\n\n```makefile\n# Define a pattern rule that has no pattern in the prerequisites.\n# This just creates empty .c files when needed.\n%.c:\n   touch $@\n```\n\n### Double-Colon Rules\n\nåŒå†’å·è§„åˆ™å¾ˆå°‘è¢«ä½¿ç”¨ï¼Œå®ƒå¯ä»¥å…è®¸å¯¹ä¸€ä¸ªtargetå®šä¹‰å¤šä¸ªruleã€‚è€Œå¦‚æœä½ ç›´æ¥å¯¹ä¸€ä¸ªtargetä½¿ç”¨å•å¼•å·å®šä¹‰å¤šä¸ªè§„åˆ™ï¼Œé‚£ä¹ˆä¼šå‡ºç°è­¦å‘Šï¼ˆand only the second set of commands would run.ï¼‰ã€‚\n\n```makefile\nall: blah\n\nblah::\n\techo \"hello\"\n\nblah::\n\techo \"hello again\"\n```\n\n",
      "code": "var Component=(()=>{var m=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var l in e)c(a,l,{get:e[l],enumerable:!0})},t=(a,e,l,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of N(e))!k.call(a,s)&&s!==l&&c(a,s,{get:()=>e[s],enumerable:!(i=p(e,s))||i.enumerable});return a};var f=(a,e,l)=>(l=a!=null?m(u(a)):{},t(e||!a||!a.__esModule?c(l,\"default\",{value:a,enumerable:!0}):l,a)),y=a=>t(c({},\"__esModule\",{value:!0}),a);var o=g((C,r)=>{r.exports=_jsx_runtime});var $={};b($,{default:()=>h,frontmatter:()=>v});var n=f(o()),v={title:\"Learn Makefiles (2)\",date:\"2022-12-13\",tags:[\"Compilation\",\"Make\"],draft:!1,summary:\"Getting Advanced: Targets, Automatic Variables and Wildcards, Fancy Rules\",authors:[\"default\"]};function d(a){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u662F\\u5BF9\",(0,n.jsx)(e.a,{href:\"https://makefiletutorial.com/#makefile-cookbook\",children:\"Makefile Cookbook\"}),\"\\u7684\\u7B80\\u8981\\u7FFB\\u8BD1\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"targets\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#targets\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Targets\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"the-all-target\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-all-target\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"The \",(0,n.jsx)(e.code,{children:\"all\"}),\" target\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u60F3\\u8981\\u540C\\u65F6\\u8FD0\\u884C\\u6240\\u6709\\u7684\",(0,n.jsx)(e.code,{children:\"target\"}),\"\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"all\"}),\" target\\u3002\\u4E4B\\u6240\\u4EE5\\u53EF\\u4EE5\\u8FD9\\u6837\\uFF0C\\u539F\\u56E0\\u662F\\uFF1A\\u5982\\u679C\\u4E0D\\u6307\\u5B9Atarget\\uFF0Cmake\\u603B\\u662F\\u8FD0\\u884C\\u7B2C\\u4E00\\u6761rule\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` one two three\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"one\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch one\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"two\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch two\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"three\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch three\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f one two three\n`})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"multiple-targets\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#multiple-targets\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Multiple targets\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u591A\\u4E2Atargets\\u5BF9\\u5E94\\u540C\\u4E00\\u4E2Arule\\u65F6\\uFF0C\\u90A3\\u4E48\\u6BCF\\u4E00\\u4E2Atarget\\u90FD\\u4F1A\\u6267\\u884C\\u6B64rule\\u7684commands\\uFF08\\u53C2\\u8003\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\uFF09\\u3002\\u5176\\u4E2D\\uFF0C\",(0,n.jsx)(e.code,{children:\"$@\"}),\"\\u662F\",(0,n.jsx)(e.a,{href:\"https://makefiletutorial.com/#automatic-variables\",children:\"automatic variable\"}),\"\\uFF0C\\u5176\\u5305\\u542B\\u4E86target name\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` f1.o f2.o\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"f1.o f2.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Equivalent to:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# f1.o:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#\t echo f1.o\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# f2.o:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#\t echo f2.o\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"automatic-variables-and-wildcards\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#automatic-variables-and-wildcards\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Automatic Variables and Wildcards\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"*\"}),\"\\u548C\",(0,n.jsx)(e.code,{children:\"%\"}),\"\\u5728make\\u4E2D\\u88AB\\u79F0\\u4E3Awildcards\\uFF08\\u901A\\u914D\\u7B26\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u901A\\u914D\\u7B26-\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u901A\\u914D\\u7B26-\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u901A\\u914D\\u7B26 \",(0,n.jsx)(e.code,{children:\"*\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"*\"}),\"\\u542B\\u4E49\\u57FA\\u672C\\u548C\\u6B63\\u5219\\u8868\\u8FBE\\u5F0F\\u4E00\\u81F4\\u3002\\u5728\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"*\"}),\"\\u7684\\u540C\\u65F6\\uFF0C\\u6700\\u597D\\u4E5F\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"wildcard \"}),\"function\\uFF0C\\u8981\\u4E0D\\u7136\\u53EF\\u80FD\\u4F1A\\u51FA\\u73B0\\u4E00\\u4E9B\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Print out file information about every .c file\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"wildcard\"}),\" *.c\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\tls -la  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$?\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"*\"}),\"\\u53EF\\u4EE5\\u5728target\\uFF0Cprerequisites\\uFF0C\",(0,n.jsx)(e.code,{children:\"wildcard\"}),\" function\\u4E2D\\u4F7F\\u7528\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6CE8\\u610F\\uFF1A\",(0,n.jsx)(e.code,{children:\"*\"}),\"\\u4E0D\\u53EF\\u4EE5\\u76F4\\u63A5\\u7528\\u4E8E\\u53D8\\u91CF\\u7684\\u5B9A\\u4E49\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6CE8\\u610F\\uFF1A\\u5982\\u679C\",(0,n.jsx)(e.code,{children:\"*\"}),\"\\u6CA1\\u6709\\u548C\\u4EFB\\u4F55\\u6587\\u4EF6\\u5339\\u914D\\uFF0C\\u90A3\\u4E48\\u5C31\\u4F1A\\u76F4\\u63A5\\u53D8\\u6210\\u5B57\\u7B26\",(0,n.jsx)(e.code,{children:\"*\"}),\"\\uFF08\\u9664\\u975E\\u4F60\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"wildcard\"}),\" function\\uFF09\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"thing_wrong \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" *.o \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Don't do this! '*' will not get expanded\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"thing_right \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"wildcard\"}),\" *.o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` one two three four\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'# Fails, because $(thing_wrong) is the string \"*.o\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"one\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"thing_wrong\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Stays as *.o if there are no files that match this pattern :(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"two\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` *.o \n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Works as you would expect! In this case, it does nothing.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"three\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"thing_right\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Same as rule three\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"four\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"wildcard\"}),\" *.o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u901A\\u914D\\u7B26--1\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u901A\\u914D\\u7B26--1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u901A\\u914D\\u7B26 \",(0,n.jsx)(e.code,{children:\"%\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"%\"}),\"\\u662F\\u975E\\u5E38\\u6709\\u7528\\u7684\\uFF0C\\u4F46\\u662F\\u5728\\u67D0\\u4E9B\\u60C5\\u51B5\\u4E0B\\uFF0C\\u5B83\\u7684\\u7528\\u6CD5\\u4F1A\\u8BA9\\u4EBA\\u611F\\u5230\\u56F0\\u60D1\\u3002\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5339\\u914D\\u6A21\\u5F0F\\uFF1A\",(0,n.jsx)(e.code,{children:\"%\"}),\"\\u4F1A\\u5339\\u914D\\u5B57\\u7B26\\u4E32\\u4E2D\\u4E00\\u4E2A\\u6216\\u591A\\u4E2A\\u5B57\\u7B26\\u3002This match is called the stem.\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u66FF\\u6362\\u6A21\\u5F0F\\uFF1A\\u5C06\\u5339\\u914D\\u4E0A\\u7684stem\\u8FDB\\u884C\\u66FF\\u6362\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"%\"}),\"\\u901A\\u5E38\\u88AB\\u4F7F\\u7528\\u5728\",(0,n.jsx)(e.code,{children:\"rule definitions\"}),\"\\u4E2D\\uFF0C\\u6B64\\u5916\\u8FD8\\u4F1A\\u88AB\\u7528\\u4E8E\\u4E00\\u4E9B\\u51FD\\u6570\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u51E0\\u8282\\u8BB2\\u4E86\\u4E00\\u4E9B\\u66FF\\u6362\\u7684\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Static Pattern Rules\"}),`\n`,(0,n.jsx)(e.li,{children:\"Pattern Rules\"}),`\n`,(0,n.jsx)(e.li,{children:\"String Substitution\"}),`\n`,(0,n.jsx)(e.li,{children:\"The vpath Directive\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u81EA\\u52A8\\u53D8\\u91CFautomatic-variables\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u81EA\\u52A8\\u53D8\\u91CFautomatic-variables\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u81EA\\u52A8\\u53D8\\u91CF\\uFF08Automatic Variables\\uFF09\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html\",children:\"automatic variables\"}),\"\\u6709\\u5F88\\u591A\\uFF0C\\u4E0B\\u9762\\u51E0\\u4E2A\\u662F\\u6BD4\\u8F83\\u5E38\\u7528\\u7684\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"hey\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` one two\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:'# Outputs \"hey\", since this is the target name'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Outputs all prerequisites newer than the target\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$?\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Outputs all prerequisites\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$^\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch hey\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"one\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch one\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"two\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch two\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f hey one two\n`})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"fancy-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#fancy-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Fancy Rules\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"implicit-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#implicit-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Implicit Rules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u7684\\u51E0\\u4E2A\\u547D\\u4EE4\\u90FD\\u662Fmake\\u4E2D\\u7684\\u9690\\u5F0F\\u547D\\u4EE4\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"C\\u7A0B\\u5E8F\\u7684\\u7F16\\u8BD1\\uFF1Ablah.o\\u81EA\\u52A8\\u7531blah.c\\u7F16\\u8BD1\\u5F97\\u5230\\uFF0C\\u5176\\u547D\\u4EE4\\u5982\\u4E0B\\uFF1A\",(0,n.jsx)(e.code,{children:\"$(CC) -c $(CPPFLAGS) $(CFLAGS) $^ -o $@\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"C++\\u7A0B\\u5E8F\\u7684\\u7F16\\u8BD1\\uFF1Ablah.o\\u81EA\\u52A8\\u7531blah.cc/blah.cpp\\u7F16\\u8BD1\\u5F97\\u5230\\uFF0C\\u5176\\u547D\\u4EE4\\u5982\\u4E0B\\uFF1A\",(0,n.jsx)(e.code,{children:\"$(CXX) -c $(CPPFLAGS) $(CXXFLAGS) $^ -o $@\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u76EE\\u6807\\u6587\\u4EF6\\u7684\\u94FE\\u63A5\\uFF1A\\u53EF\\u6267\\u884C\\u6587\\u4EF6blah\\u81EA\\u52A8\\u7531blah.o\\u751F\\u6210\\uFF0C\\u5176\\u547D\\u4EE4\\u5982\\u4E0B\",(0,n.jsx)(e.code,{children:\"$(CC) $(LDFLAGS) $^ $(LOADLIBES) $(LDLIBS) -o $@\"})]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u662F\\u4E00\\u4E2A\\u7F16\\u8BD1C\\u7A0B\\u5E8F\\u7684\\u4F8B\\u5B50\\uFF0C\\u4ED4\\u7EC6\\u89C2\\u5BDF\\u5176Implicit Rules\\u7684\\u4F7F\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"CC \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gcc \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Flag for implicit rules\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"CFLAGS \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" -g \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Flag for implicit rules. Turn on debug info\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Implicit rule #1: blah is built via the C linker implicit rule\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Implicit rule #2: blah.o is built via the C compilation implicit rule, because blah.c exists\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah.o\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"int main() { return 0; }\"'}),` > blah.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f blah*\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5176\\u4E2D\\uFF0C\\u6709\\u4E00\\u4E9B\\u6BD4\\u8F83\\u91CD\\u8981\\u7684\\u53D8\\u91CF\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"CC: Program for compiling C programs; default cc\"}),`\n`,(0,n.jsx)(e.li,{children:\"CXX: Program for compiling C++ programs; default g++\"}),`\n`,(0,n.jsx)(e.li,{children:\"CFLAGS: Extra flags to give to the C compiler\"}),`\n`,(0,n.jsx)(e.li,{children:\"CXXFLAGS: Extra flags to give to the C++ compiler\"}),`\n`,(0,n.jsx)(e.li,{children:\"CPPFLAGS: Extra flags to give to the C preprocessor\"}),`\n`,(0,n.jsx)(e.li,{children:\"LDFLAGS: Extra flags to give to compilers when they are supposed to invoke the linker\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"static-pattern-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#static-pattern-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Static Pattern Rules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F62\\u5F0F\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"targets...\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" target-pattern\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` prereq-patterns ...\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   commands\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7target-pattern\\uFF08\\u4F7F\\u7528\\u901A\\u914D\\u7B26\",(0,n.jsx)(e.code,{children:\"%\"}),\"\\uFF09\\u6765\\u5339\\u914Dtarget\\uFF0C\\u7B26\\u5408\\u7684target\\u4F1A\\u5BF9\\u5E94\\u4E8Eprereq-patterns\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u8BA9\\u6211\\u4EEC\\u901A\\u8FC7\\u4E00\\u4E2A\\u4F8B\\u5B50\\u6765\\u6BD4\\u8F83\\u4E0B\\u662F\\u5426\\u4F7F\\u7528Static Pattern Rules\\u7684\\u533A\\u522B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u672A\\u4F7F\\u7528\\u7684\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"objects \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` foo.o bar.o all.o\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"objects\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# These files compile via implicit rules\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"foo.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` foo.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"bar.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` bar.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` all.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"int main() { return 0; }\"'}),` > all.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\ttouch \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f *.c *.o all\n`})]})}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u4F7F\\u7528\\u4E86static pattern rule\\u7684\\uFF0CMakefile\\u4F1A\\u66F4\\u52A0\\u7B80\\u6D01\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"objects \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` foo.o bar.o all.o\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"objects\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# These files compile via implicit rules\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Syntax - targets ...: target-pattern: prereq-patterns ...\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'# In the case of the first target, foo.o, the target-pattern matches foo.o and sets the \"stem\" to be \"foo\".'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# It then replaces the '%' in prereq-patterns with that stem\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token target symbol\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(objects)\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" %.o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` %.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"int main() { return 0; }\"'}),` > all.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\ttouch \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f *.c *.o all\n`})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"static-pattern-rules-and-filter\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#static-pattern-rules-and-filter\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Static Pattern Rules and Filter\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\uFF08target-pattern\\u4E0D\\u662F\\u5DF2\\u7ECF\\u8D77\\u5230filter\\u4F5C\\u7528\\u5417\\uFF1F\\u4E3A\\u4EC0\\u4E48\\u8FD8\\u9700\\u8981filter function\\uFF1F\\uFF09\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"obj_files \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` foo.result bar.o lose.o\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"src_files \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` foo.raw bar.c lose.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"obj_files\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'# Note: PHONY is important here. Without it, implicit rules will try to build the executable \"all\", since the prereqs are \".o\" files.'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin-target builtin\",children:\".PHONY\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` all \n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Ex 1: .o files depend on .c files. Though we don't actually make the .o file.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token target symbol\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(filter %.o,\",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(obj_files))\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" %.o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` %.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"target: $@ prereq: $<\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Ex 2: .result files depend on .raw files. Though we don't actually make the .result file.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token target symbol\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(filter %.result,\",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(obj_files))\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" %.result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` %.raw\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"target: $@ prereq: $<\"'}),` \n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.c %.raw\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\ttouch \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\trm -f \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"src_files\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"pattern-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#pattern-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Pattern Rules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Pattern rules\\u4E00\\u822C\\u4F1A\\u5728\\u4E0B\\u9762\\u4E24\\u79CD\\u60C5\\u51B5\\u4E0B\\u51FA\\u73B0\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5B9A\\u4E49\\u81EA\\u5DF1\\u7684implicit rules\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5F62\\u5F0F\\u66F4\\u7B80\\u5355\\u7684static pattern rules\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u662F\\u4E24\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Define a pattern rule that compiles every .c file into a .o file\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.o\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` %.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"CC\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" -c \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"CFLAGS\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"CPPFLAGS\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$<\"}),\" -o \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Define a pattern rule that has no pattern in the prerequisites.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# This just creates empty .c files when needed.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"   touch \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"double-colon-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#double-colon-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Double-Colon Rules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u53CC\\u5192\\u53F7\\u89C4\\u5219\\u5F88\\u5C11\\u88AB\\u4F7F\\u7528\\uFF0C\\u5B83\\u53EF\\u4EE5\\u5141\\u8BB8\\u5BF9\\u4E00\\u4E2Atarget\\u5B9A\\u4E49\\u591A\\u4E2Arule\\u3002\\u800C\\u5982\\u679C\\u4F60\\u76F4\\u63A5\\u5BF9\\u4E00\\u4E2Atarget\\u4F7F\\u7528\\u5355\\u5F15\\u53F7\\u5B9A\\u4E49\\u591A\\u4E2A\\u89C4\\u5219\\uFF0C\\u90A3\\u4E48\\u4F1A\\u51FA\\u73B0\\u8B66\\u544A\\uFF08and only the second set of commands would run.\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"hello\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"hello again\"'}),`\n`]})]})})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return y($);})();\n;return Component;"
    },
    "_id": "blog/makefile-advance.md",
    "_raw": {
      "sourceFilePath": "blog/makefile-advance.md",
      "sourceFileName": "makefile-advance.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/makefile-advance"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.49,
      "time": 389400,
      "words": 1298
    },
    "slug": "makefile-advance",
    "path": "blog/makefile-advance",
    "toc": [
      {
        "value": "Targets",
        "url": "#targets",
        "depth": 2
      },
      {
        "value": "The all target",
        "url": "#the-all-target",
        "depth": 3
      },
      {
        "value": "Multiple targets",
        "url": "#multiple-targets",
        "depth": 3
      },
      {
        "value": "Automatic Variables and Wildcards",
        "url": "#automatic-variables-and-wildcards",
        "depth": 2
      },
      {
        "value": "é€šé…ç¬¦ *",
        "url": "#é€šé…ç¬¦-",
        "depth": 3
      },
      {
        "value": "é€šé…ç¬¦ %",
        "url": "#é€šé…ç¬¦--1",
        "depth": 3
      },
      {
        "value": "è‡ªåŠ¨å˜é‡ï¼ˆAutomatic Variablesï¼‰",
        "url": "#è‡ªåŠ¨å˜é‡automatic-variables",
        "depth": 3
      },
      {
        "value": "Fancy Rules",
        "url": "#fancy-rules",
        "depth": 2
      },
      {
        "value": "Implicit Rules",
        "url": "#implicit-rules",
        "depth": 3
      },
      {
        "value": "Static Pattern Rules",
        "url": "#static-pattern-rules",
        "depth": 3
      },
      {
        "value": "Static Pattern Rules and Filter",
        "url": "#static-pattern-rules-and-filter",
        "depth": 3
      },
      {
        "value": "Pattern Rules",
        "url": "#pattern-rules",
        "depth": 3
      },
      {
        "value": "Double-Colon Rules",
        "url": "#double-colon-rules",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Learn Makefiles (2)",
      "datePublished": "2022-12-13T00:00:00.000Z",
      "dateModified": "2022-12-13T00:00:00.000Z",
      "description": "Getting Advanced: Targets, Automatic Variables and Wildcards, Fancy Rules",
      "url": "https://zhangjian94cn.github.io/blog/makefile-advance"
    }
  },
  {
    "title": "TBB Sample 01",
    "date": "2022-11-29T00:00:00.000Z",
    "tags": [
      "HPC",
      "TBB"
    ],
    "draft": false,
    "summary": "Count Strings",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## ç®€ä»‹\n\nThe example counts the number of unique words in a text. [code](https://github.com/oneapi-src/oneTBB/tree/master/examples/concurrent_hash_map/count_strings)\n\n\n## ç»†èŠ‚\n\n\n### é‡è½½hash\n\n```cpp\nnamespace std {\n\ntemplate <typename CharT, typename Traits, typename Allocator>\nclass hash<std::basic_string<CharT, Traits, Allocator>> {\npublic:\n    std::size_t operator()(const std::basic_string<CharT, Traits, Allocator>& s) const {\n        std::size_t h = 0;\n        for (const CharT* c = s.c_str(); *c; ++c) {\n            h = h * hash_multiplier ^ char_hash(*c);\n        }\n        return h;\n    }\n\nprivate:\n    static constexpr std::size_t hash_multiplier = (std::size_t)(\n        (sizeof(std::size_t) == sizeof(unsigned)) ? 2654435769U : 11400714819323198485ULL);\n\n    std::hash<CharT> char_hash;\n}; // strunt hash<std::basic_string>\n\n} // namespace std\n```\n\næ³¨æ„ç‚¹ï¼š\n\n1. è®¡ç®—è‡ªå®šä¹‰ç±»å‹çš„hash value\n  1. `std::hash<CharT> char_hash`ï¼šå…¶æä¾›äº†`CharT`ç±»å‹çš„hashå€¼\n  2. `std::size_t operator()`ï¼šé€šè¿‡é‡è½½è¿ç®—ç¬¦`()`ï¼Œè¿”å›è‡ªå®šä¹‰ç±»å‹çš„hash value\n2. class hashçš„å®šä¹‰\n   1. `class hash<std::basic_string<...>>`ï¼šæ¨¡æ¿ç‰¹åŒ–ä¸º`std::basic_string`ç±»å‹\n   2. `<CharT, Traits, Allocator>`ï¼šæ¨¡æ¿ç±»å‹æ¨æ–­\n\n\n### å®šä¹‰`MyString`ç±»ï¼Œ\n\n```cpp\n//! String type\ntypedef std::basic_string<char, std::char_traits<char>, oneapi::tbb::tbb_allocator<char>> MyString;\n```\n\næ³¨æ„ç‚¹ï¼š\n\n1. `char_traits`\n  > Traits æ˜¯ä¸€ä¸ªç”¨æ¥æºå¸¦ä¿¡æ¯çš„å¾ˆå°çš„å¯¹è±¡ï¼ˆæˆ–ç»“æ„ï¼‰ï¼Œ åœ¨å…¶ä»–å¯¹è±¡æˆ–ç®—æ³•ä¸­ç”¨è¿™ä¸€ä¿¡æ¯æ¥ç¡®å®šç­–ç•¥æˆ–å®ç°ç»†èŠ‚ã€‚\n\n1. `tbb_allocator`ï¼šåœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹ä½¿ç”¨ç›¸é‚»å†…å­˜æ—¶ä¼šäº§ç”Ÿé¢‘ç¹çš„ç¼“å­˜åˆ‡æ¢ï¼ˆcsappï¼‰,é€šè¿‡ä½¿ç”¨`tbb_allocator`ï¼Œå¯ä»¥é¿å…è¿™ä¸€é—®é¢˜\n   \n### å¹¶è¡ŒHash Map\n\n```cpp\n//! A concurrent hash table that maps strings to ints.\ntypedef oneapi::tbb::concurrent_hash_map<MyString, int> StringTable;\n\n//! Function object for counting occurrences of strings.\nstruct Tally {\n    StringTable& table;\n    Tally(StringTable& table_) : table(table_) {}\n    void operator()(const oneapi::tbb::blocked_range<MyString*> range) const {\n        for (MyString* p = range.begin(); p != range.end(); ++p) {\n            StringTable::accessor a;\n            table.insert(a, *p);\n            a->second += 1;\n        }\n    }\n};\n```\n\næ³¨æ„ç‚¹:\n\n1. [`concurrent_hash_map`](https://oneapi-src.github.io/oneTBB/main/tbb_userguide/concurrent_hash_map.html): ä¸€ä¸ªæ”¯æŒå¹¶è¡Œçš„hash map\n\n2. `oneapi::tbb::blocked_range<...>`: \n   1. æ¨¡æ¿å‚æ•°è®¾ç½®**è¿­ä»£ï¼ˆä¼ å…¥æ•°æ®çš„ï¼‰ç±»å‹**\n   2. `tbb::parallel_for`ä¼šè°ƒç”¨`Tally(table)`çš„`operator()`ï¼Œ`blocked_range`ä½œä¸ºå‚æ•°ä¼ å…¥\n      ```cpp\n      StringTable table;\n      oneapi::tbb::parallel_for( \n        oneapi::tbb::blocked_range<MyString*>(Data, Data + N, 1000), \n        Tally(table));\n      ```\n\n3. [`StringTable::accessor`](https://oneapi-src.github.io/oneTBB/main/tbb_userguide/concurrent_hash_map.html):\n\n    > An accessor represents update (write) access. As long as it points to an element, all other attempts to look up that key in the table block until the accessor is done. \n\n    `a->second += 1`ä»£è¡¨å¯¹valueåŠ 1\n\n## ç»“è¯­\n\nè¿™ä»½ä»£ç æ ·ä¾‹å±•ç¤ºäº†åŸºäºtbbçš„å¹¶è¡Œhashçš„å®ç°ï¼ŒåŒ…å«äº†tbbçš„ä¸€äº›åŸºç¡€ç”¨æ³•ï¼Œå…·æœ‰ä¸€å®šå‚è€ƒä»·å€¼ã€‚\n\n\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var b=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},t=(a,n,s,o)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(o=m(n,c))||o.enumerable});return a};var y=(a,n,s)=>(s=a!=null?h(N(a)):{},t(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),_=a=>t(l({},\"__esModule\",{value:!0}),a);var r=b((x,i)=>{i.exports=_jsx_runtime});var w={};g(w,{default:()=>p,frontmatter:()=>f});var e=y(r()),f={title:\"TBB Sample 01\",date:\"2022-11-29\",tags:[\"HPC\",\"TBB\"],draft:!1,summary:\"Count Strings\",authors:[\"default\"]};function d(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"The example counts the number of unique words in a text. \",(0,e.jsx)(n.a,{href:\"https://github.com/oneapi-src/oneTBB/tree/master/examples/concurrent_hash_map/count_strings\",children:\"code\"})]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u7EC6\\u8282\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7EC6\\u8282\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7EC6\\u8282\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u91CD\\u8F7Dhash\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u91CD\\u8F7Dhash\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u91CD\\u8F7Dhash\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"namespace\"}),\" std \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"template\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typename\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"CharT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typename\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Traits\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typename\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Allocator\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"hash\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"basic_string\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"CharT\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Traits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Allocator\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"operator\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"basic_string\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"CharT\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Traits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Allocator\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t h \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" CharT\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" c \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"c_str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),\"c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            h \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" h \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" hash_multiplier \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"^\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"char_hash\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" h\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"constexpr\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t hash_multiplier \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"sizeof\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"sizeof\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"unsigned\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2654435769U\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"11400714819323198485ULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"hash\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"CharT\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" char_hash\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// strunt hash<std::basic_string>\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// namespace std\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6CE8\\u610F\\u70B9\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u8BA1\\u7B97\\u81EA\\u5B9A\\u4E49\\u7C7B\\u578B\\u7684hash value\"}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"std::hash<CharT> char_hash\"}),\"\\uFF1A\\u5176\\u63D0\\u4F9B\\u4E86\",(0,e.jsx)(n.code,{children:\"CharT\"}),\"\\u7C7B\\u578B\\u7684hash\\u503C\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"std::size_t operator()\"}),\"\\uFF1A\\u901A\\u8FC7\\u91CD\\u8F7D\\u8FD0\\u7B97\\u7B26\",(0,e.jsx)(n.code,{children:\"()\"}),\"\\uFF0C\\u8FD4\\u56DE\\u81EA\\u5B9A\\u4E49\\u7C7B\\u578B\\u7684hash value\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"class hash\\u7684\\u5B9A\\u4E49\",`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"class hash<std::basic_string<...>>\"}),\"\\uFF1A\\u6A21\\u677F\\u7279\\u5316\\u4E3A\",(0,e.jsx)(n.code,{children:\"std::basic_string\"}),\"\\u7C7B\\u578B\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"<CharT, Traits, Allocator>\"}),\"\\uFF1A\\u6A21\\u677F\\u7C7B\\u578B\\u63A8\\u65AD\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5B9A\\u4E49mystring\\u7C7B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B9A\\u4E49mystring\\u7C7B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B9A\\u4E49\",(0,e.jsx)(n.code,{children:\"MyString\"}),\"\\u7C7B\\uFF0C\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"//! String type\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typedef\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"basic_string\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"char\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"char_traits\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"char\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb_allocator\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"char\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">>\"}),\" MyString\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6CE8\\u610F\\u70B9\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.code,{children:\"char_traits\"})}),`\n`]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"Traits \\u662F\\u4E00\\u4E2A\\u7528\\u6765\\u643A\\u5E26\\u4FE1\\u606F\\u7684\\u5F88\\u5C0F\\u7684\\u5BF9\\u8C61\\uFF08\\u6216\\u7ED3\\u6784\\uFF09\\uFF0C \\u5728\\u5176\\u4ED6\\u5BF9\\u8C61\\u6216\\u7B97\\u6CD5\\u4E2D\\u7528\\u8FD9\\u4E00\\u4FE1\\u606F\\u6765\\u786E\\u5B9A\\u7B56\\u7565\\u6216\\u5B9E\\u73B0\\u7EC6\\u8282\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"tbb_allocator\"}),\"\\uFF1A\\u5728\\u591A\\u7EBF\\u7A0B\\u7684\\u73AF\\u5883\\u4E0B\\uFF0C\\u591A\\u4E2A\\u7EBF\\u7A0B\\u4F7F\\u7528\\u76F8\\u90BB\\u5185\\u5B58\\u65F6\\u4F1A\\u4EA7\\u751F\\u9891\\u7E41\\u7684\\u7F13\\u5B58\\u5207\\u6362\\uFF08csapp\\uFF09,\\u901A\\u8FC7\\u4F7F\\u7528\",(0,e.jsx)(n.code,{children:\"tbb_allocator\"}),\"\\uFF0C\\u53EF\\u4EE5\\u907F\\u514D\\u8FD9\\u4E00\\u95EE\\u9898\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5E76\\u884Chash-map\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5E76\\u884Chash-map\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5E76\\u884CHash Map\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"//! A concurrent hash table that maps strings to ints.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typedef\"}),\" oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"concurrent_hash_map\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"MyString\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" StringTable\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"//! Function object for counting occurrences of strings.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Tally\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    StringTable\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Tally\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"StringTable\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" table_\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"table\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"table_\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"operator\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"blocked_range\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"MyString\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" range\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"MyString\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" p \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" range\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"begin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" p \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" range\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"end\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),\"p\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            StringTable\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"accessor a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"insert\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"p\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            a\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),\"second \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6CE8\\u610F\\u70B9:\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://oneapi-src.github.io/oneTBB/main/tbb_userguide/concurrent_hash_map.html\",children:(0,e.jsx)(n.code,{children:\"concurrent_hash_map\"})}),\": \\u4E00\\u4E2A\\u652F\\u6301\\u5E76\\u884C\\u7684hash map\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"oneapi::tbb::blocked_range<...>\"}),\":\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"\\u6A21\\u677F\\u53C2\\u6570\\u8BBE\\u7F6E\",(0,e.jsx)(n.strong,{children:\"\\u8FED\\u4EE3\\uFF08\\u4F20\\u5165\\u6570\\u636E\\u7684\\uFF09\\u7C7B\\u578B\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"tbb::parallel_for\"}),\"\\u4F1A\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"Tally(table)\"}),\"\\u7684\",(0,e.jsx)(n.code,{children:\"operator()\"}),\"\\uFF0C\",(0,e.jsx)(n.code,{children:\"blocked_range\"}),\"\\u4F5C\\u4E3A\\u53C2\\u6570\\u4F20\\u5165\",`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"StringTable table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"parallel_for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),` \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),(0,e.jsxs)(n.span,{className:\"token generic-function\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"blocked_range\"}),(0,e.jsxs)(n.span,{className:\"token generic class-name\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"MyString\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"})]})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"Data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" N\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Tally\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://oneapi-src.github.io/oneTBB/main/tbb_userguide/concurrent_hash_map.html\",children:(0,e.jsx)(n.code,{children:\"StringTable::accessor\"})}),\":\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"An accessor represents update (write) access. As long as it points to an element, all other attempts to look up that key in the table block until the accessor is done.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"a->second += 1\"}),\"\\u4EE3\\u8868\\u5BF9value\\u52A01\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4EFD\\u4EE3\\u7801\\u6837\\u4F8B\\u5C55\\u793A\\u4E86\\u57FA\\u4E8Etbb\\u7684\\u5E76\\u884Chash\\u7684\\u5B9E\\u73B0\\uFF0C\\u5305\\u542B\\u4E86tbb\\u7684\\u4E00\\u4E9B\\u57FA\\u7840\\u7528\\u6CD5\\uFF0C\\u5177\\u6709\\u4E00\\u5B9A\\u53C2\\u8003\\u4EF7\\u503C\\u3002\"})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(d,{...a})}):d(a)}return _(w);})();\n;return Component;"
    },
    "_id": "blog/tbb-sample-count-string.md",
    "_raw": {
      "sourceFilePath": "blog/tbb-sample-count-string.md",
      "sourceFileName": "tbb-sample-count-string.md",
      "sourceFileDir": "blog",
      "contentType": "markdown",
      "flattenedPath": "blog/tbb-sample-count-string"
    },
    "type": "Blog",
    "readingTime": {
      "text": "3 min read",
      "minutes": 2.41,
      "time": 144600,
      "words": 482
    },
    "slug": "tbb-sample-count-string",
    "path": "blog/tbb-sample-count-string",
    "toc": [
      {
        "value": "ç®€ä»‹",
        "url": "#ç®€ä»‹",
        "depth": 2
      },
      {
        "value": "ç»†èŠ‚",
        "url": "#ç»†èŠ‚",
        "depth": 2
      },
      {
        "value": "é‡è½½hash",
        "url": "#é‡è½½hash",
        "depth": 3
      },
      {
        "value": "å®šä¹‰MyStringç±»ï¼Œ",
        "url": "#å®šä¹‰mystringç±»",
        "depth": 3
      },
      {
        "value": "å¹¶è¡ŒHash Map",
        "url": "#å¹¶è¡Œhash-map",
        "depth": 3
      },
      {
        "value": "ç»“è¯­",
        "url": "#ç»“è¯­",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "TBB Sample 01",
      "datePublished": "2022-11-29T00:00:00.000Z",
      "dateModified": "2022-11-29T00:00:00.000Z",
      "description": "Count Strings",
      "url": "https://zhangjian94cn.github.io/blog/tbb-sample-count-string"
    }
  }
]