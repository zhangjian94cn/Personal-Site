[
  {
    "title": "ChatGLM Serving in Intel i5 CPU Demo",
    "date": "2023-10-28T00:00:00.000Z",
    "tags": [
      "LLM",
      "Intel"
    ],
    "draft": false,
    "summary": "ChatGLM Serving in Intel i5 CPU Demo",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n部分时间开放测试\n\n[点击此链接访问 Demo](http://124.222.119.248:3000/)\n",
      "code": "var Component=(()=>{var h=Object.create;var o=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty;var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),C=(t,e)=>{for(var r in e)o(t,r,{get:e[r],enumerable:!0})},i=(t,e,r,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of f(e))!p.call(t,a)&&a!==r&&o(t,a,{get:()=>e[a],enumerable:!(s=u(e,a))||s.enumerable});return t};var M=(t,e,r)=>(r=t!=null?h(x(t)):{},i(e||!t||!t.__esModule?o(r,\"default\",{value:t,enumerable:!0}):r,t)),g=t=>i(o({},\"__esModule\",{value:!0}),t);var m=_((I,c)=>{c.exports=_jsx_runtime});var D={};C(D,{default:()=>d,frontmatter:()=>j});var n=M(m()),j={title:\"ChatGLM Serving in Intel i5 CPU Demo\",date:\"2023-10-28\",tags:[\"LLM\",\"Intel\"],draft:!1,summary:\"ChatGLM Serving in Intel i5 CPU Demo\",authors:[\"default\"]};function l(t){let e={a:\"a\",p:\"p\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"\\u90E8\\u5206\\u65F6\\u95F4\\u5F00\\u653E\\u6D4B\\u8BD5\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"http://124.222.119.248:3000/\",children:\"\\u70B9\\u51FB\\u6B64\\u94FE\\u63A5\\u8BBF\\u95EE Demo\"})})]})}function d(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(l,{...t})}):l(t)}return g(D);})();\n;return Component;"
    },
    "_id": "blog/AI/chatglm-serving.md",
    "_raw": {
      "sourceFilePath": "blog/AI/chatglm-serving.md",
      "sourceFileName": "chatglm-serving.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/chatglm-serving"
    },
    "type": "Blog",
    "readingTime": {
      "text": "1 min read",
      "minutes": 0.08,
      "time": 4800,
      "words": 16
    },
    "slug": "chatglm-serving",
    "path": "blog/AI/chatglm-serving",
    "toc": [],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "ChatGLM Serving in Intel i5 CPU Demo",
      "datePublished": "2023-10-28T00:00:00.000Z",
      "dateModified": "2023-10-28T00:00:00.000Z",
      "description": "ChatGLM Serving in Intel i5 CPU Demo",
      "url": "https://zhangjian94cn.github.io/blog/chatglm-serving"
    }
  },
  {
    "title": "Deep Learning Basis",
    "date": "2023-11-12T00:00:00.000Z",
    "tags": [
      "deep-learning"
    ],
    "draft": false,
    "summary": "Deep Learning Basis",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "",
      "code": "var Component=(()=>{var d=Object.create;var s=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var l=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty;var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),D=(t,e)=>{for(var n in e)s(t,n,{get:e[n],enumerable:!0})},i=(t,e,n,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of g(e))!p.call(t,a)&&a!==n&&s(t,a,{get:()=>e[a],enumerable:!(o=x(e,a))||o.enumerable});return t};var j=(t,e,n)=>(n=t!=null?d(l(t)):{},i(e||!t||!t.__esModule?s(n,\"default\",{value:t,enumerable:!0}):n,t)),L=t=>i(s({},\"__esModule\",{value:!0}),t);var m=_((B,u)=>{u.exports=_jsx_runtime});var h={};D(h,{default:()=>c,frontmatter:()=>M});var r=j(m()),M={title:\"Deep Learning Basis\",date:\"2023-11-12\",tags:[\"deep-learning\"],draft:!1,summary:\"Deep Learning Basis\",authors:[\"default\"]};function f(t){return(0,r.jsx)(r.Fragment,{})}function c(t={}){let{wrapper:e}=t.components||{};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(f,{...t})}):f(t)}return L(h);})();\n;return Component;"
    },
    "_id": "blog/AI/dl-basis.md",
    "_raw": {
      "sourceFilePath": "blog/AI/dl-basis.md",
      "sourceFileName": "dl-basis.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/dl-basis"
    },
    "type": "Blog",
    "readingTime": {
      "text": "0 min read",
      "minutes": 0,
      "time": 0,
      "words": 0
    },
    "slug": "dl-basis",
    "path": "blog/AI/dl-basis",
    "toc": [],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Deep Learning Basis",
      "datePublished": "2023-11-12T00:00:00.000Z",
      "dateModified": "2023-11-12T00:00:00.000Z",
      "description": "Deep Learning Basis",
      "url": "https://zhangjian94cn.github.io/blog/dl-basis"
    }
  },
  {
    "title": "Let's build GPT: from scratch, in code, spelled out (1)",
    "date": "2023-01-20T00:00:00.000Z",
    "tags": [
      "LLM",
      "deep-learning"
    ],
    "draft": false,
    "summary": "a shocking turn of events a leaf has fallen from a treat in the local park Witnesses report that the leaf which was previously attached to a branch of",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n最近Karpathy写的这篇关于gpt的教程通俗易懂，引起了非常大的反响。这里，我参考了这篇教程进行了简单翻译、总结。\n\n## 简介\n\n### ChatGPT, Transformers, nanoGPT, Shakespeare\n\nChatGPT是一个革命性的语言模型，在人工智能界引起了轰动，它是一个基于文本让你和AI互动的系统。例如，可以要求ChatGPT给我们写一首俳句，说明人们了解AI的重要性以及如何利用它来改善世界并使其更加繁荣。ChatGPT是一个概率性系统，因此对于任何一个提示（prompt），它都可以给出多个答案。\n\n一个例子，请写一篇关于树叶从树上掉下来的突发新闻：\n\n> a shocking turn of events a leaf has fallen from a treat in the local park Witnesses report that the leaf which was previously attached to a branch of a tree detached itself and fell to the ground very dramatic\n\n你可以看到，这是一个相当了不起的系统，它模拟了单词，字符或标记的序列，它知道英语中的单词是如何相互关联的。给它一个序列的开头，ChatGPT完成了序列，在这个意义上它是一个语言模型。\n\n\n\n接下来，我们将研究ChatGPT背后的技术原理。那么，在背后模拟单词序列的神经网络是什么呢？其来自于一篇名为[《Attention Is All You Need》](https://proceedings.neurips.cc/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf)的论文，发表于2017年。这是一篇具有里程碑意义的论文，提出了Transformer架构。GPT是通用预训练Transformer的缩写（[Generative Pre-Training](https://s3-us-west-2.amazonaws.com/openai-assets/research-covers/language-unsupervised/language_understanding_paper.pdf)）。在2017年的这篇论文中，Transformer架构是为机器翻译而设计的，但实际上它在人工智能领域取得了巨大成功，成为了许多应用的核心技术，包括ChatGPT。\n\n现在，让我们来建立一个类似于ChatGPT的系统（我们无法直接复现ChatGPT，这是一个非常严肃的生产级系统，它在大量的互联网上训练过，并经过了大量的预训练和微调，因此非常复杂）。我们重点关注的是：**如何训练一个基于Transformer的语言模型**。在这里，我们将实现一个**字符级的语言模型**。这非常的有教育意义，它可以帮助我们了解这些系统的工作原理，同时也不需要训练整个互联网，只需要一个较小的数据集。我们使用了一个小数据集，名为Tiny Shakespeare。它是所有莎士比亚作品的结合体，整个文件大约1MB。我们将使用这个数据集来训练Transformer，让它能够产生类似于莎士比亚作品的字符序列。\n\n在训练完成后，我们可以生成无限量的莎士比亚作品，虽然它是假的，但看起来很像莎士比亚的作品。这是通过Transformer实现的，它的工作方式类似于ChatGPT，不同的是它是逐个字符进行预测的，而ChatGPT是**逐个词**级别的。Karpathy已经写好了训练这些Transformer的所有代码，并且可以在的GitHub上找到名为Nano GPT的repo。这是一个很好的学习资源，可以帮助你了解如何训练这种类型的模型。\n\n## 代码\n\n现在我们从零开始构建Transformer模型。我们将在Tiny Shakespeare数据集上进行训练，并看看如何生成无限的莎士比亚作品。重要的是：这个过程可以应用于任意的文本数据集。你需要掌握Python编程，并对微积分和统计学有基本的了解。[google colab](https://colab.research.google.com/drive/1JMLa53HDuA-i7ZBmqV7ZnA3c_fvtXnx-?usp=sharing#scrollTo=wJpXpmjEYC_T)\n\n### baseline language modeling, code setup\n\n#### reading and exploring the data\n\n首先下载数据集：\n\n```bash\n# We always start with a dataset to train on. Let's download the tiny shakespeare dataset\n!wget https://raw.githubusercontent.com/karpathy/char-rnn/master/data/tinyshakespeare/input.txt\n```\n\n读取数据，并查看\n```python\n# read it in to inspect it\nwith open('input.txt', 'r', encoding='utf-8') as f:\n    text = f.read()\n\nprint(\"length of dataset in characters: \", len(text))\n\n# let's look at the first 1000 characters\nprint(text[:1000])\n```\n\n提取本文中的所有字符\n```python\n# here are all the unique characters that occur in this text\nchars = sorted(list(set(text)))\nvocab_size = len(chars)\nprint(''.join(chars))\nprint(vocab_size)\n```\n\n输出\n```bash\n!$&',-.3:;?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\n65\n```\n\n#### tokenization, train/val split\n\n将原始的文本转化为整数序列的过程，称为tokenization。这里实现了一种简单的基于字符的tokenization：遍历所有的字符，并建立一个字符到整数的映射表和反向映射表（encoder和decoder）。这样就可以将任意字符串编码为整数序列，也可以将其解码回原来的字符串。除此以外，也可以使用[google/sentencepiece](https://github.com/google/sentencepiece)，[openai/tiktoken](https://github.com/openai/tiktoken)...\n\n\n```python\n# create a mapping from characters to integers\nstoi = { ch:i for i,ch in enumerate(chars) }\nitos = { i:ch for i,ch in enumerate(chars) }\nencode = lambda s: [stoi[c] for c in s] # encoder: take a string, output a list of integers\ndecode = lambda l: ''.join([itos[i] for i in l]) # decoder: take a list of integers, output a string\n\nprint(encode(\"hii there\"))\nprint(decode(encode(\"hii there\")))\n```\n\n在下面这段代码中，我们使用tensor存储数据，并且划分训练集与测试集\n```python\n# let's now encode the entire text dataset and store it into a torch.Tensor\nimport torch # we use PyTorch: https://pytorch.org\ndata = torch.tensor(encode(text), dtype=torch.long)\nprint(data.shape, data.dtype)\nprint(data[:1000]) # the 1000 characters we looked at earier will to the GPT look like this\n\n# Let's now split up the data into train and validation sets\nn = int(0.9*len(data)) # first 90% will be train, rest val\ntrain_data = data[:n]\nval_data = data[n:]\n```\n\n#### data loader: batches of chunks of data\n\n由于我们不可能一次性将文本全部输入到Transformer中，这样计算代价太高。因此，当我们在大量数据集上训练Transformer时，只使用数据集的小块。这些小块都有一定长度，最大长度是block size。在这里，我们设置block size的值为8。因此，最小的训练单元包含9位数据，前8位是模型输入$x$，后8位则是标签值$y$\n\n```python\nblock_size = 8\ntrain_data[:block_size+1]\n```\n\n在这9位数据中，可以获得8个训练单元，我们将这8个训练单元打印出来\n\n```python\nx = train_data[:block_size]\ny = train_data[1:block_size+1]\nfor t in range(block_size):\n    context = x[:t+1]\n    target = y[t]\n    print(f\"when input is {context} the target: {target}\")\n```\n\n打印结果如下：\n\n```bash\nwhen input is tensor([18]) the target: 47\nwhen input is tensor([18, 47]) the target: 56\nwhen input is tensor([18, 47, 56]) the target: 57\nwhen input is tensor([18, 47, 56, 57]) the target: 58\nwhen input is tensor([18, 47, 56, 57, 58]) the target: 1\nwhen input is tensor([18, 47, 56, 57, 58,  1]) the target: 15\nwhen input is tensor([18, 47, 56, 57, 58,  1, 15]) the target: 47\nwhen input is tensor([18, 47, 56, 57, 58,  1, 15, 47]) the target: 58\n```\n\n使用存在长度限制的$(input, target)$来训练transformer，既可以提升效率，也能让transformer在推理时适应不同的文字输入长度，甚至可以只使用1个字符作为输入进行预测。 我们还会设置batch size，这样可以同时处理多个数据。而batch的获取， 会随机的从训练数据中进行采样。\n\n\n```python\ntorch.manual_seed(1337)\nbatch_size = 4 # how many independent sequences will we process in parallel?\nblock_size = 8 # what is the maximum context length for predictions?\n\ndef get_batch(split):\n    # generate a small batch of data of inputs x and targets y\n    data = train_data if split == 'train' else val_data\n    ix = torch.randint(len(data) - block_size, (batch_size,))\n    x = torch.stack([data[i:i+block_size] for i in ix])\n    y = torch.stack([data[i+1:i+block_size+1] for i in ix])\n    return x, y\n```\n\n我们可以将采样得到的数据打印出来\n\n```python\nxb, yb = get_batch('train')\nprint('inputs:')\nprint(xb.shape)\nprint(xb)\nprint('targets:')\nprint(yb.shape)\nprint(yb)\n\nprint('----')\n\nfor b in range(batch_size): # batch dimension\n    for t in range(block_size): # time dimension\n        context = xb[b, :t+1]\n        target = yb[b,t]\n        print(f\"when input is {context.tolist()} the target: {target}\")\n```\n\n打印结果：\n\n```\ninputs:\ntorch.Size([4, 8])\ntensor([[24, 43, 58,  5, 57,  1, 46, 43],\n        [44, 53, 56,  1, 58, 46, 39, 58],\n        [52, 58,  1, 58, 46, 39, 58,  1],\n        [25, 17, 27, 10,  0, 21,  1, 54]])\ntargets:\ntorch.Size([4, 8])\ntensor([[43, 58,  5, 57,  1, 46, 43, 39],\n        [53, 56,  1, 58, 46, 39, 58,  1],\n        [58,  1, 58, 46, 39, 58,  1, 46],\n        [17, 27, 10,  0, 21,  1, 54, 39]])\n----\nwhen input is [24] the target: 43\nwhen input is [24, 43] the target: 58\n···\n```\n\n#### simplest baseline: bigram language model, loss, generation\n\n让我们从一个最简单的神经网络语言模型开始，即*bigram language model*。在`__init__`中，我们使用nn.Embedding定义了token_embedding_table，其是一个大小为vocab_size*vocab_size的矩阵，当输入一个字符的idx：`self.token_embedding_table(idx)`，便会从这个矩阵中得到对应的一行向量，例如我们输入24，就会得到第24行的数据。\n\n在训练过程中，forward函数中的`idx`，其形状是`batch_size*time`，经过embedding，我们会得到形状为`batch_size*time*channel`的张量logits，其为网络输出的原始预测值，是未经过归一化的。继续看forward函数，当存在targets（为训练过程）时，首先将logits、targets进行reshape，再使用交叉熵函数计算loss。\n\n在训练完成后，可以使用训练好的模型生成连续的字符，也就是函数`generate`所做的事。首先，最大的字符生成长度为`max_new_tokens`，循环开始，向forward函数中输入当前的idx，得到logits，取时间维度上的最后一维（字符串的最后一个字符），经过softmax归一化得到概率，再根据概率得到下一个字符的idx，最后将当前的预测结果idx_next与之前的idx进行合并，这样便可以得到当前的最新字符序列。\n\n```python\nimport torch\nimport torch.nn as nn\nfrom torch.nn import functional as F\ntorch.manual_seed(1337)\n\nclass BigramLanguageModel(nn.Module):\n\n    def __init__(self, vocab_size):\n        super().__init__()\n        # each token directly reads off the logits for the next token from a lookup table\n        self.token_embedding_table = nn.Embedding(vocab_size, vocab_size)\n\n    def forward(self, idx, targets=None):\n\n        # idx and targets are both (B,T) tensor of integers\n        logits = self.token_embedding_table(idx) # (B,T,C)\n        \n        if targets is None:\n            loss = None\n        else:\n            B, T, C = logits.shape\n            logits = logits.view(B*T, C)\n            targets = targets.view(B*T)\n            loss = F.cross_entropy(logits, targets)\n\n        return logits, loss\n    \n    def generate(self, idx, max_new_tokens):\n        # idx is (B, T) array of indices in the current context\n        for _ in range(max_new_tokens):\n            # get the predictions\n            logits, loss = self(idx)\n            # focus only on the last time step\n            logits = logits[:, -1, :] # becomes (B, C)\n            # apply softmax to get probabilities\n            probs = F.softmax(logits, dim=-1) # (B, C)\n            # sample from the distribution\n            idx_next = torch.multinomial(probs, num_samples=1) # (B, 1)\n            # append sampled index to the running sequence\n            idx = torch.cat((idx, idx_next), dim=1) # (B, T+1)\n        return idx\n\n```\n\n基于这个模型，我们可以生成一个长度为100的字符串序列\n\n```python\nm = BigramLanguageModel(vocab_size)\nlogits, loss = m(xb, yb)\nprint(logits.shape)\nprint(loss)\n\nprint(decode(m.generate(idx = torch.zeros((1, 1), dtype=torch.long), max_new_tokens=100)[0].tolist()))\n```\n打印结果如下：\n\n```\ntorch.Size([32, 65])\ntensor(4.8786, grad_fn=<NllLossBackward0>)\n\nSKIcLT;AcELMoTbvZv C?nq-QE33:CJqkOKH-q;:la!oiywkHjgChzbQ?u!3bLIgwevmyFJGUGp\nwnYWmnxKWWev-tDqXErVKLgJ\n```\n\n#### training the bigram model\n\n接下来，让我们开始训练模型，首先加入AdamW优化器，然后设置100次循环迭代，一次循环的步骤如下：\n1. 获取batch数据\n2. 模型预测得到loss\n3. 清空优化器之前的梯度信息\n4. loss反传得到梯度\n5. optimizer基于梯度信息更新模型参数\n\n```python\n# create a PyTorch optimizer\noptimizer = torch.optim.AdamW(m.parameters(), lr=1e-3)\n\nbatch_size = 32\nfor steps in range(100): # increase number of steps for good results... \n    \n    # sample a batch of data\n    xb, yb = get_batch('train')\n\n    # evaluate the loss\n    logits, loss = m(xb, yb)\n    optimizer.zero_grad(set_to_none=True)\n    loss.backward()\n    optimizer.step()\n\nprint(loss.item())\n```\n\n最终这个模型的训练效果并不好，迭代100次之后，loss为4.66，打印预测的字符序列：\n\n```python\nprint(decode(m.generate(idx = torch.zeros((1, 1), dtype=torch.long), max_new_tokens=500)[0].tolist()))\n```\n\n打印结果：\n\n```\noTo.JUZ!!zqe!\nxBP qbs$Gy'AcOmrLwwt\np$x;Seh-onQbfM?OjKbn'NwUAW -Np3fkz$FVwAUEa-wzWC -wQo-R!v -Mj?,SPiTyZ;o-opr$mOiPJEYD-CfigkzD3p3?zvS;ADz;.y?o,ivCuC'zqHxcVT cHA\nrT'Fd,SBMZyOslg!NXeF$sBe,juUzLq?w-wzP-h\nERjjxlgJzPbHxf$ q,q,KCDCU fqBOQT\nSV&CW:xSVwZv'DG'NSPypDhKStKzC -$hslxIVzoivnp ,ethA:NCCGoi\ntN!ljjP3fwJMwNelgUzzPGJlgihJ!d?q.d\npSPYgCuCJrIFtb\njQXg\npA.P LP,SPJi\nDBcuBM:CixjJ$Jzkq,OLf3KLQLMGph$O 3DfiPHnXKuHMlyjxEiyZib3FaHV-oJa!zoc'XSP :CKGUhd?lgCOF$;;DTHZMlvvcmZAm;:iv'MMgO&Ywbc;BLCUd&vZINLIzkuTGZa\nD.?\n```\n\n## 结论\n\n至此，我们搭建了一个最简单的语言模型，虽然目前的结果并不好，但是接下来的文章中，我们将引入self attention以及transformer，这将大大提升模型的效果，敬请期待:)\n\n## 参考\n\n[video](https://www.youtube.com/watch?v=kCc8FmEb1nY&list=PLAqhIrjkxbuWI23v9cThsA9GvCAUhRvKZ&index=8)，[Google colab ](https://colab.research.google.com/drive/1JMLa53HDuA-i7ZBmqV7ZnA3c_fvtXnx-?usp=sharing)，[karpathy/nanoGPT](https://github.com/karpathy/nanoGPT)，[karpathy/ng-video-lecture](https://github.com/karpathy/ng-video-lecture)\n\n\n\n\n\n\n\n",
      "code": "var Component=(()=>{var m=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var b=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},i=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=h(n,c))||t.enumerable});return a};var y=(a,n,s)=>(s=a!=null?m(N(a)):{},i(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),w=a=>i(l({},\"__esModule\",{value:!0}),a);var r=b((z,o)=>{o.exports=_jsx_runtime});var x={};g(x,{default:()=>d,frontmatter:()=>f});var e=y(r()),f={title:\"Let's build GPT: from scratch, in code, spelled out (1)\",date:\"2023-01-20\",tags:[\"LLM\",\"deep-learning\"],draft:!1,summary:\"a shocking turn of events a leaf has fallen from a treat in the local park Witnesses report that the leaf which was previously attached to a branch of\",authors:[\"default\"]};function p(a){let n={a:\"a\",annotation:\"annotation\",blockquote:\"blockquote\",code:\"code\",em:\"em\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",math:\"math\",mi:\"mi\",mo:\"mo\",mrow:\"mrow\",ol:\"ol\",p:\"p\",pre:\"pre\",semantics:\"semantics\",span:\"span\",strong:\"strong\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"\\u6700\\u8FD1Karpathy\\u5199\\u7684\\u8FD9\\u7BC7\\u5173\\u4E8Egpt\\u7684\\u6559\\u7A0B\\u901A\\u4FD7\\u6613\\u61C2\\uFF0C\\u5F15\\u8D77\\u4E86\\u975E\\u5E38\\u5927\\u7684\\u53CD\\u54CD\\u3002\\u8FD9\\u91CC\\uFF0C\\u6211\\u53C2\\u8003\\u4E86\\u8FD9\\u7BC7\\u6559\\u7A0B\\u8FDB\\u884C\\u4E86\\u7B80\\u5355\\u7FFB\\u8BD1\\u3001\\u603B\\u7ED3\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"chatgpt-transformers-nanogpt-shakespeare\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#chatgpt-transformers-nanogpt-shakespeare\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"ChatGPT, Transformers, nanoGPT, Shakespeare\"]}),`\n`,(0,e.jsx)(n.p,{children:\"ChatGPT\\u662F\\u4E00\\u4E2A\\u9769\\u547D\\u6027\\u7684\\u8BED\\u8A00\\u6A21\\u578B\\uFF0C\\u5728\\u4EBA\\u5DE5\\u667A\\u80FD\\u754C\\u5F15\\u8D77\\u4E86\\u8F70\\u52A8\\uFF0C\\u5B83\\u662F\\u4E00\\u4E2A\\u57FA\\u4E8E\\u6587\\u672C\\u8BA9\\u4F60\\u548CAI\\u4E92\\u52A8\\u7684\\u7CFB\\u7EDF\\u3002\\u4F8B\\u5982\\uFF0C\\u53EF\\u4EE5\\u8981\\u6C42ChatGPT\\u7ED9\\u6211\\u4EEC\\u5199\\u4E00\\u9996\\u4FF3\\u53E5\\uFF0C\\u8BF4\\u660E\\u4EBA\\u4EEC\\u4E86\\u89E3AI\\u7684\\u91CD\\u8981\\u6027\\u4EE5\\u53CA\\u5982\\u4F55\\u5229\\u7528\\u5B83\\u6765\\u6539\\u5584\\u4E16\\u754C\\u5E76\\u4F7F\\u5176\\u66F4\\u52A0\\u7E41\\u8363\\u3002ChatGPT\\u662F\\u4E00\\u4E2A\\u6982\\u7387\\u6027\\u7CFB\\u7EDF\\uFF0C\\u56E0\\u6B64\\u5BF9\\u4E8E\\u4EFB\\u4F55\\u4E00\\u4E2A\\u63D0\\u793A\\uFF08prompt\\uFF09\\uFF0C\\u5B83\\u90FD\\u53EF\\u4EE5\\u7ED9\\u51FA\\u591A\\u4E2A\\u7B54\\u6848\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E00\\u4E2A\\u4F8B\\u5B50\\uFF0C\\u8BF7\\u5199\\u4E00\\u7BC7\\u5173\\u4E8E\\u6811\\u53F6\\u4ECE\\u6811\\u4E0A\\u6389\\u4E0B\\u6765\\u7684\\u7A81\\u53D1\\u65B0\\u95FB\\uFF1A\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"a shocking turn of events a leaf has fallen from a treat in the local park Witnesses report that the leaf which was previously attached to a branch of a tree detached itself and fell to the ground very dramatic\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4F60\\u53EF\\u4EE5\\u770B\\u5230\\uFF0C\\u8FD9\\u662F\\u4E00\\u4E2A\\u76F8\\u5F53\\u4E86\\u4E0D\\u8D77\\u7684\\u7CFB\\u7EDF\\uFF0C\\u5B83\\u6A21\\u62DF\\u4E86\\u5355\\u8BCD\\uFF0C\\u5B57\\u7B26\\u6216\\u6807\\u8BB0\\u7684\\u5E8F\\u5217\\uFF0C\\u5B83\\u77E5\\u9053\\u82F1\\u8BED\\u4E2D\\u7684\\u5355\\u8BCD\\u662F\\u5982\\u4F55\\u76F8\\u4E92\\u5173\\u8054\\u7684\\u3002\\u7ED9\\u5B83\\u4E00\\u4E2A\\u5E8F\\u5217\\u7684\\u5F00\\u5934\\uFF0CChatGPT\\u5B8C\\u6210\\u4E86\\u5E8F\\u5217\\uFF0C\\u5728\\u8FD9\\u4E2A\\u610F\\u4E49\\u4E0A\\u5B83\\u662F\\u4E00\\u4E2A\\u8BED\\u8A00\\u6A21\\u578B\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u7814\\u7A76ChatGPT\\u80CC\\u540E\\u7684\\u6280\\u672F\\u539F\\u7406\\u3002\\u90A3\\u4E48\\uFF0C\\u5728\\u80CC\\u540E\\u6A21\\u62DF\\u5355\\u8BCD\\u5E8F\\u5217\\u7684\\u795E\\u7ECF\\u7F51\\u7EDC\\u662F\\u4EC0\\u4E48\\u5462\\uFF1F\\u5176\\u6765\\u81EA\\u4E8E\\u4E00\\u7BC7\\u540D\\u4E3A\",(0,e.jsx)(n.a,{href:\"https://proceedings.neurips.cc/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf\",children:\"\\u300AAttention Is All You Need\\u300B\"}),\"\\u7684\\u8BBA\\u6587\\uFF0C\\u53D1\\u8868\\u4E8E2017\\u5E74\\u3002\\u8FD9\\u662F\\u4E00\\u7BC7\\u5177\\u6709\\u91CC\\u7A0B\\u7891\\u610F\\u4E49\\u7684\\u8BBA\\u6587\\uFF0C\\u63D0\\u51FA\\u4E86Transformer\\u67B6\\u6784\\u3002GPT\\u662F\\u901A\\u7528\\u9884\\u8BAD\\u7EC3Transformer\\u7684\\u7F29\\u5199\\uFF08\",(0,e.jsx)(n.a,{href:\"https://s3-us-west-2.amazonaws.com/openai-assets/research-covers/language-unsupervised/language_understanding_paper.pdf\",children:\"Generative Pre-Training\"}),\"\\uFF09\\u3002\\u57282017\\u5E74\\u7684\\u8FD9\\u7BC7\\u8BBA\\u6587\\u4E2D\\uFF0CTransformer\\u67B6\\u6784\\u662F\\u4E3A\\u673A\\u5668\\u7FFB\\u8BD1\\u800C\\u8BBE\\u8BA1\\u7684\\uFF0C\\u4F46\\u5B9E\\u9645\\u4E0A\\u5B83\\u5728\\u4EBA\\u5DE5\\u667A\\u80FD\\u9886\\u57DF\\u53D6\\u5F97\\u4E86\\u5DE8\\u5927\\u6210\\u529F\\uFF0C\\u6210\\u4E3A\\u4E86\\u8BB8\\u591A\\u5E94\\u7528\\u7684\\u6838\\u5FC3\\u6280\\u672F\\uFF0C\\u5305\\u62ECChatGPT\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u73B0\\u5728\\uFF0C\\u8BA9\\u6211\\u4EEC\\u6765\\u5EFA\\u7ACB\\u4E00\\u4E2A\\u7C7B\\u4F3C\\u4E8EChatGPT\\u7684\\u7CFB\\u7EDF\\uFF08\\u6211\\u4EEC\\u65E0\\u6CD5\\u76F4\\u63A5\\u590D\\u73B0ChatGPT\\uFF0C\\u8FD9\\u662F\\u4E00\\u4E2A\\u975E\\u5E38\\u4E25\\u8083\\u7684\\u751F\\u4EA7\\u7EA7\\u7CFB\\u7EDF\\uFF0C\\u5B83\\u5728\\u5927\\u91CF\\u7684\\u4E92\\u8054\\u7F51\\u4E0A\\u8BAD\\u7EC3\\u8FC7\\uFF0C\\u5E76\\u7ECF\\u8FC7\\u4E86\\u5927\\u91CF\\u7684\\u9884\\u8BAD\\u7EC3\\u548C\\u5FAE\\u8C03\\uFF0C\\u56E0\\u6B64\\u975E\\u5E38\\u590D\\u6742\\uFF09\\u3002\\u6211\\u4EEC\\u91CD\\u70B9\\u5173\\u6CE8\\u7684\\u662F\\uFF1A\",(0,e.jsx)(n.strong,{children:\"\\u5982\\u4F55\\u8BAD\\u7EC3\\u4E00\\u4E2A\\u57FA\\u4E8ETransformer\\u7684\\u8BED\\u8A00\\u6A21\\u578B\"}),\"\\u3002\\u5728\\u8FD9\\u91CC\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B9E\\u73B0\\u4E00\\u4E2A\",(0,e.jsx)(n.strong,{children:\"\\u5B57\\u7B26\\u7EA7\\u7684\\u8BED\\u8A00\\u6A21\\u578B\"}),\"\\u3002\\u8FD9\\u975E\\u5E38\\u7684\\u6709\\u6559\\u80B2\\u610F\\u4E49\\uFF0C\\u5B83\\u53EF\\u4EE5\\u5E2E\\u52A9\\u6211\\u4EEC\\u4E86\\u89E3\\u8FD9\\u4E9B\\u7CFB\\u7EDF\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\uFF0C\\u540C\\u65F6\\u4E5F\\u4E0D\\u9700\\u8981\\u8BAD\\u7EC3\\u6574\\u4E2A\\u4E92\\u8054\\u7F51\\uFF0C\\u53EA\\u9700\\u8981\\u4E00\\u4E2A\\u8F83\\u5C0F\\u7684\\u6570\\u636E\\u96C6\\u3002\\u6211\\u4EEC\\u4F7F\\u7528\\u4E86\\u4E00\\u4E2A\\u5C0F\\u6570\\u636E\\u96C6\\uFF0C\\u540D\\u4E3ATiny Shakespeare\\u3002\\u5B83\\u662F\\u6240\\u6709\\u838E\\u58EB\\u6BD4\\u4E9A\\u4F5C\\u54C1\\u7684\\u7ED3\\u5408\\u4F53\\uFF0C\\u6574\\u4E2A\\u6587\\u4EF6\\u5927\\u7EA61MB\\u3002\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528\\u8FD9\\u4E2A\\u6570\\u636E\\u96C6\\u6765\\u8BAD\\u7EC3Transformer\\uFF0C\\u8BA9\\u5B83\\u80FD\\u591F\\u4EA7\\u751F\\u7C7B\\u4F3C\\u4E8E\\u838E\\u58EB\\u6BD4\\u4E9A\\u4F5C\\u54C1\\u7684\\u5B57\\u7B26\\u5E8F\\u5217\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u8BAD\\u7EC3\\u5B8C\\u6210\\u540E\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u751F\\u6210\\u65E0\\u9650\\u91CF\\u7684\\u838E\\u58EB\\u6BD4\\u4E9A\\u4F5C\\u54C1\\uFF0C\\u867D\\u7136\\u5B83\\u662F\\u5047\\u7684\\uFF0C\\u4F46\\u770B\\u8D77\\u6765\\u5F88\\u50CF\\u838E\\u58EB\\u6BD4\\u4E9A\\u7684\\u4F5C\\u54C1\\u3002\\u8FD9\\u662F\\u901A\\u8FC7Transformer\\u5B9E\\u73B0\\u7684\\uFF0C\\u5B83\\u7684\\u5DE5\\u4F5C\\u65B9\\u5F0F\\u7C7B\\u4F3C\\u4E8EChatGPT\\uFF0C\\u4E0D\\u540C\\u7684\\u662F\\u5B83\\u662F\\u9010\\u4E2A\\u5B57\\u7B26\\u8FDB\\u884C\\u9884\\u6D4B\\u7684\\uFF0C\\u800CChatGPT\\u662F\",(0,e.jsx)(n.strong,{children:\"\\u9010\\u4E2A\\u8BCD\"}),\"\\u7EA7\\u522B\\u7684\\u3002Karpathy\\u5DF2\\u7ECF\\u5199\\u597D\\u4E86\\u8BAD\\u7EC3\\u8FD9\\u4E9BTransformer\\u7684\\u6240\\u6709\\u4EE3\\u7801\\uFF0C\\u5E76\\u4E14\\u53EF\\u4EE5\\u5728\\u7684GitHub\\u4E0A\\u627E\\u5230\\u540D\\u4E3ANano GPT\\u7684repo\\u3002\\u8FD9\\u662F\\u4E00\\u4E2A\\u5F88\\u597D\\u7684\\u5B66\\u4E60\\u8D44\\u6E90\\uFF0C\\u53EF\\u4EE5\\u5E2E\\u52A9\\u4F60\\u4E86\\u89E3\\u5982\\u4F55\\u8BAD\\u7EC3\\u8FD9\\u79CD\\u7C7B\\u578B\\u7684\\u6A21\\u578B\\u3002\"]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u4EE3\\u7801\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4EE3\\u7801\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4EE3\\u7801\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u73B0\\u5728\\u6211\\u4EEC\\u4ECE\\u96F6\\u5F00\\u59CB\\u6784\\u5EFATransformer\\u6A21\\u578B\\u3002\\u6211\\u4EEC\\u5C06\\u5728Tiny Shakespeare\\u6570\\u636E\\u96C6\\u4E0A\\u8FDB\\u884C\\u8BAD\\u7EC3\\uFF0C\\u5E76\\u770B\\u770B\\u5982\\u4F55\\u751F\\u6210\\u65E0\\u9650\\u7684\\u838E\\u58EB\\u6BD4\\u4E9A\\u4F5C\\u54C1\\u3002\\u91CD\\u8981\\u7684\\u662F\\uFF1A\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u53EF\\u4EE5\\u5E94\\u7528\\u4E8E\\u4EFB\\u610F\\u7684\\u6587\\u672C\\u6570\\u636E\\u96C6\\u3002\\u4F60\\u9700\\u8981\\u638C\\u63E1Python\\u7F16\\u7A0B\\uFF0C\\u5E76\\u5BF9\\u5FAE\\u79EF\\u5206\\u548C\\u7EDF\\u8BA1\\u5B66\\u6709\\u57FA\\u672C\\u7684\\u4E86\\u89E3\\u3002\",(0,e.jsx)(n.a,{href:\"https://colab.research.google.com/drive/1JMLa53HDuA-i7ZBmqV7ZnA3c_fvtXnx-?usp=sharing#scrollTo=wJpXpmjEYC_T\",children:\"google colab\"})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"baseline-language-modeling-code-setup\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#baseline-language-modeling-code-setup\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"baseline language modeling, code setup\"]}),`\n`,(0,e.jsxs)(n.h4,{id:\"reading-and-exploring-the-data\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#reading-and-exploring-the-data\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"reading and exploring the data\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u9996\\u5148\\u4E0B\\u8F7D\\u6570\\u636E\\u96C6\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# We always start with a dataset to train on. Let's download the tiny shakespeare dataset\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),`wget https://raw.githubusercontent.com/karpathy/char-rnn/master/data/tinyshakespeare/input.txt\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8BFB\\u53D6\\u6570\\u636E\\uFF0C\\u5E76\\u67E5\\u770B\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# read it in to inspect it\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"with\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"open\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'input.txt'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'r'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" encoding\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'utf-8'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" f\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    text \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" f\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"read\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"length of dataset in characters: \"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"text\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# let's look at the first 1000 characters\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"text\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u63D0\\u53D6\\u672C\\u6587\\u4E2D\\u7684\\u6240\\u6709\\u5B57\\u7B26\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# here are all the unique characters that occur in this text\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"chars \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"sorted\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"list\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"set\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"text\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"vocab_size \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"chars\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"join\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"chars\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vocab_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8F93\\u51FA\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"$\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\"',-.3:\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token number\",children:\"65\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h4,{id:\"tokenization-trainval-split\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#tokenization-trainval-split\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"tokenization, train/val split\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5C06\\u539F\\u59CB\\u7684\\u6587\\u672C\\u8F6C\\u5316\\u4E3A\\u6574\\u6570\\u5E8F\\u5217\\u7684\\u8FC7\\u7A0B\\uFF0C\\u79F0\\u4E3Atokenization\\u3002\\u8FD9\\u91CC\\u5B9E\\u73B0\\u4E86\\u4E00\\u79CD\\u7B80\\u5355\\u7684\\u57FA\\u4E8E\\u5B57\\u7B26\\u7684tokenization\\uFF1A\\u904D\\u5386\\u6240\\u6709\\u7684\\u5B57\\u7B26\\uFF0C\\u5E76\\u5EFA\\u7ACB\\u4E00\\u4E2A\\u5B57\\u7B26\\u5230\\u6574\\u6570\\u7684\\u6620\\u5C04\\u8868\\u548C\\u53CD\\u5411\\u6620\\u5C04\\u8868\\uFF08encoder\\u548Cdecoder\\uFF09\\u3002\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u5C06\\u4EFB\\u610F\\u5B57\\u7B26\\u4E32\\u7F16\\u7801\\u4E3A\\u6574\\u6570\\u5E8F\\u5217\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u5C06\\u5176\\u89E3\\u7801\\u56DE\\u539F\\u6765\\u7684\\u5B57\\u7B26\\u4E32\\u3002\\u9664\\u6B64\\u4EE5\\u5916\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528\",(0,e.jsx)(n.a,{href:\"https://github.com/google/sentencepiece\",children:\"google/sentencepiece\"}),\"\\uFF0C\",(0,e.jsx)(n.a,{href:\"https://github.com/openai/tiktoken\",children:\"openai/tiktoken\"}),\"...\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# create a mapping from characters to integers\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"stoi \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" ch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"i \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"ch \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"enumerate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"chars\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"itos \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"ch \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"ch \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"enumerate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"chars\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"encode \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"lambda\"}),\" s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"stoi\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" c \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# encoder: take a string, output a list of integers\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"decode \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"lambda\"}),\" l\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"join\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"itos\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" l\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# decoder: take a list of integers, output a string\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"encode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"hii there\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"decode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"encode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"hii there\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u4E0B\\u9762\\u8FD9\\u6BB5\\u4EE3\\u7801\\u4E2D\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528tensor\\u5B58\\u50A8\\u6570\\u636E\\uFF0C\\u5E76\\u4E14\\u5212\\u5206\\u8BAD\\u7EC3\\u96C6\\u4E0E\\u6D4B\\u8BD5\\u96C6\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# let's now encode the entire text dataset and store it into a torch.Tensor\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" torch \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# we use PyTorch: https://pytorch.org\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"encode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"text\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" dtype\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"long\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"shape\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"dtype\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# the 1000 characters we looked at earier will to the GPT look like this\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Let's now split up the data into train and validation sets\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"n \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"int\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0.9\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# first 90% will be train, rest val\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"train_data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"n\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"val_data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"n\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h4,{id:\"data-loader-batches-of-chunks-of-data\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#data-loader-batches-of-chunks-of-data\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"data loader: batches of chunks of data\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u7531\\u4E8E\\u6211\\u4EEC\\u4E0D\\u53EF\\u80FD\\u4E00\\u6B21\\u6027\\u5C06\\u6587\\u672C\\u5168\\u90E8\\u8F93\\u5165\\u5230Transformer\\u4E2D\\uFF0C\\u8FD9\\u6837\\u8BA1\\u7B97\\u4EE3\\u4EF7\\u592A\\u9AD8\\u3002\\u56E0\\u6B64\\uFF0C\\u5F53\\u6211\\u4EEC\\u5728\\u5927\\u91CF\\u6570\\u636E\\u96C6\\u4E0A\\u8BAD\\u7EC3Transformer\\u65F6\\uFF0C\\u53EA\\u4F7F\\u7528\\u6570\\u636E\\u96C6\\u7684\\u5C0F\\u5757\\u3002\\u8FD9\\u4E9B\\u5C0F\\u5757\\u90FD\\u6709\\u4E00\\u5B9A\\u957F\\u5EA6\\uFF0C\\u6700\\u5927\\u957F\\u5EA6\\u662Fblock size\\u3002\\u5728\\u8FD9\\u91CC\\uFF0C\\u6211\\u4EEC\\u8BBE\\u7F6Eblock size\\u7684\\u503C\\u4E3A8\\u3002\\u56E0\\u6B64\\uFF0C\\u6700\\u5C0F\\u7684\\u8BAD\\u7EC3\\u5355\\u5143\\u5305\\u542B9\\u4F4D\\u6570\\u636E\\uFF0C\\u524D8\\u4F4D\\u662F\\u6A21\\u578B\\u8F93\\u5165\",(0,e.jsxs)(n.span,{className:\"katex\",children:[(0,e.jsx)(n.span,{className:\"katex-mathml\",children:(0,e.jsx)(n.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(n.semantics,{children:[(0,e.jsx)(n.mrow,{children:(0,e.jsx)(n.mi,{children:\"x\"})}),(0,e.jsx)(n.annotation,{encoding:\"application/x-tex\",children:\"x\"})]})})}),(0,e.jsx)(n.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(n.span,{className:\"base\",children:[(0,e.jsx)(n.span,{className:\"strut\",style:{height:\"0.4306em\"}}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"x\"})]})})]}),\"\\uFF0C\\u540E8\\u4F4D\\u5219\\u662F\\u6807\\u7B7E\\u503C\",(0,e.jsxs)(n.span,{className:\"katex\",children:[(0,e.jsx)(n.span,{className:\"katex-mathml\",children:(0,e.jsx)(n.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(n.semantics,{children:[(0,e.jsx)(n.mrow,{children:(0,e.jsx)(n.mi,{children:\"y\"})}),(0,e.jsx)(n.annotation,{encoding:\"application/x-tex\",children:\"y\"})]})})}),(0,e.jsx)(n.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(n.span,{className:\"base\",children:[(0,e.jsx)(n.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"y\"})]})})]})]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"block_size \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"train_data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"block_size\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u8FD99\\u4F4D\\u6570\\u636E\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u83B7\\u5F978\\u4E2A\\u8BAD\\u7EC3\\u5355\\u5143\\uFF0C\\u6211\\u4EEC\\u5C06\\u8FD98\\u4E2A\\u8BAD\\u7EC3\\u5355\\u5143\\u6253\\u5370\\u51FA\\u6765\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" train_data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"block_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"y \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" train_data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"block_size\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" t \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"range\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"block_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    context \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" x\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"t\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    target \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" y\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token string-interpolation\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:'f\"when input is '}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\" the target: \"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6253\\u5370\\u7ED3\\u679C\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" the target: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" the target: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" the target: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"57\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"57\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" the target: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"57\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" the target: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"57\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),\",  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" the target: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"57\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),\",  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" the target: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is tensor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"57\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),\",  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),\", \",(0,e.jsx)(n.span,{className:\"token number\",children:\"47\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" the target: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4F7F\\u7528\\u5B58\\u5728\\u957F\\u5EA6\\u9650\\u5236\\u7684\",(0,e.jsxs)(n.span,{className:\"katex\",children:[(0,e.jsx)(n.span,{className:\"katex-mathml\",children:(0,e.jsx)(n.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(n.semantics,{children:[(0,e.jsxs)(n.mrow,{children:[(0,e.jsx)(n.mo,{stretchy:\"false\",children:\"(\"}),(0,e.jsx)(n.mi,{children:\"i\"}),(0,e.jsx)(n.mi,{children:\"n\"}),(0,e.jsx)(n.mi,{children:\"p\"}),(0,e.jsx)(n.mi,{children:\"u\"}),(0,e.jsx)(n.mi,{children:\"t\"}),(0,e.jsx)(n.mo,{separator:\"true\",children:\",\"}),(0,e.jsx)(n.mi,{children:\"t\"}),(0,e.jsx)(n.mi,{children:\"a\"}),(0,e.jsx)(n.mi,{children:\"r\"}),(0,e.jsx)(n.mi,{children:\"g\"}),(0,e.jsx)(n.mi,{children:\"e\"}),(0,e.jsx)(n.mi,{children:\"t\"}),(0,e.jsx)(n.mo,{stretchy:\"false\",children:\")\"})]}),(0,e.jsx)(n.annotation,{encoding:\"application/x-tex\",children:\"(input, target)\"})]})})}),(0,e.jsx)(n.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(n.span,{className:\"base\",children:[(0,e.jsx)(n.span,{className:\"strut\",style:{height:\"1em\",verticalAlign:\"-0.25em\"}}),(0,e.jsx)(n.span,{className:\"mopen\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"in\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"p\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"u\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"t\"}),(0,e.jsx)(n.span,{className:\"mpunct\",children:\",\"}),(0,e.jsx)(n.span,{className:\"mspace\",style:{marginRight:\"0.1667em\"}}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"t\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"a\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"r\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"e\"}),(0,e.jsx)(n.span,{className:\"mord mathnormal\",children:\"t\"}),(0,e.jsx)(n.span,{className:\"mclose\",children:\")\"})]})})]}),\"\\u6765\\u8BAD\\u7EC3transformer\\uFF0C\\u65E2\\u53EF\\u4EE5\\u63D0\\u5347\\u6548\\u7387\\uFF0C\\u4E5F\\u80FD\\u8BA9transformer\\u5728\\u63A8\\u7406\\u65F6\\u9002\\u5E94\\u4E0D\\u540C\\u7684\\u6587\\u5B57\\u8F93\\u5165\\u957F\\u5EA6\\uFF0C\\u751A\\u81F3\\u53EF\\u4EE5\\u53EA\\u4F7F\\u75281\\u4E2A\\u5B57\\u7B26\\u4F5C\\u4E3A\\u8F93\\u5165\\u8FDB\\u884C\\u9884\\u6D4B\\u3002 \\u6211\\u4EEC\\u8FD8\\u4F1A\\u8BBE\\u7F6Ebatch size\\uFF0C\\u8FD9\\u6837\\u53EF\\u4EE5\\u540C\\u65F6\\u5904\\u7406\\u591A\\u4E2A\\u6570\\u636E\\u3002\\u800Cbatch\\u7684\\u83B7\\u53D6\\uFF0C \\u4F1A\\u968F\\u673A\\u7684\\u4ECE\\u8BAD\\u7EC3\\u6570\\u636E\\u4E2D\\u8FDB\\u884C\\u91C7\\u6837\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"manual_seed\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1337\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"batch_size \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# how many independent sequences will we process in parallel?\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"block_size \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# what is the maximum context length for predictions?\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"get_batch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"split\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# generate a small batch of data of inputs x and targets y\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" train_data \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" split \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'train'\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),` val_data\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    ix \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"randint\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" block_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"batch_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"stack\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"i\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\"block_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" ix\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    y \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"stack\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"i\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\"block_size\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" ix\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" x\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` y\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u5C06\\u91C7\\u6837\\u5F97\\u5230\\u7684\\u6570\\u636E\\u6253\\u5370\\u51FA\\u6765\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"xb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" yb \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" get_batch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'train'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'inputs:'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"xb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"shape\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"xb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'targets:'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"yb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"shape\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"yb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'----'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" b \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"range\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"batch_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# batch dimension\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" t \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"range\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"block_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# time dimension\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        context \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" xb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\"t\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        target \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" yb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token string-interpolation\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:'f\"when input is '}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"context\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"tolist\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\" the target: \"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"target\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6253\\u5370\\u7ED3\\u679C\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"inputs\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Size\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"tensor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"24\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"43\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"57\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"46\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"43\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"44\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"53\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"46\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"39\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"52\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"46\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"39\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"25\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"17\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"27\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"21\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"54\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"targets\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Size\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"tensor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"43\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"57\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"46\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"43\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"39\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"53\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"46\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"39\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"46\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"39\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"46\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"17\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"27\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"21\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"54\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"39\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"--\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"--\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"24\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" the target\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"43\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"when input is \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"24\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"43\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" the target\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"58\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\xB7\\xB7\\xB7\n`})]})}),`\n`,(0,e.jsxs)(n.h4,{id:\"simplest-baseline-bigram-language-model-loss-generation\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#simplest-baseline-bigram-language-model-loss-generation\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"simplest baseline: bigram language model, loss, generation\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u8BA9\\u6211\\u4EEC\\u4ECE\\u4E00\\u4E2A\\u6700\\u7B80\\u5355\\u7684\\u795E\\u7ECF\\u7F51\\u7EDC\\u8BED\\u8A00\\u6A21\\u578B\\u5F00\\u59CB\\uFF0C\\u5373\",(0,e.jsx)(n.em,{children:\"bigram language model\"}),\"\\u3002\\u5728\",(0,e.jsx)(n.code,{children:\"__init__\"}),\"\\u4E2D\\uFF0C\\u6211\\u4EEC\\u4F7F\\u7528nn.Embedding\\u5B9A\\u4E49\\u4E86token_embedding_table\\uFF0C\\u5176\\u662F\\u4E00\\u4E2A\\u5927\\u5C0F\\u4E3Avocab_size*vocab_size\\u7684\\u77E9\\u9635\\uFF0C\\u5F53\\u8F93\\u5165\\u4E00\\u4E2A\\u5B57\\u7B26\\u7684idx\\uFF1A\",(0,e.jsx)(n.code,{children:\"self.token_embedding_table(idx)\"}),\"\\uFF0C\\u4FBF\\u4F1A\\u4ECE\\u8FD9\\u4E2A\\u77E9\\u9635\\u4E2D\\u5F97\\u5230\\u5BF9\\u5E94\\u7684\\u4E00\\u884C\\u5411\\u91CF\\uFF0C\\u4F8B\\u5982\\u6211\\u4EEC\\u8F93\\u516524\\uFF0C\\u5C31\\u4F1A\\u5F97\\u5230\\u7B2C24\\u884C\\u7684\\u6570\\u636E\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u8BAD\\u7EC3\\u8FC7\\u7A0B\\u4E2D\\uFF0Cforward\\u51FD\\u6570\\u4E2D\\u7684\",(0,e.jsx)(n.code,{children:\"idx\"}),\"\\uFF0C\\u5176\\u5F62\\u72B6\\u662F\",(0,e.jsx)(n.code,{children:\"batch_size*time\"}),\"\\uFF0C\\u7ECF\\u8FC7embedding\\uFF0C\\u6211\\u4EEC\\u4F1A\\u5F97\\u5230\\u5F62\\u72B6\\u4E3A\",(0,e.jsx)(n.code,{children:\"batch_size*time*channel\"}),\"\\u7684\\u5F20\\u91CFlogits\\uFF0C\\u5176\\u4E3A\\u7F51\\u7EDC\\u8F93\\u51FA\\u7684\\u539F\\u59CB\\u9884\\u6D4B\\u503C\\uFF0C\\u662F\\u672A\\u7ECF\\u8FC7\\u5F52\\u4E00\\u5316\\u7684\\u3002\\u7EE7\\u7EED\\u770Bforward\\u51FD\\u6570\\uFF0C\\u5F53\\u5B58\\u5728targets\\uFF08\\u4E3A\\u8BAD\\u7EC3\\u8FC7\\u7A0B\\uFF09\\u65F6\\uFF0C\\u9996\\u5148\\u5C06logits\\u3001targets\\u8FDB\\u884Creshape\\uFF0C\\u518D\\u4F7F\\u7528\\u4EA4\\u53C9\\u71B5\\u51FD\\u6570\\u8BA1\\u7B97loss\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u8BAD\\u7EC3\\u5B8C\\u6210\\u540E\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\\u8BAD\\u7EC3\\u597D\\u7684\\u6A21\\u578B\\u751F\\u6210\\u8FDE\\u7EED\\u7684\\u5B57\\u7B26\\uFF0C\\u4E5F\\u5C31\\u662F\\u51FD\\u6570\",(0,e.jsx)(n.code,{children:\"generate\"}),\"\\u6240\\u505A\\u7684\\u4E8B\\u3002\\u9996\\u5148\\uFF0C\\u6700\\u5927\\u7684\\u5B57\\u7B26\\u751F\\u6210\\u957F\\u5EA6\\u4E3A\",(0,e.jsx)(n.code,{children:\"max_new_tokens\"}),\"\\uFF0C\\u5FAA\\u73AF\\u5F00\\u59CB\\uFF0C\\u5411forward\\u51FD\\u6570\\u4E2D\\u8F93\\u5165\\u5F53\\u524D\\u7684idx\\uFF0C\\u5F97\\u5230logits\\uFF0C\\u53D6\\u65F6\\u95F4\\u7EF4\\u5EA6\\u4E0A\\u7684\\u6700\\u540E\\u4E00\\u7EF4\\uFF08\\u5B57\\u7B26\\u4E32\\u7684\\u6700\\u540E\\u4E00\\u4E2A\\u5B57\\u7B26\\uFF09\\uFF0C\\u7ECF\\u8FC7softmax\\u5F52\\u4E00\\u5316\\u5F97\\u5230\\u6982\\u7387\\uFF0C\\u518D\\u6839\\u636E\\u6982\\u7387\\u5F97\\u5230\\u4E0B\\u4E00\\u4E2A\\u5B57\\u7B26\\u7684idx\\uFF0C\\u6700\\u540E\\u5C06\\u5F53\\u524D\\u7684\\u9884\\u6D4B\\u7ED3\\u679Cidx_next\\u4E0E\\u4E4B\\u524D\\u7684idx\\u8FDB\\u884C\\u5408\\u5E76\\uFF0C\\u8FD9\\u6837\\u4FBF\\u53EF\\u4EE5\\u5F97\\u5230\\u5F53\\u524D\\u7684\\u6700\\u65B0\\u5B57\\u7B26\\u5E8F\\u5217\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),` torch\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"nn \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),` nn\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"nn \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" functional \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),` F\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"manual_seed\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1337\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"BigramLanguageModel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"nn\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Module\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"__init__\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"self\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" vocab_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"super\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"__init__\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# each token directly reads off the logits for the next token from a lookup table\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        self\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"token_embedding_table \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" nn\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Embedding\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vocab_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" vocab_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"forward\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"self\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" targets\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"None\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# idx and targets are both (B,T) tensor of integers\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        logits \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" self\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"token_embedding_table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# (B,T,C)\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" targets \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"is\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"None\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            loss \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"None\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" T\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" C \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`shape\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            logits \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"view\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"B\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"T\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" C\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            targets \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" targets\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"view\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"B\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"T\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            loss \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" F\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"cross_entropy\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" targets\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` loss\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"generate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"self\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" max_new_tokens\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# idx is (B, T) array of indices in the current context\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" _ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"range\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"max_new_tokens\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# get the predictions\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" loss \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" self\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# focus only on the last time step\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            logits \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# becomes (B, C)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# apply softmax to get probabilities\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            probs \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" F\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"softmax\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" dim\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# (B, C)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# sample from the distribution\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            idx_next \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"multinomial\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"probs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" num_samples\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# (B, 1)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# append sampled index to the running sequence\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"cat\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" idx_next\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" dim\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# (B, T+1)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),` idx\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u57FA\\u4E8E\\u8FD9\\u4E2A\\u6A21\\u578B\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u751F\\u6210\\u4E00\\u4E2A\\u957F\\u5EA6\\u4E3A100\\u7684\\u5B57\\u7B26\\u4E32\\u5E8F\\u5217\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"m \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" BigramLanguageModel\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vocab_size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" loss \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"xb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" yb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"shape\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"loss\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"decode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"generate\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"zeros\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" dtype\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"long\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" max_new_tokens\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"100\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"tolist\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6253\\u5370\\u7ED3\\u679C\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Size\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"32\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"65\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"tensor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"4.8786\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" grad_fn\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"NllLossBackward0\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SKIcLT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AcELMoTbvZv\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"C\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\"nq\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"QE33\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"CJqkOKH\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"q\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"la\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"oiywkHjgChzbQ\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\"u\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),`3bLIgwevmyFJGUGp\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"wnYWmnxKWWev\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),`tDqXErVKLgJ\n`]})]})}),`\n`,(0,e.jsxs)(n.h4,{id:\"training-the-bigram-model\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#training-the-bigram-model\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"training the bigram model\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u8BA9\\u6211\\u4EEC\\u5F00\\u59CB\\u8BAD\\u7EC3\\u6A21\\u578B\\uFF0C\\u9996\\u5148\\u52A0\\u5165AdamW\\u4F18\\u5316\\u5668\\uFF0C\\u7136\\u540E\\u8BBE\\u7F6E100\\u6B21\\u5FAA\\u73AF\\u8FED\\u4EE3\\uFF0C\\u4E00\\u6B21\\u5FAA\\u73AF\\u7684\\u6B65\\u9AA4\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u83B7\\u53D6batch\\u6570\\u636E\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u6A21\\u578B\\u9884\\u6D4B\\u5F97\\u5230loss\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u6E05\\u7A7A\\u4F18\\u5316\\u5668\\u4E4B\\u524D\\u7684\\u68AF\\u5EA6\\u4FE1\\u606F\"}),`\n`,(0,e.jsx)(n.li,{children:\"loss\\u53CD\\u4F20\\u5F97\\u5230\\u68AF\\u5EA6\"}),`\n`,(0,e.jsx)(n.li,{children:\"optimizer\\u57FA\\u4E8E\\u68AF\\u5EA6\\u4FE1\\u606F\\u66F4\\u65B0\\u6A21\\u578B\\u53C2\\u6570\"}),`\n`]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# create a PyTorch optimizer\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"optimizer \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"optim\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"AdamW\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"parameters\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" lr\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1e-3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"batch_size \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"32\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" steps \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"range\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"100\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# increase number of steps for good results... \"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# sample a batch of data\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    xb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" yb \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" get_batch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'train'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# evaluate the loss\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    logits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" loss \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"xb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" yb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    optimizer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"zero_grad\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"set_to_none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"True\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    loss\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"backward\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    optimizer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"step\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"loss\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"item\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6700\\u7EC8\\u8FD9\\u4E2A\\u6A21\\u578B\\u7684\\u8BAD\\u7EC3\\u6548\\u679C\\u5E76\\u4E0D\\u597D\\uFF0C\\u8FED\\u4EE3100\\u6B21\\u4E4B\\u540E\\uFF0Closs\\u4E3A4.66\\uFF0C\\u6253\\u5370\\u9884\\u6D4B\\u7684\\u5B57\\u7B26\\u5E8F\\u5217\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"print\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"decode\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"m\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"generate\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"zeros\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" dtype\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"torch\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"long\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" max_new_tokens\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"500\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"tolist\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6253\\u5370\\u7ED3\\u679C\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"oTo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"JUZ\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"zqe\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"xBP qbs$Gy'\",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AcOmrLwwt\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"p$x\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Seh\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"onQbfM\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"OjKbn\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'NwUAW -Np3fkz$FVwAUEa-wzWC -wQo-R!v -Mj?,SPiTyZ;o-opr$mOiPJEYD-CfigkzD3p3?zvS;ADz;.y?o,ivCuC'\"}),`zqHxcVT cHA\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"rT'\",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Fd\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SBMZyOslg\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"NXeF$sBe\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"juUzLq\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\"w\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"wzP\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),`h\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ERjjxlgJzPbHxf$\"}),\" q\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"q\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"KCDCU\"}),` fqBOQT\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token constant\",children:\"SV\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"CW\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"xSVwZv\",(0,e.jsx)(n.span,{className:\"token string\",children:\"'DG'\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"NSPypDhKStKzC\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"$hslxIVzoivnp \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"ethA\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"NCCGoi\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"tN\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"ljjP3fwJMwNelgUzzPGJlgihJ\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"d\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\"q\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"d\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`pSPYgCuCJrIFtb\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`jQXg\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"pA\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"P\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"LP\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SPJi\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"DBcuBM\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"CixjJ$Jzkq\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"OLf3KLQLMGph$\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"O\"}),\" 3DfiPHnXKuHMlyjxEiyZib3FaHV\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"oJa\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"zoc\",(0,e.jsx)(n.span,{className:\"token string\",children:\"'XSP :CKGUhd?lgCOF$;;DTHZMlvvcmZAm;:iv'\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"MMgO\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Ywbc\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"BLCUd\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),`vZINLIzkuTGZa\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token constant\",children:\"D\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u7ED3\\u8BBA\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BBA\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BBA\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u81F3\\u6B64\\uFF0C\\u6211\\u4EEC\\u642D\\u5EFA\\u4E86\\u4E00\\u4E2A\\u6700\\u7B80\\u5355\\u7684\\u8BED\\u8A00\\u6A21\\u578B\\uFF0C\\u867D\\u7136\\u76EE\\u524D\\u7684\\u7ED3\\u679C\\u5E76\\u4E0D\\u597D\\uFF0C\\u4F46\\u662F\\u63A5\\u4E0B\\u6765\\u7684\\u6587\\u7AE0\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u5F15\\u5165self attention\\u4EE5\\u53CAtransformer\\uFF0C\\u8FD9\\u5C06\\u5927\\u5927\\u63D0\\u5347\\u6A21\\u578B\\u7684\\u6548\\u679C\\uFF0C\\u656C\\u8BF7\\u671F\\u5F85:)\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u53C2\\u8003\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://www.youtube.com/watch?v=kCc8FmEb1nY&list=PLAqhIrjkxbuWI23v9cThsA9GvCAUhRvKZ&index=8\",children:\"video\"}),\"\\uFF0C\",(0,e.jsx)(n.a,{href:\"https://colab.research.google.com/drive/1JMLa53HDuA-i7ZBmqV7ZnA3c_fvtXnx-?usp=sharing\",children:\"Google colab \"}),\"\\uFF0C\",(0,e.jsx)(n.a,{href:\"https://github.com/karpathy/nanoGPT\",children:\"karpathy/nanoGPT\"}),\"\\uFF0C\",(0,e.jsx)(n.a,{href:\"https://github.com/karpathy/ng-video-lecture\",children:\"karpathy/ng-video-lecture\"})]})]})}function d(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(p,{...a})}):p(a)}return w(x);})();\n;return Component;"
    },
    "_id": "blog/AI/gbt-build-fom-scratch-1.md",
    "_raw": {
      "sourceFilePath": "blog/AI/gbt-build-fom-scratch-1.md",
      "sourceFileName": "gbt-build-fom-scratch-1.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/gbt-build-fom-scratch-1"
    },
    "type": "Blog",
    "readingTime": {
      "text": "14 min read",
      "minutes": 13.81,
      "time": 828600,
      "words": 2762
    },
    "slug": "gbt-build-fom-scratch-1",
    "path": "blog/AI/gbt-build-fom-scratch-1",
    "toc": [
      {
        "value": "简介",
        "url": "#简介",
        "depth": 2
      },
      {
        "value": "ChatGPT, Transformers, nanoGPT, Shakespeare",
        "url": "#chatgpt-transformers-nanogpt-shakespeare",
        "depth": 3
      },
      {
        "value": "代码",
        "url": "#代码",
        "depth": 2
      },
      {
        "value": "baseline language modeling, code setup",
        "url": "#baseline-language-modeling-code-setup",
        "depth": 3
      },
      {
        "value": "reading and exploring the data",
        "url": "#reading-and-exploring-the-data",
        "depth": 4
      },
      {
        "value": "tokenization, train/val split",
        "url": "#tokenization-trainval-split",
        "depth": 4
      },
      {
        "value": "data loader: batches of chunks of data",
        "url": "#data-loader-batches-of-chunks-of-data",
        "depth": 4
      },
      {
        "value": "simplest baseline: bigram language model, loss, generation",
        "url": "#simplest-baseline-bigram-language-model-loss-generation",
        "depth": 4
      },
      {
        "value": "training the bigram model",
        "url": "#training-the-bigram-model",
        "depth": 4
      },
      {
        "value": "结论",
        "url": "#结论",
        "depth": 2
      },
      {
        "value": "参考",
        "url": "#参考",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Let's build GPT: from scratch, in code, spelled out (1)",
      "datePublished": "2023-01-20T00:00:00.000Z",
      "dateModified": "2023-01-20T00:00:00.000Z",
      "description": "a shocking turn of events a leaf has fallen from a treat in the local park Witnesses report that the leaf which was previously attached to a branch of",
      "url": "https://zhangjian94cn.github.io/blog/gbt-build-fom-scratch-1"
    }
  },
  {
    "title": "高精度图像分割技术回顾",
    "date": "2023-11-06T00:00:00.000Z",
    "tags": [
      "deep-learning"
    ],
    "draft": false,
    "summary": "回顾高精度图像分割算法发展：从 BASNet 到 U2Net，再到 DIS。探讨 Residual Refine Module 及多尺度融合技术。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 前言\n\n最近回顾了一下之前使用过的高精度图像分割算法，从 BASNet，到 U2Net，再到 2022 年的 DIS。高精度的图像分割技术在计算机视觉领域具有着极为重要的应用。通过准确地分离图像中的不同对象、区域和特征，我们可以实现：\n\n1. **更安全的自动驾驶**：通过将道路、车道线、交通标志和行人精确分离，以帮助车辆导航\n2. **更精确的医疗诊断**：通过将自动化的分割人体器官，可以实现高精度自动化的人体手术\n3. **更佳的社交应用体验**：通过高精度的分割，我们可以实现各种创意效果，如背景虚化、景深效果和图像合成等等\n\n## BASNet\n\n这篇论文的贡献主要有两个：\n\n- 提出了一个基于残差的 Refine 模块（Residual Refine Module）\n- 使用了多层级的 loss，分别是 pixel，patch 和 map 级别的 BCE，SSIM，IOU loss\n\n### predict-refine 网络架构\n\nBASNet 是一个类似 U-Net 的 encoder-decoder 的网络架构，其和传统分割网络的区别在于：增加了一个 refine 模块。refine 模块的输入是：encoder 的特征，其学习的目标是 coarse predict 网络与 ground truth 的残差。\n\n### 多层级的混合 loss\n\n- **BCE loss**：这是一个针对像素进行二分类的 loss\n- **Structural SIMilarity (SSIM)**：结构相似性的度量，用于衡量两张图的相似度，特别关注边缘效果\n- **IOU**：对整个图像的分割正确率的一种度量\n\n## U2Net\n\nU2Net 的主要贡献有两个：\n\n- 提出了一个能融合多尺度信息的 RSU（ReSidual U-blocks）结构\n- 基于 RSU 结构的新的网络架构\n\n### ReSidual U-blocks\n\nRSU 的结构简单来说就是：残差的跨接维度是以一个 UNet 为单位的。换句话说 ResNet 结构中的 weight layer 被替换成了一个 UNet，这样做的优势在于 U-block 的输出可以认为是带有多尺度信息的，从而增强了模型的能力。\n\n### 网络架构\n\n整体的网络架构是在原来的 RSU 模块的基础上再套一个 UNet 的结构，这也是为什么叫 U² 的原因。对于每一层的特征输出，最终都会被 concate 到一起，得到一个融合之后的结果。\n\n需要注意的是，在 loss 计算时，不仅考虑了最终的 S_fuse，其每一个特征层的输出都会被加入到 loss 计算中去。\n\n## Highly Accurate Dichotomous Image Segmentation（DIS）\n\n这篇工作很大的贡献在于：提供了一个高精度的分割数据集。尤其是对于物体细节这块，标注的非常精准，此类数据成本往往很高，能够公开出来是非常难得的。\n\n相对于 U2Net，效果上也有了很大的提升。除了数据集的贡献之外，这篇工作提出了：\n\n- 一种新的基于中间监督的基线 IS-Net，它通过强制高维特征的直接同步来减少过拟合\n- 人工矫正量（HCE）指标\n\n### IS-Net 网络架构\n\nIS-Net 的网络架构基本上是沿用了 U2Net 的结构，区别在于其对多尺度下的特征进行直接的监督。如何做到这一点呢？其将训练分成了两个阶段：\n\n1. 第一阶段基于 ground truth 训练一个编码器，其包含了多尺度下对应的**特征 ground truth**\n2. 第二阶段利用这些特征 ground truth 去训练原来的 U2Net 结构\n\n需要注意的是，在推理过程中，我们只需要主干部分，特征监督模块只参与训练。\n\n## 结语\n\n通过本文，我们简单回顾了高精度图像分割相关工作，其在计算机视觉领域具有着广泛的应用前景。这些算法的不断发展和改进使我们能够更准确地分离图像中的不同对象、区域和特征。\n\n## 参考\n\n- [BASNet](https://github.com/xuebinqin/BASNet)\n- [U-2-Net](https://github.com/xuebinqin/U-2-Net)\n- [DIS](https://github.com/xuebinqin/DIS)\n",
      "code": "var Component=(()=>{var u=Object.create;var c=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var g=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),S=(i,e)=>{for(var r in e)c(i,r,{get:e[r],enumerable:!0})},d=(i,e,r,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let l of N(e))!f.call(i,l)&&l!==r&&c(i,l,{get:()=>e[l],enumerable:!(a=m(e,l))||a.enumerable});return i};var I=(i,e,r)=>(r=i!=null?u(p(i)):{},d(e||!i||!i.__esModule?c(r,\"default\",{value:i,enumerable:!0}):r,i)),b=i=>d(c({},\"__esModule\",{value:!0}),i);var h=g((R,t)=>{t.exports=_jsx_runtime});var U={};S(U,{default:()=>o,frontmatter:()=>x});var n=I(h()),x={title:\"\\u9AD8\\u7CBE\\u5EA6\\u56FE\\u50CF\\u5206\\u5272\\u6280\\u672F\\u56DE\\u987E\",date:\"2023-11-06\",tags:[\"deep-learning\"],draft:!1,summary:\"\\u56DE\\u987E\\u9AD8\\u7CBE\\u5EA6\\u56FE\\u50CF\\u5206\\u5272\\u7B97\\u6CD5\\u53D1\\u5C55\\uFF1A\\u4ECE BASNet \\u5230 U2Net\\uFF0C\\u518D\\u5230 DIS\\u3002\\u63A2\\u8BA8 Residual Refine Module \\u53CA\\u591A\\u5C3A\\u5EA6\\u878D\\u5408\\u6280\\u672F\\u3002\",authors:[\"default\"]};function s(i){let e={a:\"a\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"\\u524D\\u8A00\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u524D\\u8A00\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u8FD1\\u56DE\\u987E\\u4E86\\u4E00\\u4E0B\\u4E4B\\u524D\\u4F7F\\u7528\\u8FC7\\u7684\\u9AD8\\u7CBE\\u5EA6\\u56FE\\u50CF\\u5206\\u5272\\u7B97\\u6CD5\\uFF0C\\u4ECE BASNet\\uFF0C\\u5230 U2Net\\uFF0C\\u518D\\u5230 2022 \\u5E74\\u7684 DIS\\u3002\\u9AD8\\u7CBE\\u5EA6\\u7684\\u56FE\\u50CF\\u5206\\u5272\\u6280\\u672F\\u5728\\u8BA1\\u7B97\\u673A\\u89C6\\u89C9\\u9886\\u57DF\\u5177\\u6709\\u7740\\u6781\\u4E3A\\u91CD\\u8981\\u7684\\u5E94\\u7528\\u3002\\u901A\\u8FC7\\u51C6\\u786E\\u5730\\u5206\\u79BB\\u56FE\\u50CF\\u4E2D\\u7684\\u4E0D\\u540C\\u5BF9\\u8C61\\u3001\\u533A\\u57DF\\u548C\\u7279\\u5F81\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u66F4\\u5B89\\u5168\\u7684\\u81EA\\u52A8\\u9A7E\\u9A76\"}),\"\\uFF1A\\u901A\\u8FC7\\u5C06\\u9053\\u8DEF\\u3001\\u8F66\\u9053\\u7EBF\\u3001\\u4EA4\\u901A\\u6807\\u5FD7\\u548C\\u884C\\u4EBA\\u7CBE\\u786E\\u5206\\u79BB\\uFF0C\\u4EE5\\u5E2E\\u52A9\\u8F66\\u8F86\\u5BFC\\u822A\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u66F4\\u7CBE\\u786E\\u7684\\u533B\\u7597\\u8BCA\\u65AD\"}),\"\\uFF1A\\u901A\\u8FC7\\u5C06\\u81EA\\u52A8\\u5316\\u7684\\u5206\\u5272\\u4EBA\\u4F53\\u5668\\u5B98\\uFF0C\\u53EF\\u4EE5\\u5B9E\\u73B0\\u9AD8\\u7CBE\\u5EA6\\u81EA\\u52A8\\u5316\\u7684\\u4EBA\\u4F53\\u624B\\u672F\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u66F4\\u4F73\\u7684\\u793E\\u4EA4\\u5E94\\u7528\\u4F53\\u9A8C\"}),\"\\uFF1A\\u901A\\u8FC7\\u9AD8\\u7CBE\\u5EA6\\u7684\\u5206\\u5272\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5B9E\\u73B0\\u5404\\u79CD\\u521B\\u610F\\u6548\\u679C\\uFF0C\\u5982\\u80CC\\u666F\\u865A\\u5316\\u3001\\u666F\\u6DF1\\u6548\\u679C\\u548C\\u56FE\\u50CF\\u5408\\u6210\\u7B49\\u7B49\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"basnet\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#basnet\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"BASNet\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u8BBA\\u6587\\u7684\\u8D21\\u732E\\u4E3B\\u8981\\u6709\\u4E24\\u4E2A\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u63D0\\u51FA\\u4E86\\u4E00\\u4E2A\\u57FA\\u4E8E\\u6B8B\\u5DEE\\u7684 Refine \\u6A21\\u5757\\uFF08Residual Refine Module\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528\\u4E86\\u591A\\u5C42\\u7EA7\\u7684 loss\\uFF0C\\u5206\\u522B\\u662F pixel\\uFF0Cpatch \\u548C map \\u7EA7\\u522B\\u7684 BCE\\uFF0CSSIM\\uFF0CIOU loss\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"predict-refine-\\u7F51\\u7EDC\\u67B6\\u6784\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#predict-refine-\\u7F51\\u7EDC\\u67B6\\u6784\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"predict-refine \\u7F51\\u7EDC\\u67B6\\u6784\"]}),`\n`,(0,n.jsx)(e.p,{children:\"BASNet \\u662F\\u4E00\\u4E2A\\u7C7B\\u4F3C U-Net \\u7684 encoder-decoder \\u7684\\u7F51\\u7EDC\\u67B6\\u6784\\uFF0C\\u5176\\u548C\\u4F20\\u7EDF\\u5206\\u5272\\u7F51\\u7EDC\\u7684\\u533A\\u522B\\u5728\\u4E8E\\uFF1A\\u589E\\u52A0\\u4E86\\u4E00\\u4E2A refine \\u6A21\\u5757\\u3002refine \\u6A21\\u5757\\u7684\\u8F93\\u5165\\u662F\\uFF1Aencoder \\u7684\\u7279\\u5F81\\uFF0C\\u5176\\u5B66\\u4E60\\u7684\\u76EE\\u6807\\u662F coarse predict \\u7F51\\u7EDC\\u4E0E ground truth \\u7684\\u6B8B\\u5DEE\\u3002\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u591A\\u5C42\\u7EA7\\u7684\\u6DF7\\u5408-loss\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u591A\\u5C42\\u7EA7\\u7684\\u6DF7\\u5408-loss\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u591A\\u5C42\\u7EA7\\u7684\\u6DF7\\u5408 loss\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"BCE loss\"}),\"\\uFF1A\\u8FD9\\u662F\\u4E00\\u4E2A\\u9488\\u5BF9\\u50CF\\u7D20\\u8FDB\\u884C\\u4E8C\\u5206\\u7C7B\\u7684 loss\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Structural SIMilarity (SSIM)\"}),\"\\uFF1A\\u7ED3\\u6784\\u76F8\\u4F3C\\u6027\\u7684\\u5EA6\\u91CF\\uFF0C\\u7528\\u4E8E\\u8861\\u91CF\\u4E24\\u5F20\\u56FE\\u7684\\u76F8\\u4F3C\\u5EA6\\uFF0C\\u7279\\u522B\\u5173\\u6CE8\\u8FB9\\u7F18\\u6548\\u679C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"IOU\"}),\"\\uFF1A\\u5BF9\\u6574\\u4E2A\\u56FE\\u50CF\\u7684\\u5206\\u5272\\u6B63\\u786E\\u7387\\u7684\\u4E00\\u79CD\\u5EA6\\u91CF\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"u2net\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#u2net\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"U2Net\"]}),`\n`,(0,n.jsx)(e.p,{children:\"U2Net \\u7684\\u4E3B\\u8981\\u8D21\\u732E\\u6709\\u4E24\\u4E2A\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u63D0\\u51FA\\u4E86\\u4E00\\u4E2A\\u80FD\\u878D\\u5408\\u591A\\u5C3A\\u5EA6\\u4FE1\\u606F\\u7684 RSU\\uFF08ReSidual U-blocks\\uFF09\\u7ED3\\u6784\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u57FA\\u4E8E RSU \\u7ED3\\u6784\\u7684\\u65B0\\u7684\\u7F51\\u7EDC\\u67B6\\u6784\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"residual-u-blocks\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#residual-u-blocks\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"ReSidual U-blocks\"]}),`\n`,(0,n.jsx)(e.p,{children:\"RSU \\u7684\\u7ED3\\u6784\\u7B80\\u5355\\u6765\\u8BF4\\u5C31\\u662F\\uFF1A\\u6B8B\\u5DEE\\u7684\\u8DE8\\u63A5\\u7EF4\\u5EA6\\u662F\\u4EE5\\u4E00\\u4E2A UNet \\u4E3A\\u5355\\u4F4D\\u7684\\u3002\\u6362\\u53E5\\u8BDD\\u8BF4 ResNet \\u7ED3\\u6784\\u4E2D\\u7684 weight layer \\u88AB\\u66FF\\u6362\\u6210\\u4E86\\u4E00\\u4E2A UNet\\uFF0C\\u8FD9\\u6837\\u505A\\u7684\\u4F18\\u52BF\\u5728\\u4E8E U-block \\u7684\\u8F93\\u51FA\\u53EF\\u4EE5\\u8BA4\\u4E3A\\u662F\\u5E26\\u6709\\u591A\\u5C3A\\u5EA6\\u4FE1\\u606F\\u7684\\uFF0C\\u4ECE\\u800C\\u589E\\u5F3A\\u4E86\\u6A21\\u578B\\u7684\\u80FD\\u529B\\u3002\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u7F51\\u7EDC\\u67B6\\u6784\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7F51\\u7EDC\\u67B6\\u6784\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F51\\u7EDC\\u67B6\\u6784\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6574\\u4F53\\u7684\\u7F51\\u7EDC\\u67B6\\u6784\\u662F\\u5728\\u539F\\u6765\\u7684 RSU \\u6A21\\u5757\\u7684\\u57FA\\u7840\\u4E0A\\u518D\\u5957\\u4E00\\u4E2A UNet \\u7684\\u7ED3\\u6784\\uFF0C\\u8FD9\\u4E5F\\u662F\\u4E3A\\u4EC0\\u4E48\\u53EB U\\xB2 \\u7684\\u539F\\u56E0\\u3002\\u5BF9\\u4E8E\\u6BCF\\u4E00\\u5C42\\u7684\\u7279\\u5F81\\u8F93\\u51FA\\uFF0C\\u6700\\u7EC8\\u90FD\\u4F1A\\u88AB concate \\u5230\\u4E00\\u8D77\\uFF0C\\u5F97\\u5230\\u4E00\\u4E2A\\u878D\\u5408\\u4E4B\\u540E\\u7684\\u7ED3\\u679C\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u5728 loss \\u8BA1\\u7B97\\u65F6\\uFF0C\\u4E0D\\u4EC5\\u8003\\u8651\\u4E86\\u6700\\u7EC8\\u7684 S_fuse\\uFF0C\\u5176\\u6BCF\\u4E00\\u4E2A\\u7279\\u5F81\\u5C42\\u7684\\u8F93\\u51FA\\u90FD\\u4F1A\\u88AB\\u52A0\\u5165\\u5230 loss \\u8BA1\\u7B97\\u4E2D\\u53BB\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"highly-accurate-dichotomous-image-segmentationdis\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#highly-accurate-dichotomous-image-segmentationdis\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Highly Accurate Dichotomous Image Segmentation\\uFF08DIS\\uFF09\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD9\\u7BC7\\u5DE5\\u4F5C\\u5F88\\u5927\\u7684\\u8D21\\u732E\\u5728\\u4E8E\\uFF1A\\u63D0\\u4F9B\\u4E86\\u4E00\\u4E2A\\u9AD8\\u7CBE\\u5EA6\\u7684\\u5206\\u5272\\u6570\\u636E\\u96C6\\u3002\\u5C24\\u5176\\u662F\\u5BF9\\u4E8E\\u7269\\u4F53\\u7EC6\\u8282\\u8FD9\\u5757\\uFF0C\\u6807\\u6CE8\\u7684\\u975E\\u5E38\\u7CBE\\u51C6\\uFF0C\\u6B64\\u7C7B\\u6570\\u636E\\u6210\\u672C\\u5F80\\u5F80\\u5F88\\u9AD8\\uFF0C\\u80FD\\u591F\\u516C\\u5F00\\u51FA\\u6765\\u662F\\u975E\\u5E38\\u96BE\\u5F97\\u7684\\u3002\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\u76F8\\u5BF9\\u4E8E U2Net\\uFF0C\\u6548\\u679C\\u4E0A\\u4E5F\\u6709\\u4E86\\u5F88\\u5927\\u7684\\u63D0\\u5347\\u3002\\u9664\\u4E86\\u6570\\u636E\\u96C6\\u7684\\u8D21\\u732E\\u4E4B\\u5916\\uFF0C\\u8FD9\\u7BC7\\u5DE5\\u4F5C\\u63D0\\u51FA\\u4E86\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u4E00\\u79CD\\u65B0\\u7684\\u57FA\\u4E8E\\u4E2D\\u95F4\\u76D1\\u7763\\u7684\\u57FA\\u7EBF IS-Net\\uFF0C\\u5B83\\u901A\\u8FC7\\u5F3A\\u5236\\u9AD8\\u7EF4\\u7279\\u5F81\\u7684\\u76F4\\u63A5\\u540C\\u6B65\\u6765\\u51CF\\u5C11\\u8FC7\\u62DF\\u5408\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4EBA\\u5DE5\\u77EB\\u6B63\\u91CF\\uFF08HCE\\uFF09\\u6307\\u6807\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"is-net-\\u7F51\\u7EDC\\u67B6\\u6784\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#is-net-\\u7F51\\u7EDC\\u67B6\\u6784\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"IS-Net \\u7F51\\u7EDC\\u67B6\\u6784\"]}),`\n`,(0,n.jsx)(e.p,{children:\"IS-Net \\u7684\\u7F51\\u7EDC\\u67B6\\u6784\\u57FA\\u672C\\u4E0A\\u662F\\u6CBF\\u7528\\u4E86 U2Net \\u7684\\u7ED3\\u6784\\uFF0C\\u533A\\u522B\\u5728\\u4E8E\\u5176\\u5BF9\\u591A\\u5C3A\\u5EA6\\u4E0B\\u7684\\u7279\\u5F81\\u8FDB\\u884C\\u76F4\\u63A5\\u7684\\u76D1\\u7763\\u3002\\u5982\\u4F55\\u505A\\u5230\\u8FD9\\u4E00\\u70B9\\u5462\\uFF1F\\u5176\\u5C06\\u8BAD\\u7EC3\\u5206\\u6210\\u4E86\\u4E24\\u4E2A\\u9636\\u6BB5\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u7B2C\\u4E00\\u9636\\u6BB5\\u57FA\\u4E8E ground truth \\u8BAD\\u7EC3\\u4E00\\u4E2A\\u7F16\\u7801\\u5668\\uFF0C\\u5176\\u5305\\u542B\\u4E86\\u591A\\u5C3A\\u5EA6\\u4E0B\\u5BF9\\u5E94\\u7684\",(0,n.jsx)(e.strong,{children:\"\\u7279\\u5F81 ground truth\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u7B2C\\u4E8C\\u9636\\u6BB5\\u5229\\u7528\\u8FD9\\u4E9B\\u7279\\u5F81 ground truth \\u53BB\\u8BAD\\u7EC3\\u539F\\u6765\\u7684 U2Net \\u7ED3\\u6784\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u5728\\u63A8\\u7406\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EA\\u9700\\u8981\\u4E3B\\u5E72\\u90E8\\u5206\\uFF0C\\u7279\\u5F81\\u76D1\\u7763\\u6A21\\u5757\\u53EA\\u53C2\\u4E0E\\u8BAD\\u7EC3\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7\\u672C\\u6587\\uFF0C\\u6211\\u4EEC\\u7B80\\u5355\\u56DE\\u987E\\u4E86\\u9AD8\\u7CBE\\u5EA6\\u56FE\\u50CF\\u5206\\u5272\\u76F8\\u5173\\u5DE5\\u4F5C\\uFF0C\\u5176\\u5728\\u8BA1\\u7B97\\u673A\\u89C6\\u89C9\\u9886\\u57DF\\u5177\\u6709\\u7740\\u5E7F\\u6CDB\\u7684\\u5E94\\u7528\\u524D\\u666F\\u3002\\u8FD9\\u4E9B\\u7B97\\u6CD5\\u7684\\u4E0D\\u65AD\\u53D1\\u5C55\\u548C\\u6539\\u8FDB\\u4F7F\\u6211\\u4EEC\\u80FD\\u591F\\u66F4\\u51C6\\u786E\\u5730\\u5206\\u79BB\\u56FE\\u50CF\\u4E2D\\u7684\\u4E0D\\u540C\\u5BF9\\u8C61\\u3001\\u533A\\u57DF\\u548C\\u7279\\u5F81\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u53C2\\u8003\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/xuebinqin/BASNet\",children:\"BASNet\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/xuebinqin/U-2-Net\",children:\"U-2-Net\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/xuebinqin/DIS\",children:\"DIS\"})}),`\n`]})]})}function o(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsx)(e,{...i,children:(0,n.jsx)(s,{...i})}):s(i)}return b(U);})();\n;return Component;"
    },
    "_id": "blog/AI/high-accuracy-segmentation.md",
    "_raw": {
      "sourceFilePath": "blog/AI/high-accuracy-segmentation.md",
      "sourceFileName": "high-accuracy-segmentation.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/high-accuracy-segmentation"
    },
    "type": "Blog",
    "readingTime": {
      "text": "6 min read",
      "minutes": 5.06,
      "time": 303600,
      "words": 1012
    },
    "slug": "high-accuracy-segmentation",
    "path": "blog/AI/high-accuracy-segmentation",
    "toc": [
      {
        "value": "前言",
        "url": "#前言",
        "depth": 2
      },
      {
        "value": "BASNet",
        "url": "#basnet",
        "depth": 2
      },
      {
        "value": "predict-refine 网络架构",
        "url": "#predict-refine-网络架构",
        "depth": 3
      },
      {
        "value": "多层级的混合 loss",
        "url": "#多层级的混合-loss",
        "depth": 3
      },
      {
        "value": "U2Net",
        "url": "#u2net",
        "depth": 2
      },
      {
        "value": "ReSidual U-blocks",
        "url": "#residual-u-blocks",
        "depth": 3
      },
      {
        "value": "网络架构",
        "url": "#网络架构",
        "depth": 3
      },
      {
        "value": "Highly Accurate Dichotomous Image Segmentation（DIS）",
        "url": "#highly-accurate-dichotomous-image-segmentationdis",
        "depth": 2
      },
      {
        "value": "IS-Net 网络架构",
        "url": "#is-net-网络架构",
        "depth": 3
      },
      {
        "value": "结语",
        "url": "#结语",
        "depth": 2
      },
      {
        "value": "参考",
        "url": "#参考",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "高精度图像分割技术回顾",
      "datePublished": "2023-11-06T00:00:00.000Z",
      "dateModified": "2023-11-06T00:00:00.000Z",
      "description": "回顾高精度图像分割算法发展：从 BASNet 到 U2Net，再到 DIS。探讨 Residual Refine Module 及多尺度融合技术。",
      "url": "https://zhangjian94cn.github.io/blog/high-accuracy-segmentation"
    }
  },
  {
    "title": "基于 AutoGen 的数智助手问答架构设计",
    "date": "2025-02-05T00:00:00.000Z",
    "tags": [
      "LLM",
      "deep-learning"
    ],
    "draft": false,
    "summary": "深入探讨基于 AutoGen 框架的多智能体对话系统架构设计，包括意图理解、任务规划及 Deepseek R1 融合方案。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 🔍 整体架构设计\n\n> 💡 我们采用分层模块化的设计理念，构建了一个灵活可扩展的多智能体系统。这种设计不仅确保了系统的高可用性，也为未来的功能扩展提供了良好的基础。\n\n基于多智能体的架构设计采用分层模块化方案，主要包含以下核心组件：\n\n### 顶层控制模块\n\n1. **意图澄清Agent**：\n   - 采用规则模板+相似度匹配处理模糊问题，阈值低于0.8时触发澄清\n   - 结合用户画像和历史会话进行意图预测，准确率超过95%才确认\n   - 使用主动问答策略收集缺失信息，如套餐类型、使用场景等\n   - 进行初步意图分类，支持查询、办理、咨询等类型\n\n2. **意图理解Agent**：\n   - 使用NER（命名实体识别）技术识别业务实体（套餐名称、手机号码、时间等）\n   - 基于预定义规则模板进行意图匹配和分类\n   - 结合实体识别和规则匹配结果进行综合分析\n   - 输出标准化的意图理解结果（实体、类型、置信度）\n\n3. **任务规划Agent**：\n   - 基于DAG图构建任务执行流程，将复杂任务拆解为原子任务节点\n   - 使用优先级队列管理任务调度，支持动态调整执行顺序\n   - 采用状态机管理任务生命周期，包含待执行、执行中、完成、失败等状态\n   - 内置任务重试和异常处理机制，确保任务执行的可靠性\n\n### 业务执行模块\n\n系统根据不同业务场景划分为多个并行的业务处理单元，每个单元包含两层智能体：\n\n1. **意图识别Agent**：\n   - 基于澄清结果精确识别用户意图\n   - 基于上下文和历史交互智能推断用户真实意图\n   - 适配多个助手的意图识别，实现精准分发\n\n2. **业务逻辑Agent**：\n   - 执行具体的业务操作：处理用户查询、执行业务办理、提供智能推荐\n   - 负责与底层服务交互：调用业务接口、访问数据库、对接第三方系统\n   - 处理业务规则校验：权限验证、规则约束、异常处理\n\n## 🛠️ 智能体框架选型\n\n> 💡 框架选择关系到整个项目的成败，我们进行了深入的调研和分析。\n\n### 调研方法与过程\n\n我认为在评估智能体框架时，我们应该采取更加务实的调研方式。我们首先对市面上常见的智能体框架做了全面摸底，重点看了各个框架的使用情况、社区活跃度，以及实际落地案例。除此之外，我们也深入研究了每个框架的技术特点、性能表现和扩展能力。\n\n从业务角度来看，有几个关键点特别重要：首先是要能扛住大流量，其次是要能适应我们多样化的业务场景，最后是要保证稳定性和安全性。\n\n### 为什么选择 AutoGen\n\n经过反复比较和讨论，我们觉得 AutoGen 是最适合的选择：\n\n- **灵活的 API 设计**：工具链也很完善，对快速开发业务很有帮助\n- **多语言支持**：支持多种编程语言，插件机制也很强大\n- **微软背书**：有微软在背后支持，框架的未来发展更有保障\n\n### 框架对比\n\n| 框架名称             | 描述                       | 优势                                |\n| -------------------- | -------------------------- | ----------------------------------- |\n| **AutoGen**          | 微软开源的新一代智能体框架 | 多层次API、强大插件系统、跨语言支持 |\n| **LangChain Agents** | 模块化的大语言模型应用框架 | 高度模块化、生态完善、社区活跃      |\n| **Qwen-Agent**       | 通义千问开源的智能体框架   | 中文理解能力强、工具调用丰富        |\n| **BabyAGI**          | 轻量级自主智能体框架       | 轻量、简单、低门槛                  |\n\n## 🧠 Deepseek R1 融合\n\n为了进一步提升系统的语义理解和意图解析能力，我们计划引入 Deepseek R1 模型，并将其与现有的多智能体架构深度融合。\n\n### 集成方案：基于深度思考过程的认知迭代\n\n在原有意图澄清与理解模块的基础上，我们进一步提取 Deepseek R1 模型内部的思考过程（chain-of-thought），并在此过程中调用知识库进行信息补充与反馈。\n\n整体流程如下：\n\n1. **初步解析与思考**：调用 Deepseek R1 模型进行初步语义解析，并提取模型内部生成的思考过程\n2. **知识库查询**：利用初步生成的思考过程作为查询条件，获取相关的背景知识和数据补充\n3. **融合与迭代优化**：将知识库返回的信息与原始思考过程进行融合，经过多轮迭代逐步收敛\n\n**示例代码：**\n\n```python\ndef deepseek_iterative_analysis(user_input, max_iterations=3):\n    # 第一步：调用 Deepseek R1 生成初步解析结果和内部思考过程\n    initial_result = deepseek_r1_api(user_input, mode=\"chain-of-thought\")\n\n    combined_input = initial_result[\"chain_of_thought\"]\n    for i in range(max_iterations):\n        # 1. 主动查询知识库获取相关信息\n        kb_info = query_knowledge_base(combined_input)\n\n        # 2. 让知识库根据当前思考状态推送补充信息\n        kb_suggestions = knowledge_base_suggestions(combined_input)\n\n        # 3. 合并两种知识来源\n        enriched_knowledge = merge_knowledge(kb_info, kb_suggestions)\n\n        # 迭代优化\n        refined_result = deepseek_r1_api(input_for_refinement, mode=\"iterative-refinement\")\n\n        if has_converged(combined_input):\n            break\n\n    return {\"final_intent\": refined_result.get(\"result\")}\n```\n\n### 场景案例：套餐推荐优化\n\n> 🔍 用户咨询：\"我想给父母换个套餐，他们每月通话时长200分钟左右，偶尔刷视频，主要是和家人视频通话，预算150元以内。\"\n\n**传统向量检索模式**：\n\n- 提取关键词：\"通话时长200分钟\"、\"视频通话\"、\"150元\"\n- 向量检索匹配相似套餐\n- 缺乏场景理解，无法理解\"父母\"这类用户特征\n\n**Deepseek R1 思维链模式**：\n\n1. **用户画像解析**：老年群体(父母)、以通话为主、预算敏感\n2. **需求分层**：核心需求(通话约200分钟)、次要需求(视频通话流量)、价格上限(150元)\n3. **套餐匹配逻辑**：优先考虑老年专属套餐、通话时长满足需求\n4. **个性化建议**：推荐开通亲情网、建议设置流量提醒\n\n### 融合优势与效果展望\n\n- **准确性提升**：深层语义解析有助于显著提高意图和实体识别的准确率\n- **决策支持**：融合后的解析结果可为任务规划和后续处理提供更可靠的语义信息\n- **模块灵活性**：无论是作为现有 Agent 的增强，还是独立智能体存在，Deepseek R1 模型均可以根据业务需求灵活调度\n\n未来，我们将持续监控 Deepseek R1 模型在实际场景下的表现，并根据用户反馈不断优化融合策略。\n",
      "code": "var Component=(()=>{var p=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),_=(a,n)=>{for(var l in n)i(a,l,{get:n[l],enumerable:!0})},r=(a,n,l,s)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==l&&i(a,c,{get:()=>n[c],enumerable:!(s=m(n,c))||s.enumerable});return a};var b=(a,n,l)=>(l=a!=null?p(N(a)):{},r(n||!a||!a.__esModule?i(l,\"default\",{value:a,enumerable:!0}):l,a)),f=a=>r(i({},\"__esModule\",{value:!0}),a);var t=g((I,d)=>{d.exports=_jsx_runtime});var A={};_(A,{default:()=>o,frontmatter:()=>x});var e=b(t()),x={title:\"\\u57FA\\u4E8E AutoGen \\u7684\\u6570\\u667A\\u52A9\\u624B\\u95EE\\u7B54\\u67B6\\u6784\\u8BBE\\u8BA1\",date:\"2025-02-05\",tags:[\"LLM\",\"deep-learning\"],draft:!1,summary:\"\\u6DF1\\u5165\\u63A2\\u8BA8\\u57FA\\u4E8E AutoGen \\u6846\\u67B6\\u7684\\u591A\\u667A\\u80FD\\u4F53\\u5BF9\\u8BDD\\u7CFB\\u7EDF\\u67B6\\u6784\\u8BBE\\u8BA1\\uFF0C\\u5305\\u62EC\\u610F\\u56FE\\u7406\\u89E3\\u3001\\u4EFB\\u52A1\\u89C4\\u5212\\u53CA Deepseek R1 \\u878D\\u5408\\u65B9\\u6848\\u3002\",authors:[\"default\"]};function h(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"-\\u6574\\u4F53\\u67B6\\u6784\\u8BBE\\u8BA1\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#-\\u6574\\u4F53\\u67B6\\u6784\\u8BBE\\u8BA1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u{1F50D} \\u6574\\u4F53\\u67B6\\u6784\\u8BBE\\u8BA1\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u{1F4A1} \\u6211\\u4EEC\\u91C7\\u7528\\u5206\\u5C42\\u6A21\\u5757\\u5316\\u7684\\u8BBE\\u8BA1\\u7406\\u5FF5\\uFF0C\\u6784\\u5EFA\\u4E86\\u4E00\\u4E2A\\u7075\\u6D3B\\u53EF\\u6269\\u5C55\\u7684\\u591A\\u667A\\u80FD\\u4F53\\u7CFB\\u7EDF\\u3002\\u8FD9\\u79CD\\u8BBE\\u8BA1\\u4E0D\\u4EC5\\u786E\\u4FDD\\u4E86\\u7CFB\\u7EDF\\u7684\\u9AD8\\u53EF\\u7528\\u6027\\uFF0C\\u4E5F\\u4E3A\\u672A\\u6765\\u7684\\u529F\\u80FD\\u6269\\u5C55\\u63D0\\u4F9B\\u4E86\\u826F\\u597D\\u7684\\u57FA\\u7840\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u57FA\\u4E8E\\u591A\\u667A\\u80FD\\u4F53\\u7684\\u67B6\\u6784\\u8BBE\\u8BA1\\u91C7\\u7528\\u5206\\u5C42\\u6A21\\u5757\\u5316\\u65B9\\u6848\\uFF0C\\u4E3B\\u8981\\u5305\\u542B\\u4EE5\\u4E0B\\u6838\\u5FC3\\u7EC4\\u4EF6\\uFF1A\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u9876\\u5C42\\u63A7\\u5236\\u6A21\\u5757\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u9876\\u5C42\\u63A7\\u5236\\u6A21\\u5757\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u9876\\u5C42\\u63A7\\u5236\\u6A21\\u5757\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u610F\\u56FE\\u6F84\\u6E05Agent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u91C7\\u7528\\u89C4\\u5219\\u6A21\\u677F+\\u76F8\\u4F3C\\u5EA6\\u5339\\u914D\\u5904\\u7406\\u6A21\\u7CCA\\u95EE\\u9898\\uFF0C\\u9608\\u503C\\u4F4E\\u4E8E0.8\\u65F6\\u89E6\\u53D1\\u6F84\\u6E05\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u7ED3\\u5408\\u7528\\u6237\\u753B\\u50CF\\u548C\\u5386\\u53F2\\u4F1A\\u8BDD\\u8FDB\\u884C\\u610F\\u56FE\\u9884\\u6D4B\\uFF0C\\u51C6\\u786E\\u7387\\u8D85\\u8FC795%\\u624D\\u786E\\u8BA4\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528\\u4E3B\\u52A8\\u95EE\\u7B54\\u7B56\\u7565\\u6536\\u96C6\\u7F3A\\u5931\\u4FE1\\u606F\\uFF0C\\u5982\\u5957\\u9910\\u7C7B\\u578B\\u3001\\u4F7F\\u7528\\u573A\\u666F\\u7B49\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8FDB\\u884C\\u521D\\u6B65\\u610F\\u56FE\\u5206\\u7C7B\\uFF0C\\u652F\\u6301\\u67E5\\u8BE2\\u3001\\u529E\\u7406\\u3001\\u54A8\\u8BE2\\u7B49\\u7C7B\\u578B\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u610F\\u56FE\\u7406\\u89E3Agent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528NER\\uFF08\\u547D\\u540D\\u5B9E\\u4F53\\u8BC6\\u522B\\uFF09\\u6280\\u672F\\u8BC6\\u522B\\u4E1A\\u52A1\\u5B9E\\u4F53\\uFF08\\u5957\\u9910\\u540D\\u79F0\\u3001\\u624B\\u673A\\u53F7\\u7801\\u3001\\u65F6\\u95F4\\u7B49\\uFF09\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u9884\\u5B9A\\u4E49\\u89C4\\u5219\\u6A21\\u677F\\u8FDB\\u884C\\u610F\\u56FE\\u5339\\u914D\\u548C\\u5206\\u7C7B\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u7ED3\\u5408\\u5B9E\\u4F53\\u8BC6\\u522B\\u548C\\u89C4\\u5219\\u5339\\u914D\\u7ED3\\u679C\\u8FDB\\u884C\\u7EFC\\u5408\\u5206\\u6790\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8F93\\u51FA\\u6807\\u51C6\\u5316\\u7684\\u610F\\u56FE\\u7406\\u89E3\\u7ED3\\u679C\\uFF08\\u5B9E\\u4F53\\u3001\\u7C7B\\u578B\\u3001\\u7F6E\\u4FE1\\u5EA6\\uFF09\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4EFB\\u52A1\\u89C4\\u5212Agent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u57FA\\u4E8EDAG\\u56FE\\u6784\\u5EFA\\u4EFB\\u52A1\\u6267\\u884C\\u6D41\\u7A0B\\uFF0C\\u5C06\\u590D\\u6742\\u4EFB\\u52A1\\u62C6\\u89E3\\u4E3A\\u539F\\u5B50\\u4EFB\\u52A1\\u8282\\u70B9\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4F7F\\u7528\\u4F18\\u5148\\u7EA7\\u961F\\u5217\\u7BA1\\u7406\\u4EFB\\u52A1\\u8C03\\u5EA6\\uFF0C\\u652F\\u6301\\u52A8\\u6001\\u8C03\\u6574\\u6267\\u884C\\u987A\\u5E8F\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u91C7\\u7528\\u72B6\\u6001\\u673A\\u7BA1\\u7406\\u4EFB\\u52A1\\u751F\\u547D\\u5468\\u671F\\uFF0C\\u5305\\u542B\\u5F85\\u6267\\u884C\\u3001\\u6267\\u884C\\u4E2D\\u3001\\u5B8C\\u6210\\u3001\\u5931\\u8D25\\u7B49\\u72B6\\u6001\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5185\\u7F6E\\u4EFB\\u52A1\\u91CD\\u8BD5\\u548C\\u5F02\\u5E38\\u5904\\u7406\\u673A\\u5236\\uFF0C\\u786E\\u4FDD\\u4EFB\\u52A1\\u6267\\u884C\\u7684\\u53EF\\u9760\\u6027\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u4E1A\\u52A1\\u6267\\u884C\\u6A21\\u5757\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E1A\\u52A1\\u6267\\u884C\\u6A21\\u5757\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E1A\\u52A1\\u6267\\u884C\\u6A21\\u5757\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7CFB\\u7EDF\\u6839\\u636E\\u4E0D\\u540C\\u4E1A\\u52A1\\u573A\\u666F\\u5212\\u5206\\u4E3A\\u591A\\u4E2A\\u5E76\\u884C\\u7684\\u4E1A\\u52A1\\u5904\\u7406\\u5355\\u5143\\uFF0C\\u6BCF\\u4E2A\\u5355\\u5143\\u5305\\u542B\\u4E24\\u5C42\\u667A\\u80FD\\u4F53\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u610F\\u56FE\\u8BC6\\u522BAgent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u6F84\\u6E05\\u7ED3\\u679C\\u7CBE\\u786E\\u8BC6\\u522B\\u7528\\u6237\\u610F\\u56FE\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u4E0A\\u4E0B\\u6587\\u548C\\u5386\\u53F2\\u4EA4\\u4E92\\u667A\\u80FD\\u63A8\\u65AD\\u7528\\u6237\\u771F\\u5B9E\\u610F\\u56FE\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u9002\\u914D\\u591A\\u4E2A\\u52A9\\u624B\\u7684\\u610F\\u56FE\\u8BC6\\u522B\\uFF0C\\u5B9E\\u73B0\\u7CBE\\u51C6\\u5206\\u53D1\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4E1A\\u52A1\\u903B\\u8F91Agent\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u6267\\u884C\\u5177\\u4F53\\u7684\\u4E1A\\u52A1\\u64CD\\u4F5C\\uFF1A\\u5904\\u7406\\u7528\\u6237\\u67E5\\u8BE2\\u3001\\u6267\\u884C\\u4E1A\\u52A1\\u529E\\u7406\\u3001\\u63D0\\u4F9B\\u667A\\u80FD\\u63A8\\u8350\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u8D1F\\u8D23\\u4E0E\\u5E95\\u5C42\\u670D\\u52A1\\u4EA4\\u4E92\\uFF1A\\u8C03\\u7528\\u4E1A\\u52A1\\u63A5\\u53E3\\u3001\\u8BBF\\u95EE\\u6570\\u636E\\u5E93\\u3001\\u5BF9\\u63A5\\u7B2C\\u4E09\\u65B9\\u7CFB\\u7EDF\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5904\\u7406\\u4E1A\\u52A1\\u89C4\\u5219\\u6821\\u9A8C\\uFF1A\\u6743\\u9650\\u9A8C\\u8BC1\\u3001\\u89C4\\u5219\\u7EA6\\u675F\\u3001\\u5F02\\u5E38\\u5904\\u7406\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\uFE0F-\\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u9009\\u578B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\uFE0F-\\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u9009\\u578B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u{1F6E0}\\uFE0F \\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u9009\\u578B\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"\\u{1F4A1} \\u6846\\u67B6\\u9009\\u62E9\\u5173\\u7CFB\\u5230\\u6574\\u4E2A\\u9879\\u76EE\\u7684\\u6210\\u8D25\\uFF0C\\u6211\\u4EEC\\u8FDB\\u884C\\u4E86\\u6DF1\\u5165\\u7684\\u8C03\\u7814\\u548C\\u5206\\u6790\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u8C03\\u7814\\u65B9\\u6CD5\\u4E0E\\u8FC7\\u7A0B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8C03\\u7814\\u65B9\\u6CD5\\u4E0E\\u8FC7\\u7A0B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u8C03\\u7814\\u65B9\\u6CD5\\u4E0E\\u8FC7\\u7A0B\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u8BA4\\u4E3A\\u5728\\u8BC4\\u4F30\\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u65F6\\uFF0C\\u6211\\u4EEC\\u5E94\\u8BE5\\u91C7\\u53D6\\u66F4\\u52A0\\u52A1\\u5B9E\\u7684\\u8C03\\u7814\\u65B9\\u5F0F\\u3002\\u6211\\u4EEC\\u9996\\u5148\\u5BF9\\u5E02\\u9762\\u4E0A\\u5E38\\u89C1\\u7684\\u667A\\u80FD\\u4F53\\u6846\\u67B6\\u505A\\u4E86\\u5168\\u9762\\u6478\\u5E95\\uFF0C\\u91CD\\u70B9\\u770B\\u4E86\\u5404\\u4E2A\\u6846\\u67B6\\u7684\\u4F7F\\u7528\\u60C5\\u51B5\\u3001\\u793E\\u533A\\u6D3B\\u8DC3\\u5EA6\\uFF0C\\u4EE5\\u53CA\\u5B9E\\u9645\\u843D\\u5730\\u6848\\u4F8B\\u3002\\u9664\\u6B64\\u4E4B\\u5916\\uFF0C\\u6211\\u4EEC\\u4E5F\\u6DF1\\u5165\\u7814\\u7A76\\u4E86\\u6BCF\\u4E2A\\u6846\\u67B6\\u7684\\u6280\\u672F\\u7279\\u70B9\\u3001\\u6027\\u80FD\\u8868\\u73B0\\u548C\\u6269\\u5C55\\u80FD\\u529B\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4ECE\\u4E1A\\u52A1\\u89D2\\u5EA6\\u6765\\u770B\\uFF0C\\u6709\\u51E0\\u4E2A\\u5173\\u952E\\u70B9\\u7279\\u522B\\u91CD\\u8981\\uFF1A\\u9996\\u5148\\u662F\\u8981\\u80FD\\u625B\\u4F4F\\u5927\\u6D41\\u91CF\\uFF0C\\u5176\\u6B21\\u662F\\u8981\\u80FD\\u9002\\u5E94\\u6211\\u4EEC\\u591A\\u6837\\u5316\\u7684\\u4E1A\\u52A1\\u573A\\u666F\\uFF0C\\u6700\\u540E\\u662F\\u8981\\u4FDD\\u8BC1\\u7A33\\u5B9A\\u6027\\u548C\\u5B89\\u5168\\u6027\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9009\\u62E9-autogen\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E3A\\u4EC0\\u4E48\\u9009\\u62E9-autogen\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u4EC0\\u4E48\\u9009\\u62E9 AutoGen\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7ECF\\u8FC7\\u53CD\\u590D\\u6BD4\\u8F83\\u548C\\u8BA8\\u8BBA\\uFF0C\\u6211\\u4EEC\\u89C9\\u5F97 AutoGen \\u662F\\u6700\\u9002\\u5408\\u7684\\u9009\\u62E9\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7075\\u6D3B\\u7684 API \\u8BBE\\u8BA1\"}),\"\\uFF1A\\u5DE5\\u5177\\u94FE\\u4E5F\\u5F88\\u5B8C\\u5584\\uFF0C\\u5BF9\\u5FEB\\u901F\\u5F00\\u53D1\\u4E1A\\u52A1\\u5F88\\u6709\\u5E2E\\u52A9\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u591A\\u8BED\\u8A00\\u652F\\u6301\"}),\"\\uFF1A\\u652F\\u6301\\u591A\\u79CD\\u7F16\\u7A0B\\u8BED\\u8A00\\uFF0C\\u63D2\\u4EF6\\u673A\\u5236\\u4E5F\\u5F88\\u5F3A\\u5927\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5FAE\\u8F6F\\u80CC\\u4E66\"}),\"\\uFF1A\\u6709\\u5FAE\\u8F6F\\u5728\\u80CC\\u540E\\u652F\\u6301\\uFF0C\\u6846\\u67B6\\u7684\\u672A\\u6765\\u53D1\\u5C55\\u66F4\\u6709\\u4FDD\\u969C\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u6846\\u67B6\\u5BF9\\u6BD4\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6846\\u67B6\\u5BF9\\u6BD4\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6846\\u67B6\\u5BF9\\u6BD4\"]}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u6846\\u67B6\\u540D\\u79F0\"}),(0,e.jsx)(n.th,{children:\"\\u63CF\\u8FF0\"}),(0,e.jsx)(n.th,{children:\"\\u4F18\\u52BF\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"AutoGen\"})}),(0,e.jsx)(n.td,{children:\"\\u5FAE\\u8F6F\\u5F00\\u6E90\\u7684\\u65B0\\u4E00\\u4EE3\\u667A\\u80FD\\u4F53\\u6846\\u67B6\"}),(0,e.jsx)(n.td,{children:\"\\u591A\\u5C42\\u6B21API\\u3001\\u5F3A\\u5927\\u63D2\\u4EF6\\u7CFB\\u7EDF\\u3001\\u8DE8\\u8BED\\u8A00\\u652F\\u6301\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"LangChain Agents\"})}),(0,e.jsx)(n.td,{children:\"\\u6A21\\u5757\\u5316\\u7684\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u5E94\\u7528\\u6846\\u67B6\"}),(0,e.jsx)(n.td,{children:\"\\u9AD8\\u5EA6\\u6A21\\u5757\\u5316\\u3001\\u751F\\u6001\\u5B8C\\u5584\\u3001\\u793E\\u533A\\u6D3B\\u8DC3\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"Qwen-Agent\"})}),(0,e.jsx)(n.td,{children:\"\\u901A\\u4E49\\u5343\\u95EE\\u5F00\\u6E90\\u7684\\u667A\\u80FD\\u4F53\\u6846\\u67B6\"}),(0,e.jsx)(n.td,{children:\"\\u4E2D\\u6587\\u7406\\u89E3\\u80FD\\u529B\\u5F3A\\u3001\\u5DE5\\u5177\\u8C03\\u7528\\u4E30\\u5BCC\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:(0,e.jsx)(n.strong,{children:\"BabyAGI\"})}),(0,e.jsx)(n.td,{children:\"\\u8F7B\\u91CF\\u7EA7\\u81EA\\u4E3B\\u667A\\u80FD\\u4F53\\u6846\\u67B6\"}),(0,e.jsx)(n.td,{children:\"\\u8F7B\\u91CF\\u3001\\u7B80\\u5355\\u3001\\u4F4E\\u95E8\\u69DB\"})]})]})]}),`\n`,(0,e.jsxs)(n.h2,{id:\"-deepseek-r1-\\u878D\\u5408\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#-deepseek-r1-\\u878D\\u5408\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u{1F9E0} Deepseek R1 \\u878D\\u5408\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u7CFB\\u7EDF\\u7684\\u8BED\\u4E49\\u7406\\u89E3\\u548C\\u610F\\u56FE\\u89E3\\u6790\\u80FD\\u529B\\uFF0C\\u6211\\u4EEC\\u8BA1\\u5212\\u5F15\\u5165 Deepseek R1 \\u6A21\\u578B\\uFF0C\\u5E76\\u5C06\\u5176\\u4E0E\\u73B0\\u6709\\u7684\\u591A\\u667A\\u80FD\\u4F53\\u67B6\\u6784\\u6DF1\\u5EA6\\u878D\\u5408\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u96C6\\u6210\\u65B9\\u6848\\u57FA\\u4E8E\\u6DF1\\u5EA6\\u601D\\u8003\\u8FC7\\u7A0B\\u7684\\u8BA4\\u77E5\\u8FED\\u4EE3\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u96C6\\u6210\\u65B9\\u6848\\u57FA\\u4E8E\\u6DF1\\u5EA6\\u601D\\u8003\\u8FC7\\u7A0B\\u7684\\u8BA4\\u77E5\\u8FED\\u4EE3\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u96C6\\u6210\\u65B9\\u6848\\uFF1A\\u57FA\\u4E8E\\u6DF1\\u5EA6\\u601D\\u8003\\u8FC7\\u7A0B\\u7684\\u8BA4\\u77E5\\u8FED\\u4EE3\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u539F\\u6709\\u610F\\u56FE\\u6F84\\u6E05\\u4E0E\\u7406\\u89E3\\u6A21\\u5757\\u7684\\u57FA\\u7840\\u4E0A\\uFF0C\\u6211\\u4EEC\\u8FDB\\u4E00\\u6B65\\u63D0\\u53D6 Deepseek R1 \\u6A21\\u578B\\u5185\\u90E8\\u7684\\u601D\\u8003\\u8FC7\\u7A0B\\uFF08chain-of-thought\\uFF09\\uFF0C\\u5E76\\u5728\\u6B64\\u8FC7\\u7A0B\\u4E2D\\u8C03\\u7528\\u77E5\\u8BC6\\u5E93\\u8FDB\\u884C\\u4FE1\\u606F\\u8865\\u5145\\u4E0E\\u53CD\\u9988\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6574\\u4F53\\u6D41\\u7A0B\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u521D\\u6B65\\u89E3\\u6790\\u4E0E\\u601D\\u8003\"}),\"\\uFF1A\\u8C03\\u7528 Deepseek R1 \\u6A21\\u578B\\u8FDB\\u884C\\u521D\\u6B65\\u8BED\\u4E49\\u89E3\\u6790\\uFF0C\\u5E76\\u63D0\\u53D6\\u6A21\\u578B\\u5185\\u90E8\\u751F\\u6210\\u7684\\u601D\\u8003\\u8FC7\\u7A0B\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u77E5\\u8BC6\\u5E93\\u67E5\\u8BE2\"}),\"\\uFF1A\\u5229\\u7528\\u521D\\u6B65\\u751F\\u6210\\u7684\\u601D\\u8003\\u8FC7\\u7A0B\\u4F5C\\u4E3A\\u67E5\\u8BE2\\u6761\\u4EF6\\uFF0C\\u83B7\\u53D6\\u76F8\\u5173\\u7684\\u80CC\\u666F\\u77E5\\u8BC6\\u548C\\u6570\\u636E\\u8865\\u5145\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u878D\\u5408\\u4E0E\\u8FED\\u4EE3\\u4F18\\u5316\"}),\"\\uFF1A\\u5C06\\u77E5\\u8BC6\\u5E93\\u8FD4\\u56DE\\u7684\\u4FE1\\u606F\\u4E0E\\u539F\\u59CB\\u601D\\u8003\\u8FC7\\u7A0B\\u8FDB\\u884C\\u878D\\u5408\\uFF0C\\u7ECF\\u8FC7\\u591A\\u8F6E\\u8FED\\u4EE3\\u9010\\u6B65\\u6536\\u655B\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\u793A\\u4F8B\\u4EE3\\u7801\\uFF1A\"})}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"deepseek_iterative_analysis\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"user_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" max_iterations\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u7B2C\\u4E00\\u6B65\\uFF1A\\u8C03\\u7528 Deepseek R1 \\u751F\\u6210\\u521D\\u6B65\\u89E3\\u6790\\u7ED3\\u679C\\u548C\\u5185\\u90E8\\u601D\\u8003\\u8FC7\\u7A0B\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    initial_result \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" deepseek_r1_api\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"user_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" mode\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"chain-of-thought\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    combined_input \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" initial_result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"chain_of_thought\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"range\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"max_iterations\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# 1. \\u4E3B\\u52A8\\u67E5\\u8BE2\\u77E5\\u8BC6\\u5E93\\u83B7\\u53D6\\u76F8\\u5173\\u4FE1\\u606F\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        kb_info \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" query_knowledge_base\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"combined_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# 2. \\u8BA9\\u77E5\\u8BC6\\u5E93\\u6839\\u636E\\u5F53\\u524D\\u601D\\u8003\\u72B6\\u6001\\u63A8\\u9001\\u8865\\u5145\\u4FE1\\u606F\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        kb_suggestions \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" knowledge_base_suggestions\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"combined_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# 3. \\u5408\\u5E76\\u4E24\\u79CD\\u77E5\\u8BC6\\u6765\\u6E90\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        enriched_knowledge \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" merge_knowledge\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"kb_info\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" kb_suggestions\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u8FED\\u4EE3\\u4F18\\u5316\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        refined_result \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" deepseek_r1_api\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"input_for_refinement\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" mode\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"iterative-refinement\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" has_converged\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"combined_input\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"break\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"final_intent\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" refined_result\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"get\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"result\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u573A\\u666F\\u6848\\u4F8B\\u5957\\u9910\\u63A8\\u8350\\u4F18\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u573A\\u666F\\u6848\\u4F8B\\u5957\\u9910\\u63A8\\u8350\\u4F18\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u573A\\u666F\\u6848\\u4F8B\\uFF1A\\u5957\\u9910\\u63A8\\u8350\\u4F18\\u5316\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:'\\u{1F50D} \\u7528\\u6237\\u54A8\\u8BE2\\uFF1A\"\\u6211\\u60F3\\u7ED9\\u7236\\u6BCD\\u6362\\u4E2A\\u5957\\u9910\\uFF0C\\u4ED6\\u4EEC\\u6BCF\\u6708\\u901A\\u8BDD\\u65F6\\u957F200\\u5206\\u949F\\u5DE6\\u53F3\\uFF0C\\u5076\\u5C14\\u5237\\u89C6\\u9891\\uFF0C\\u4E3B\\u8981\\u662F\\u548C\\u5BB6\\u4EBA\\u89C6\\u9891\\u901A\\u8BDD\\uFF0C\\u9884\\u7B97150\\u5143\\u4EE5\\u5185\\u3002\"'}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F20\\u7EDF\\u5411\\u91CF\\u68C0\\u7D22\\u6A21\\u5F0F\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:'\\u63D0\\u53D6\\u5173\\u952E\\u8BCD\\uFF1A\"\\u901A\\u8BDD\\u65F6\\u957F200\\u5206\\u949F\"\\u3001\"\\u89C6\\u9891\\u901A\\u8BDD\"\\u3001\"150\\u5143\"'}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5411\\u91CF\\u68C0\\u7D22\\u5339\\u914D\\u76F8\\u4F3C\\u5957\\u9910\"}),`\n`,(0,e.jsx)(n.li,{children:'\\u7F3A\\u4E4F\\u573A\\u666F\\u7406\\u89E3\\uFF0C\\u65E0\\u6CD5\\u7406\\u89E3\"\\u7236\\u6BCD\"\\u8FD9\\u7C7B\\u7528\\u6237\\u7279\\u5F81'}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"Deepseek R1 \\u601D\\u7EF4\\u94FE\\u6A21\\u5F0F\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u7528\\u6237\\u753B\\u50CF\\u89E3\\u6790\"}),\"\\uFF1A\\u8001\\u5E74\\u7FA4\\u4F53(\\u7236\\u6BCD)\\u3001\\u4EE5\\u901A\\u8BDD\\u4E3A\\u4E3B\\u3001\\u9884\\u7B97\\u654F\\u611F\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u9700\\u6C42\\u5206\\u5C42\"}),\"\\uFF1A\\u6838\\u5FC3\\u9700\\u6C42(\\u901A\\u8BDD\\u7EA6200\\u5206\\u949F)\\u3001\\u6B21\\u8981\\u9700\\u6C42(\\u89C6\\u9891\\u901A\\u8BDD\\u6D41\\u91CF)\\u3001\\u4EF7\\u683C\\u4E0A\\u9650(150\\u5143)\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5957\\u9910\\u5339\\u914D\\u903B\\u8F91\"}),\"\\uFF1A\\u4F18\\u5148\\u8003\\u8651\\u8001\\u5E74\\u4E13\\u5C5E\\u5957\\u9910\\u3001\\u901A\\u8BDD\\u65F6\\u957F\\u6EE1\\u8DB3\\u9700\\u6C42\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u4E2A\\u6027\\u5316\\u5EFA\\u8BAE\"}),\"\\uFF1A\\u63A8\\u8350\\u5F00\\u901A\\u4EB2\\u60C5\\u7F51\\u3001\\u5EFA\\u8BAE\\u8BBE\\u7F6E\\u6D41\\u91CF\\u63D0\\u9192\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u878D\\u5408\\u4F18\\u52BF\\u4E0E\\u6548\\u679C\\u5C55\\u671B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u878D\\u5408\\u4F18\\u52BF\\u4E0E\\u6548\\u679C\\u5C55\\u671B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u878D\\u5408\\u4F18\\u52BF\\u4E0E\\u6548\\u679C\\u5C55\\u671B\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u51C6\\u786E\\u6027\\u63D0\\u5347\"}),\"\\uFF1A\\u6DF1\\u5C42\\u8BED\\u4E49\\u89E3\\u6790\\u6709\\u52A9\\u4E8E\\u663E\\u8457\\u63D0\\u9AD8\\u610F\\u56FE\\u548C\\u5B9E\\u4F53\\u8BC6\\u522B\\u7684\\u51C6\\u786E\\u7387\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u51B3\\u7B56\\u652F\\u6301\"}),\"\\uFF1A\\u878D\\u5408\\u540E\\u7684\\u89E3\\u6790\\u7ED3\\u679C\\u53EF\\u4E3A\\u4EFB\\u52A1\\u89C4\\u5212\\u548C\\u540E\\u7EED\\u5904\\u7406\\u63D0\\u4F9B\\u66F4\\u53EF\\u9760\\u7684\\u8BED\\u4E49\\u4FE1\\u606F\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6A21\\u5757\\u7075\\u6D3B\\u6027\"}),\"\\uFF1A\\u65E0\\u8BBA\\u662F\\u4F5C\\u4E3A\\u73B0\\u6709 Agent \\u7684\\u589E\\u5F3A\\uFF0C\\u8FD8\\u662F\\u72EC\\u7ACB\\u667A\\u80FD\\u4F53\\u5B58\\u5728\\uFF0CDeepseek R1 \\u6A21\\u578B\\u5747\\u53EF\\u4EE5\\u6839\\u636E\\u4E1A\\u52A1\\u9700\\u6C42\\u7075\\u6D3B\\u8C03\\u5EA6\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u672A\\u6765\\uFF0C\\u6211\\u4EEC\\u5C06\\u6301\\u7EED\\u76D1\\u63A7 Deepseek R1 \\u6A21\\u578B\\u5728\\u5B9E\\u9645\\u573A\\u666F\\u4E0B\\u7684\\u8868\\u73B0\\uFF0C\\u5E76\\u6839\\u636E\\u7528\\u6237\\u53CD\\u9988\\u4E0D\\u65AD\\u4F18\\u5316\\u878D\\u5408\\u7B56\\u7565\\u3002\"})]})}function o(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(h,{...a})}):h(a)}return f(A);})();\n;return Component;"
    },
    "_id": "blog/AI/multi-agent-autogen.md",
    "_raw": {
      "sourceFilePath": "blog/AI/multi-agent-autogen.md",
      "sourceFileName": "multi-agent-autogen.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/multi-agent-autogen"
    },
    "type": "Blog",
    "readingTime": {
      "text": "9 min read",
      "minutes": 8.715,
      "time": 522900,
      "words": 1743
    },
    "slug": "multi-agent-autogen",
    "path": "blog/AI/multi-agent-autogen",
    "toc": [
      {
        "value": "🔍 整体架构设计",
        "url": "#-整体架构设计",
        "depth": 2
      },
      {
        "value": "顶层控制模块",
        "url": "#顶层控制模块",
        "depth": 3
      },
      {
        "value": "业务执行模块",
        "url": "#业务执行模块",
        "depth": 3
      },
      {
        "value": "🛠️ 智能体框架选型",
        "url": "#️-智能体框架选型",
        "depth": 2
      },
      {
        "value": "调研方法与过程",
        "url": "#调研方法与过程",
        "depth": 3
      },
      {
        "value": "为什么选择 AutoGen",
        "url": "#为什么选择-autogen",
        "depth": 3
      },
      {
        "value": "框架对比",
        "url": "#框架对比",
        "depth": 3
      },
      {
        "value": "🧠 Deepseek R1 融合",
        "url": "#-deepseek-r1-融合",
        "depth": 2
      },
      {
        "value": "集成方案：基于深度思考过程的认知迭代",
        "url": "#集成方案基于深度思考过程的认知迭代",
        "depth": 3
      },
      {
        "value": "场景案例：套餐推荐优化",
        "url": "#场景案例套餐推荐优化",
        "depth": 3
      },
      {
        "value": "融合优势与效果展望",
        "url": "#融合优势与效果展望",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "基于 AutoGen 的数智助手问答架构设计",
      "datePublished": "2025-02-05T00:00:00.000Z",
      "dateModified": "2025-02-05T00:00:00.000Z",
      "description": "深入探讨基于 AutoGen 框架的多智能体对话系统架构设计，包括意图理解、任务规划及 Deepseek R1 融合方案。",
      "url": "https://zhangjian94cn.github.io/blog/multi-agent-autogen"
    }
  },
  {
    "title": "RAG 系统最佳实践",
    "date": "2026-01-20T00:00:00.000Z",
    "tags": [
      "LLM",
      "deep-learning"
    ],
    "draft": false,
    "summary": "总结企业级 RAG 系统开发中的经验教训，包括文档分块、向量检索和回答生成优化。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 什么是 RAG\n\nRAG (Retrieval-Augmented Generation) 是一种结合检索和生成的技术架构：\n\n1. **检索阶段**：从知识库中找到与问题相关的文档片段\n2. **生成阶段**：将检索结果作为上下文，让 LLM 生成回答\n\n## 核心组件\n\n### 文档分块策略\n\n分块质量直接影响检索效果：\n\n```python\nfrom langchain.text_splitter import RecursiveCharacterTextSplitter\n\nsplitter = RecursiveCharacterTextSplitter(\n    chunk_size=500,\n    chunk_overlap=50,\n    separators=[\"\\n\\n\", \"\\n\", \"。\", \"！\", \"？\"]\n)\n```\n\n**经验教训**：\n\n- 中文场景下，按句子分割比按字符更有效\n- overlap 设置为 chunk_size 的 10% 左右\n- 保留文档结构信息（标题、层级）\n\n### 向量存储选择\n\n| 方案     | 优势           | 适用场景         |\n| -------- | -------------- | ---------------- |\n| Chroma   | 轻量、易用     | 本地开发、小规模 |\n| Milvus   | 高性能、分布式 | 生产环境、大规模 |\n| Pinecone | 全托管         | 快速上线、无运维 |\n\n### 检索优化\n\n混合检索效果最佳：\n\n```python\nfrom langchain.retrievers import EnsembleRetriever\n\n# 语义检索 + 关键词检索\nensemble = EnsembleRetriever(\n    retrievers=[vector_retriever, bm25_retriever],\n    weights=[0.7, 0.3]\n)\n```\n\n## 生产实践\n\n### 评估指标\n\n- **召回率**: 相关文档是否被检索到\n- **准确率**: 回答是否正确\n- **幻觉率**: 是否编造不存在的信息\n\n### 常见问题\n\n1. **检索到但答案不对** → 优化 Prompt\n2. **相关文档检索不到** → 调整分块策略\n3. **回答太啰嗦** → 限制输出长度\n\n## 总结\n\nRAG 不是银弹，需要根据业务场景持续优化。关键是建立完善的评估体系。\n",
      "code": "var Component=(()=>{var p=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),b=(a,n)=>{for(var c in n)s(a,c,{get:n[c],enumerable:!0})},i=(a,n,c,r)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let l of u(n))!k.call(a,l)&&l!==c&&s(a,l,{get:()=>n[l],enumerable:!(r=m(n,l))||r.enumerable});return a};var x=(a,n,c)=>(c=a!=null?p(N(a)):{},i(n||!a||!a.__esModule?s(c,\"default\",{value:a,enumerable:!0}):c,a)),f=a=>i(s({},\"__esModule\",{value:!0}),a);var d=g((R,t)=>{t.exports=_jsx_runtime});var y={};b(y,{default:()=>o,frontmatter:()=>v});var e=x(d()),v={title:\"RAG \\u7CFB\\u7EDF\\u6700\\u4F73\\u5B9E\\u8DF5\",date:\"2026-01-20\",tags:[\"LLM\",\"deep-learning\"],draft:!1,summary:\"\\u603B\\u7ED3\\u4F01\\u4E1A\\u7EA7 RAG \\u7CFB\\u7EDF\\u5F00\\u53D1\\u4E2D\\u7684\\u7ECF\\u9A8C\\u6559\\u8BAD\\uFF0C\\u5305\\u62EC\\u6587\\u6863\\u5206\\u5757\\u3001\\u5411\\u91CF\\u68C0\\u7D22\\u548C\\u56DE\\u7B54\\u751F\\u6210\\u4F18\\u5316\\u3002\",authors:[\"default\"]};function h(a){let n={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u4EC0\\u4E48\\u662F-rag\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4EC0\\u4E48\\u662F-rag\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4EC0\\u4E48\\u662F RAG\"]}),`\n`,(0,e.jsx)(n.p,{children:\"RAG (Retrieval-Augmented Generation) \\u662F\\u4E00\\u79CD\\u7ED3\\u5408\\u68C0\\u7D22\\u548C\\u751F\\u6210\\u7684\\u6280\\u672F\\u67B6\\u6784\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u68C0\\u7D22\\u9636\\u6BB5\"}),\"\\uFF1A\\u4ECE\\u77E5\\u8BC6\\u5E93\\u4E2D\\u627E\\u5230\\u4E0E\\u95EE\\u9898\\u76F8\\u5173\\u7684\\u6587\\u6863\\u7247\\u6BB5\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u751F\\u6210\\u9636\\u6BB5\"}),\"\\uFF1A\\u5C06\\u68C0\\u7D22\\u7ED3\\u679C\\u4F5C\\u4E3A\\u4E0A\\u4E0B\\u6587\\uFF0C\\u8BA9 LLM \\u751F\\u6210\\u56DE\\u7B54\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6838\\u5FC3\\u7EC4\\u4EF6\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6838\\u5FC3\\u7EC4\\u4EF6\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6838\\u5FC3\\u7EC4\\u4EF6\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u6587\\u6863\\u5206\\u5757\\u7B56\\u7565\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6587\\u6863\\u5206\\u5757\\u7B56\\u7565\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6587\\u6863\\u5206\\u5757\\u7B56\\u7565\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5206\\u5757\\u8D28\\u91CF\\u76F4\\u63A5\\u5F71\\u54CD\\u68C0\\u7D22\\u6548\\u679C\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" langchain\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"text_splitter \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),` RecursiveCharacterTextSplitter\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"splitter \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" RecursiveCharacterTextSplitter\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    chunk_size\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"500\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    chunk_overlap\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"50\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    separators\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\\\n\\\\n\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\\\n\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\u3002\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\uFF01\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\uFF1F\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u7ECF\\u9A8C\\u6559\\u8BAD\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u4E2D\\u6587\\u573A\\u666F\\u4E0B\\uFF0C\\u6309\\u53E5\\u5B50\\u5206\\u5272\\u6BD4\\u6309\\u5B57\\u7B26\\u66F4\\u6709\\u6548\"}),`\n`,(0,e.jsx)(n.li,{children:\"overlap \\u8BBE\\u7F6E\\u4E3A chunk_size \\u7684 10% \\u5DE6\\u53F3\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4FDD\\u7559\\u6587\\u6863\\u7ED3\\u6784\\u4FE1\\u606F\\uFF08\\u6807\\u9898\\u3001\\u5C42\\u7EA7\\uFF09\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5411\\u91CF\\u5B58\\u50A8\\u9009\\u62E9\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5411\\u91CF\\u5B58\\u50A8\\u9009\\u62E9\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5411\\u91CF\\u5B58\\u50A8\\u9009\\u62E9\"]}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u65B9\\u6848\"}),(0,e.jsx)(n.th,{children:\"\\u4F18\\u52BF\"}),(0,e.jsx)(n.th,{children:\"\\u9002\\u7528\\u573A\\u666F\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Chroma\"}),(0,e.jsx)(n.td,{children:\"\\u8F7B\\u91CF\\u3001\\u6613\\u7528\"}),(0,e.jsx)(n.td,{children:\"\\u672C\\u5730\\u5F00\\u53D1\\u3001\\u5C0F\\u89C4\\u6A21\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Milvus\"}),(0,e.jsx)(n.td,{children:\"\\u9AD8\\u6027\\u80FD\\u3001\\u5206\\u5E03\\u5F0F\"}),(0,e.jsx)(n.td,{children:\"\\u751F\\u4EA7\\u73AF\\u5883\\u3001\\u5927\\u89C4\\u6A21\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Pinecone\"}),(0,e.jsx)(n.td,{children:\"\\u5168\\u6258\\u7BA1\"}),(0,e.jsx)(n.td,{children:\"\\u5FEB\\u901F\\u4E0A\\u7EBF\\u3001\\u65E0\\u8FD0\\u7EF4\"})]})]})]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u68C0\\u7D22\\u4F18\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u68C0\\u7D22\\u4F18\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u68C0\\u7D22\\u4F18\\u5316\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6DF7\\u5408\\u68C0\\u7D22\\u6548\\u679C\\u6700\\u4F73\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" langchain\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"retrievers \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),` EnsembleRetriever\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\u8BED\\u4E49\\u68C0\\u7D22 + \\u5173\\u952E\\u8BCD\\u68C0\\u7D22\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"ensemble \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" EnsembleRetriever\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    retrievers\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"vector_retriever\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" bm25_retriever\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    weights\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0.7\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0.3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u751F\\u4EA7\\u5B9E\\u8DF5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u751F\\u4EA7\\u5B9E\\u8DF5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u751F\\u4EA7\\u5B9E\\u8DF5\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u8BC4\\u4F30\\u6307\\u6807\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8BC4\\u4F30\\u6307\\u6807\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u8BC4\\u4F30\\u6307\\u6807\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u53EC\\u56DE\\u7387\"}),\": \\u76F8\\u5173\\u6587\\u6863\\u662F\\u5426\\u88AB\\u68C0\\u7D22\\u5230\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u51C6\\u786E\\u7387\"}),\": \\u56DE\\u7B54\\u662F\\u5426\\u6B63\\u786E\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5E7B\\u89C9\\u7387\"}),\": \\u662F\\u5426\\u7F16\\u9020\\u4E0D\\u5B58\\u5728\\u7684\\u4FE1\\u606F\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5E38\\u89C1\\u95EE\\u9898\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5E38\\u89C1\\u95EE\\u9898\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5E38\\u89C1\\u95EE\\u9898\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u68C0\\u7D22\\u5230\\u4F46\\u7B54\\u6848\\u4E0D\\u5BF9\"}),\" \\u2192 \\u4F18\\u5316 Prompt\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u76F8\\u5173\\u6587\\u6863\\u68C0\\u7D22\\u4E0D\\u5230\"}),\" \\u2192 \\u8C03\\u6574\\u5206\\u5757\\u7B56\\u7565\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u56DE\\u7B54\\u592A\\u5570\\u55E6\"}),\" \\u2192 \\u9650\\u5236\\u8F93\\u51FA\\u957F\\u5EA6\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u603B\\u7ED3\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u603B\\u7ED3\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u603B\\u7ED3\"]}),`\n`,(0,e.jsx)(n.p,{children:\"RAG \\u4E0D\\u662F\\u94F6\\u5F39\\uFF0C\\u9700\\u8981\\u6839\\u636E\\u4E1A\\u52A1\\u573A\\u666F\\u6301\\u7EED\\u4F18\\u5316\\u3002\\u5173\\u952E\\u662F\\u5EFA\\u7ACB\\u5B8C\\u5584\\u7684\\u8BC4\\u4F30\\u4F53\\u7CFB\\u3002\"})]})}function o(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(h,{...a})}):h(a)}return f(y);})();\n;return Component;"
    },
    "_id": "blog/AI/rag-best-practices.md",
    "_raw": {
      "sourceFilePath": "blog/AI/rag-best-practices.md",
      "sourceFileName": "rag-best-practices.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/rag-best-practices"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.82,
      "time": 109200,
      "words": 364
    },
    "slug": "rag-best-practices",
    "path": "blog/AI/rag-best-practices",
    "toc": [
      {
        "value": "什么是 RAG",
        "url": "#什么是-rag",
        "depth": 2
      },
      {
        "value": "核心组件",
        "url": "#核心组件",
        "depth": 2
      },
      {
        "value": "文档分块策略",
        "url": "#文档分块策略",
        "depth": 3
      },
      {
        "value": "向量存储选择",
        "url": "#向量存储选择",
        "depth": 3
      },
      {
        "value": "检索优化",
        "url": "#检索优化",
        "depth": 3
      },
      {
        "value": "生产实践",
        "url": "#生产实践",
        "depth": 2
      },
      {
        "value": "评估指标",
        "url": "#评估指标",
        "depth": 3
      },
      {
        "value": "常见问题",
        "url": "#常见问题",
        "depth": 3
      },
      {
        "value": "总结",
        "url": "#总结",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "RAG 系统最佳实践",
      "datePublished": "2026-01-20T00:00:00.000Z",
      "dateModified": "2026-01-20T00:00:00.000Z",
      "description": "总结企业级 RAG 系统开发中的经验教训，包括文档分块、向量检索和回答生成优化。",
      "url": "https://zhangjian94cn.github.io/blog/rag-best-practices"
    }
  },
  {
    "title": "强化学习基础（1）",
    "date": "2023-03-14T00:00:00.000Z",
    "tags": [
      "deep-learning"
    ],
    "draft": false,
    "summary": "强化学习入门：介绍 Agent、Environment、Policy 等基本概念，以及 DQN、Policy Network 和 Actor-Critic 方法。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## Introduction\n\n**智能体（Agent）**是一个能够感知**环境（Environment）**中的**状态（State）**并采取**动作（Action）**的实体。智能体的目标是在某些时间步中，以最大化的**总回报或奖励（Reward）**完成任务。为了实现这个目标，智能体需要利用之前的经验和当前的信息来选择最佳的动作，这个选择过程根据**策略（Policy）**来执行。\n\n- **Agent**：智能体，目标是获得最大化的回报（reward）\n- **Environment**：环境，包括所有的状态、动作、奖励和转移规则\n- **Policy**：策略，将当前状态映射到动作的概率分布\n- **Action**：动作，智能体在环境中执行的行为\n- **Reward**：奖励，表示智能体行为良好或不良的量化反馈值\n\n## Key Concepts\n\n### Reward Function\n\n回报函数定义为从时刻 t 开始的折扣累积奖励：\n\n`R_t = Σ γ^(i-t) × r_i`\n\n其中，R_t 表示在时间 t 的回报值，γ ∈ [0,1] 是折扣因子，表示对未来奖励的重视程度。\n\n### Action-Value Function\n\n动作价值函数用来衡量智能体在某个状态下执行某个动作后遵循某个策略所能获得的期望长期回报：\n\n`Q_π(s, a) = E[R_{t+1} + γ × Q(S_{t+1}, A_{t+1}) | S_t = s, A_t = a]`\n\n最优动作价值函数：\n\n`Q*(s,a) = max_π Q_π(s,a)`\n\n### State-Value Function\n\n状态价值函数衡量智能体在某个状态下遵循某个策略后所能获得的期望长期回报：\n\n`V_π(s) = E[R_{t+1} + γ × V(S_{t+1}) | S_t = s]`\n\n## Deep Q-Network (Value-Based)\n\nDeep Q-Network 用神经网络来近似 Q*(s, a)。DQN 的目标是让神经网络输出的 Q 值尽可能接近 Q* 值，从而在每个状态下选择能够使长期回报最大化的动作。\n\n损失函数：\n\n`L(θ) = E[(r + γ × max_a' Q(s',a';θ⁻) - Q(s,a;θ))²]`\n\n其中：\n\n- θ 是神经网络的参数\n- θ⁻ 是目标网络的参数\n- D 是经验回放的缓存\n- γ 是折扣因子\n\n> DQN 损失函数的设计用到了 Temporal Difference Learning，根据当前状态和动作的价值函数估计和下一个状态的最优动作的价值函数估计来计算 TD 误差。\n\n## Policy Network (Policy-Based)\n\nPolicy Network 使用一个神经网络来直接输出给定状态下的动作概率分布。\n\n**优点**：\n\n- 可以处理连续动作空间和高维状态空间\n- 可以避免最大化误差的累积\n\n状态价值函数和状态-动作价值函数之间的关系为：\n\n`V_π(s) = Σ π_θ(a|s) × Q_π(s,a)`\n\n即在不同策略概率下 Q 的期望。在 Policy Network 中，我们最大化状态价值函数 V_π(s)。\n\n## Actor-Critic Methods\n\nActor-Critic Methods 结合了 Value-Based Methods 以及 Policy-Based Methods，不仅获得了两种方法的优点，同时也在一定程度上避免了：\n\n1. **Value-Based 的问题**：高偏差（High bias），不能直接得到动作值输出，难以用于连续动作空间\n2. **Policy-Based 的问题**：高方差（High Variance），训练不稳定，策略收敛困难\n\n它包括两个部分：\n\n- **Actor**：策略网络 π_θ(a|s)，输入状态，输出动作\n- **Critic**：价值网络，输入状态或状态-动作对，输出价值函数 V_w(s) 或 Q_w(s, a)\n\n## Conclusion\n\n在本文中，我们学习了 RL 基本流程与一些关键性概念，包括回报函数（Reward Function），状态价值函数（State-Value Function）以及动作价值函数（Action-Value Function）。同时，我们还介绍了 Value-Based Methods 以及 Policy-Based Methods，更进一步，Actor-Critic Methods 结合了两种方案，并获得了相对更优的效果。\n",
      "code": "var Component=(()=>{var u=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var _=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var N=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports),f=(i,n)=>{for(var c in n)l(i,c,{get:n[c],enumerable:!0})},d=(i,n,c,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let r of m(n))!g.call(i,r)&&r!==c&&l(i,r,{get:()=>n[r],enumerable:!(t=p(n,r))||t.enumerable});return i};var k=(i,n,c)=>(c=i!=null?u(_(i)):{},d(n||!i||!i.__esModule?l(c,\"default\",{value:i,enumerable:!0}):c,i)),w=i=>d(l({},\"__esModule\",{value:!0}),i);var o=N((Q,a)=>{a.exports=_jsx_runtime});var y={};f(y,{default:()=>s,frontmatter:()=>x});var e=k(o()),x={title:\"\\u5F3A\\u5316\\u5B66\\u4E60\\u57FA\\u7840\\uFF081\\uFF09\",date:\"2023-03-14\",tags:[\"deep-learning\"],draft:!1,summary:\"\\u5F3A\\u5316\\u5B66\\u4E60\\u5165\\u95E8\\uFF1A\\u4ECB\\u7ECD Agent\\u3001Environment\\u3001Policy \\u7B49\\u57FA\\u672C\\u6982\\u5FF5\\uFF0C\\u4EE5\\u53CA DQN\\u3001Policy Network \\u548C Actor-Critic \\u65B9\\u6CD5\\u3002\",authors:[\"default\"]};function h(i){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...i.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"introduction\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#introduction\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"**\\u667A\\u80FD\\u4F53\\uFF08Agent\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u662F\\u4E00\\u4E2A\\u80FD\\u591F\\u611F\\u77E5\"}),\"\\u73AF\\u5883\\uFF08Environment\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u4E2D\\u7684\"}),\"\\u72B6\\u6001\\uFF08State\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u5E76\\u91C7\\u53D6\"}),\"\\u52A8\\u4F5C\\uFF08Action\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u7684\\u5B9E\\u4F53\\u3002\\u667A\\u80FD\\u4F53\\u7684\\u76EE\\u6807\\u662F\\u5728\\u67D0\\u4E9B\\u65F6\\u95F4\\u6B65\\u4E2D\\uFF0C\\u4EE5\\u6700\\u5927\\u5316\\u7684\"}),\"\\u603B\\u56DE\\u62A5\\u6216\\u5956\\u52B1\\uFF08Reward\\uFF09\",(0,e.jsx)(n.strong,{children:\"\\u5B8C\\u6210\\u4EFB\\u52A1\\u3002\\u4E3A\\u4E86\\u5B9E\\u73B0\\u8FD9\\u4E2A\\u76EE\\u6807\\uFF0C\\u667A\\u80FD\\u4F53\\u9700\\u8981\\u5229\\u7528\\u4E4B\\u524D\\u7684\\u7ECF\\u9A8C\\u548C\\u5F53\\u524D\\u7684\\u4FE1\\u606F\\u6765\\u9009\\u62E9\\u6700\\u4F73\\u7684\\u52A8\\u4F5C\\uFF0C\\u8FD9\\u4E2A\\u9009\\u62E9\\u8FC7\\u7A0B\\u6839\\u636E\"}),\"\\u7B56\\u7565\\uFF08Policy\\uFF09**\\u6765\\u6267\\u884C\\u3002\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Agent\"}),\"\\uFF1A\\u667A\\u80FD\\u4F53\\uFF0C\\u76EE\\u6807\\u662F\\u83B7\\u5F97\\u6700\\u5927\\u5316\\u7684\\u56DE\\u62A5\\uFF08reward\\uFF09\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Environment\"}),\"\\uFF1A\\u73AF\\u5883\\uFF0C\\u5305\\u62EC\\u6240\\u6709\\u7684\\u72B6\\u6001\\u3001\\u52A8\\u4F5C\\u3001\\u5956\\u52B1\\u548C\\u8F6C\\u79FB\\u89C4\\u5219\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Policy\"}),\"\\uFF1A\\u7B56\\u7565\\uFF0C\\u5C06\\u5F53\\u524D\\u72B6\\u6001\\u6620\\u5C04\\u5230\\u52A8\\u4F5C\\u7684\\u6982\\u7387\\u5206\\u5E03\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Action\"}),\"\\uFF1A\\u52A8\\u4F5C\\uFF0C\\u667A\\u80FD\\u4F53\\u5728\\u73AF\\u5883\\u4E2D\\u6267\\u884C\\u7684\\u884C\\u4E3A\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Reward\"}),\"\\uFF1A\\u5956\\u52B1\\uFF0C\\u8868\\u793A\\u667A\\u80FD\\u4F53\\u884C\\u4E3A\\u826F\\u597D\\u6216\\u4E0D\\u826F\\u7684\\u91CF\\u5316\\u53CD\\u9988\\u503C\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"key-concepts\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#key-concepts\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Key Concepts\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"reward-function\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#reward-function\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Reward Function\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u56DE\\u62A5\\u51FD\\u6570\\u5B9A\\u4E49\\u4E3A\\u4ECE\\u65F6\\u523B t \\u5F00\\u59CB\\u7684\\u6298\\u6263\\u7D2F\\u79EF\\u5956\\u52B1\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"R_t = \\u03A3 \\u03B3^(i-t) \\xD7 r_i\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5176\\u4E2D\\uFF0CR_t \\u8868\\u793A\\u5728\\u65F6\\u95F4 t \\u7684\\u56DE\\u62A5\\u503C\\uFF0C\\u03B3 \\u2208 [0,1] \\u662F\\u6298\\u6263\\u56E0\\u5B50\\uFF0C\\u8868\\u793A\\u5BF9\\u672A\\u6765\\u5956\\u52B1\\u7684\\u91CD\\u89C6\\u7A0B\\u5EA6\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"action-value-function\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#action-value-function\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Action-Value Function\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u52A8\\u4F5C\\u4EF7\\u503C\\u51FD\\u6570\\u7528\\u6765\\u8861\\u91CF\\u667A\\u80FD\\u4F53\\u5728\\u67D0\\u4E2A\\u72B6\\u6001\\u4E0B\\u6267\\u884C\\u67D0\\u4E2A\\u52A8\\u4F5C\\u540E\\u9075\\u5FAA\\u67D0\\u4E2A\\u7B56\\u7565\\u6240\\u80FD\\u83B7\\u5F97\\u7684\\u671F\\u671B\\u957F\\u671F\\u56DE\\u62A5\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"Q_\\u03C0(s, a) = E[R_{t+1} + \\u03B3 \\xD7 Q(S_{t+1}, A_{t+1}) | S_t = s, A_t = a]\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6700\\u4F18\\u52A8\\u4F5C\\u4EF7\\u503C\\u51FD\\u6570\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"Q*(s,a) = max_\\u03C0 Q_\\u03C0(s,a)\"})}),`\n`,(0,e.jsxs)(n.h3,{id:\"state-value-function\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#state-value-function\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"State-Value Function\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u72B6\\u6001\\u4EF7\\u503C\\u51FD\\u6570\\u8861\\u91CF\\u667A\\u80FD\\u4F53\\u5728\\u67D0\\u4E2A\\u72B6\\u6001\\u4E0B\\u9075\\u5FAA\\u67D0\\u4E2A\\u7B56\\u7565\\u540E\\u6240\\u80FD\\u83B7\\u5F97\\u7684\\u671F\\u671B\\u957F\\u671F\\u56DE\\u62A5\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"V_\\u03C0(s) = E[R_{t+1} + \\u03B3 \\xD7 V(S_{t+1}) | S_t = s]\"})}),`\n`,(0,e.jsxs)(n.h2,{id:\"deep-q-network-value-based\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#deep-q-network-value-based\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Deep Q-Network (Value-Based)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Deep Q-Network \\u7528\\u795E\\u7ECF\\u7F51\\u7EDC\\u6765\\u8FD1\\u4F3C Q*(s, a)\\u3002DQN \\u7684\\u76EE\\u6807\\u662F\\u8BA9\\u795E\\u7ECF\\u7F51\\u7EDC\\u8F93\\u51FA\\u7684 Q \\u503C\\u5C3D\\u53EF\\u80FD\\u63A5\\u8FD1 Q* \\u503C\\uFF0C\\u4ECE\\u800C\\u5728\\u6BCF\\u4E2A\\u72B6\\u6001\\u4E0B\\u9009\\u62E9\\u80FD\\u591F\\u4F7F\\u957F\\u671F\\u56DE\\u62A5\\u6700\\u5927\\u5316\\u7684\\u52A8\\u4F5C\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u635F\\u5931\\u51FD\\u6570\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"L(\\u03B8) = E[(r + \\u03B3 \\xD7 max_a' Q(s',a';\\u03B8\\u207B) - Q(s,a;\\u03B8))\\xB2]\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5176\\u4E2D\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u03B8 \\u662F\\u795E\\u7ECF\\u7F51\\u7EDC\\u7684\\u53C2\\u6570\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u03B8\\u207B \\u662F\\u76EE\\u6807\\u7F51\\u7EDC\\u7684\\u53C2\\u6570\"}),`\n`,(0,e.jsx)(n.li,{children:\"D \\u662F\\u7ECF\\u9A8C\\u56DE\\u653E\\u7684\\u7F13\\u5B58\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u03B3 \\u662F\\u6298\\u6263\\u56E0\\u5B50\"}),`\n`]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"DQN \\u635F\\u5931\\u51FD\\u6570\\u7684\\u8BBE\\u8BA1\\u7528\\u5230\\u4E86 Temporal Difference Learning\\uFF0C\\u6839\\u636E\\u5F53\\u524D\\u72B6\\u6001\\u548C\\u52A8\\u4F5C\\u7684\\u4EF7\\u503C\\u51FD\\u6570\\u4F30\\u8BA1\\u548C\\u4E0B\\u4E00\\u4E2A\\u72B6\\u6001\\u7684\\u6700\\u4F18\\u52A8\\u4F5C\\u7684\\u4EF7\\u503C\\u51FD\\u6570\\u4F30\\u8BA1\\u6765\\u8BA1\\u7B97 TD \\u8BEF\\u5DEE\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"policy-network-policy-based\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#policy-network-policy-based\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Policy Network (Policy-Based)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Policy Network \\u4F7F\\u7528\\u4E00\\u4E2A\\u795E\\u7ECF\\u7F51\\u7EDC\\u6765\\u76F4\\u63A5\\u8F93\\u51FA\\u7ED9\\u5B9A\\u72B6\\u6001\\u4E0B\\u7684\\u52A8\\u4F5C\\u6982\\u7387\\u5206\\u5E03\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u4F18\\u70B9\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u53EF\\u4EE5\\u5904\\u7406\\u8FDE\\u7EED\\u52A8\\u4F5C\\u7A7A\\u95F4\\u548C\\u9AD8\\u7EF4\\u72B6\\u6001\\u7A7A\\u95F4\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u53EF\\u4EE5\\u907F\\u514D\\u6700\\u5927\\u5316\\u8BEF\\u5DEE\\u7684\\u7D2F\\u79EF\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u72B6\\u6001\\u4EF7\\u503C\\u51FD\\u6570\\u548C\\u72B6\\u6001-\\u52A8\\u4F5C\\u4EF7\\u503C\\u51FD\\u6570\\u4E4B\\u95F4\\u7684\\u5173\\u7CFB\\u4E3A\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"V_\\u03C0(s) = \\u03A3 \\u03C0_\\u03B8(a|s) \\xD7 Q_\\u03C0(s,a)\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5373\\u5728\\u4E0D\\u540C\\u7B56\\u7565\\u6982\\u7387\\u4E0B Q \\u7684\\u671F\\u671B\\u3002\\u5728 Policy Network \\u4E2D\\uFF0C\\u6211\\u4EEC\\u6700\\u5927\\u5316\\u72B6\\u6001\\u4EF7\\u503C\\u51FD\\u6570 V_\\u03C0(s)\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"actor-critic-methods\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#actor-critic-methods\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Actor-Critic Methods\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Actor-Critic Methods \\u7ED3\\u5408\\u4E86 Value-Based Methods \\u4EE5\\u53CA Policy-Based Methods\\uFF0C\\u4E0D\\u4EC5\\u83B7\\u5F97\\u4E86\\u4E24\\u79CD\\u65B9\\u6CD5\\u7684\\u4F18\\u70B9\\uFF0C\\u540C\\u65F6\\u4E5F\\u5728\\u4E00\\u5B9A\\u7A0B\\u5EA6\\u4E0A\\u907F\\u514D\\u4E86\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Value-Based \\u7684\\u95EE\\u9898\"}),\"\\uFF1A\\u9AD8\\u504F\\u5DEE\\uFF08High bias\\uFF09\\uFF0C\\u4E0D\\u80FD\\u76F4\\u63A5\\u5F97\\u5230\\u52A8\\u4F5C\\u503C\\u8F93\\u51FA\\uFF0C\\u96BE\\u4EE5\\u7528\\u4E8E\\u8FDE\\u7EED\\u52A8\\u4F5C\\u7A7A\\u95F4\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Policy-Based \\u7684\\u95EE\\u9898\"}),\"\\uFF1A\\u9AD8\\u65B9\\u5DEE\\uFF08High Variance\\uFF09\\uFF0C\\u8BAD\\u7EC3\\u4E0D\\u7A33\\u5B9A\\uFF0C\\u7B56\\u7565\\u6536\\u655B\\u56F0\\u96BE\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5B83\\u5305\\u62EC\\u4E24\\u4E2A\\u90E8\\u5206\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Actor\"}),\"\\uFF1A\\u7B56\\u7565\\u7F51\\u7EDC \\u03C0_\\u03B8(a|s)\\uFF0C\\u8F93\\u5165\\u72B6\\u6001\\uFF0C\\u8F93\\u51FA\\u52A8\\u4F5C\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Critic\"}),\"\\uFF1A\\u4EF7\\u503C\\u7F51\\u7EDC\\uFF0C\\u8F93\\u5165\\u72B6\\u6001\\u6216\\u72B6\\u6001-\\u52A8\\u4F5C\\u5BF9\\uFF0C\\u8F93\\u51FA\\u4EF7\\u503C\\u51FD\\u6570 V_w(s) \\u6216 Q_w(s, a)\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"conclusion\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u672C\\u6587\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5B66\\u4E60\\u4E86 RL \\u57FA\\u672C\\u6D41\\u7A0B\\u4E0E\\u4E00\\u4E9B\\u5173\\u952E\\u6027\\u6982\\u5FF5\\uFF0C\\u5305\\u62EC\\u56DE\\u62A5\\u51FD\\u6570\\uFF08Reward Function\\uFF09\\uFF0C\\u72B6\\u6001\\u4EF7\\u503C\\u51FD\\u6570\\uFF08State-Value Function\\uFF09\\u4EE5\\u53CA\\u52A8\\u4F5C\\u4EF7\\u503C\\u51FD\\u6570\\uFF08Action-Value Function\\uFF09\\u3002\\u540C\\u65F6\\uFF0C\\u6211\\u4EEC\\u8FD8\\u4ECB\\u7ECD\\u4E86 Value-Based Methods \\u4EE5\\u53CA Policy-Based Methods\\uFF0C\\u66F4\\u8FDB\\u4E00\\u6B65\\uFF0CActor-Critic Methods \\u7ED3\\u5408\\u4E86\\u4E24\\u79CD\\u65B9\\u6848\\uFF0C\\u5E76\\u83B7\\u5F97\\u4E86\\u76F8\\u5BF9\\u66F4\\u4F18\\u7684\\u6548\\u679C\\u3002\"})]})}function s(i={}){let{wrapper:n}=i.components||{};return n?(0,e.jsx)(n,{...i,children:(0,e.jsx)(h,{...i})}):h(i)}return w(y);})();\n;return Component;"
    },
    "_id": "blog/AI/rl-basics.md",
    "_raw": {
      "sourceFilePath": "blog/AI/rl-basics.md",
      "sourceFileName": "rl-basics.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/rl-basics"
    },
    "type": "Blog",
    "readingTime": {
      "text": "5 min read",
      "minutes": 4.445,
      "time": 266700,
      "words": 889
    },
    "slug": "rl-basics",
    "path": "blog/AI/rl-basics",
    "toc": [
      {
        "value": "Introduction",
        "url": "#introduction",
        "depth": 2
      },
      {
        "value": "Key Concepts",
        "url": "#key-concepts",
        "depth": 2
      },
      {
        "value": "Reward Function",
        "url": "#reward-function",
        "depth": 3
      },
      {
        "value": "Action-Value Function",
        "url": "#action-value-function",
        "depth": 3
      },
      {
        "value": "State-Value Function",
        "url": "#state-value-function",
        "depth": 3
      },
      {
        "value": "Deep Q-Network (Value-Based)",
        "url": "#deep-q-network-value-based",
        "depth": 2
      },
      {
        "value": "Policy Network (Policy-Based)",
        "url": "#policy-network-policy-based",
        "depth": 2
      },
      {
        "value": "Actor-Critic Methods",
        "url": "#actor-critic-methods",
        "depth": 2
      },
      {
        "value": "Conclusion",
        "url": "#conclusion",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "强化学习基础（1）",
      "datePublished": "2023-03-14T00:00:00.000Z",
      "dateModified": "2023-03-14T00:00:00.000Z",
      "description": "强化学习入门：介绍 Agent、Environment、Policy 等基本概念，以及 DQN、Policy Network 和 Actor-Critic 方法。",
      "url": "https://zhangjian94cn.github.io/blog/rl-basics"
    }
  },
  {
    "title": "SuperPoint Outline",
    "date": "2022-05-07T00:00:00.000Z",
    "tags": [
      "deep-learning"
    ],
    "draft": false,
    "summary": "SuperPoint Outline",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n\n\n## FRAMEWORK\n\n<img src=\"/img/SuperPoint/Untitled.png\"/>\n\nMAINLY THREE PARTS（pic above）：\n\n1. **Interest Point Pre-Training**\n    1. use synthetic dataset（easy to get corner pts, e.g. L/Y/T junctions...）\n    2. train base detector（what is the detector‘s arch?）\n        \n        ![Untitled](/img/SuperPoint/Untitled%201.png)\n        \n    3. transfer to real img（next steps）\n2. **Interest Point Self-Labeling**（sample random homography，generate pseudo-GT）\n    1. use base detector to inference（init interest pts in real img）\n    2. use homographic adaption（detail？）\n3. **Joint Training**（interest pts and descriptor）\n    1. loss\n    2. network arch\n\n## METHOD DETAIL\n\n### NETWORK DESIGN\n\n![Untitled](/img/SuperPoint/Untitled%202.png)\n\n1. **encoder-decoder architecture**\n    1. shared encoder（advantages？）\n    2. two heads\n2. **Shared Encoder**\n    1. VGG-styled\n    2. pixel cells  \n\n        *three 2×2 non-overlapping max pooling operations in the encoder result in 8 × 8 pixel cells*\n        \n3. **Interest Point Decoder**\n    1. NO upsampling layers（high computation & unwanted checkerboard artifacts）\n    2. designed the interest point detection head（with an explicit decoder）  \n\n        *This decoder has no parameters, and is known as “sub-pixel convolution” or “depth to space” in TensorFlow or “pixel shuffle” in PyTorch*\n        \n4. **Descriptor Decoder**\n    1. similar to UCN（Universal Correspondence Network）\n    2. perform bicubic interpolation of the descriptor and then L2-normalizes（fixed）\n\n### LOSS FUNC\n\n![Untitled](/img/SuperPoint/Untitled%203.png)\n\n![Untitled](/img/SuperPoint/Untitled%204.png)\n\n![Untitled](/img/SuperPoint/Untitled%205.png)\n\n![Untitled](/img/SuperPoint/Untitled%206.png)\n\n### HOMOGRAPHY\n\n![Untitled](/img/SuperPoint/Untitled%207.png)\n\n1. formulation\n    \n    ![Untitled](/img/SuperPoint/Untitled%208.png)\n    \n    - $I$: input image\n    - $x$: resulting interest points\n    - $f_\\theta$: network\n    - $\\mathcal{H}$: homography\n2. improved super-point detector\n    \n    ![Untitled](/img/SuperPoint/Untitled%209.png)\n    \n3. choosing homographies\n    \n    ![Untitled](/img/SuperPoint/Untitled%2010.png)\n    \n4. Iterative Homographic Adaptation\n    \n    ![Untitled](/img/SuperPoint/Untitled%2011.png)\n    \n\n## RESOURCE\n\n[rpautrat/SuperPoint: Efficient neural feature detector and descriptor (github.com)](https://github.com/rpautrat/SuperPoint)\n\n[magicleap/SuperPointPretrainedNetwork: PyTorch pre-trained model for real-time interest point detection, description, and sparse tracking (https://arxiv.org/abs/1712.07629) (github.com)](https://github.com/magicleap/SuperPointPretrainedNetwork)\n\n[一种深度学习特征SuperPoint (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU1MjY4MTA1MQ==&mid=2247556641&idx=3&sn=507c477626e338f93e629c7bc67a6407&chksm=fbfc3515cc8bbc03d4be35281067f2b93282e2787aa2083fea4d758d32cdde585ede01f078e5&mpshare=1&scene=1&srcid=0508mLjY0t6SdpEJSovTUkFC&sharer_sharetime=1652000972058&sharer_shareid=8fc6565eaeb0553c536a46e389bd4b3c&exportkey=AXNV3GF3KmHW0dBwyHdkE4U%3D&acctmode=0&pass_ticket=GoAvLPAMJyQPVPWlgh%2F6WcehnYBWuXQ3qhJNBqnP6qswP7WxGeu5spDAW73lYIK%2F&wx_header=0#rd)\n\n[腾讯优图荣获CVPR2021 Image Matching Workshop双赛道冠亚军 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzA3OTQ5OTk5MQ==&mid=2655175019&idx=1&sn=21eb3f5e21d3c57250ce51a7731a1839&chksm=8404e6d3b3736fc5ea5c8cd60c052f4ceb24a0203ecf6337811675a6caba0b297be6e5f5be66&mpshare=1&scene=1&srcid=0508A3foCMJzP2UlQzzn0hny&sharer_sharetime=1652001514709&sharer_shareid=8fc6565eaeb0553c536a46e389bd4b3c&exportkey=Aaj6tMgtk%2FqkmGtK5bp1y%2Fk%3D&acctmode=0&pass_ticket=GoAvLPAMJyQPVPWlgh%2F6WcehnYBWuXQ3qhJNBqnP6qswP7WxGeu5spDAW73lYIK%2F&wx_header=0#rd)",
      "code": "var Component=(()=>{var m=Object.create;var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var N=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),f=(i,e)=>{for(var t in e)a(i,t,{get:e[t],enumerable:!0})},c=(i,e,t,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of g(e))!x.call(i,r)&&r!==t&&a(i,r,{get:()=>e[r],enumerable:!(l=p(e,r))||l.enumerable});return i};var b=(i,e,t)=>(t=i!=null?m(u(i)):{},c(e||!i||!i.__esModule?a(t,\"default\",{value:i,enumerable:!0}):t,i)),w=i=>c(a({},\"__esModule\",{value:!0}),i);var h=N((U,s)=>{s.exports=_jsx_runtime});var P={};f(P,{default:()=>o,frontmatter:()=>k});var n=b(h()),k={title:\"SuperPoint Outline\",date:\"2022-05-07\",tags:[\"deep-learning\"],draft:!1,summary:\"SuperPoint Outline\",authors:[\"default\"]};function d(i){let e={a:\"a\",annotation:\"annotation\",em:\"em\",h2:\"h2\",h3:\"h3\",img:\"img\",li:\"li\",math:\"math\",mi:\"mi\",mrow:\"mrow\",msub:\"msub\",ol:\"ol\",p:\"p\",semantics:\"semantics\",span:\"span\",strong:\"strong\",ul:\"ul\",...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"framework\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#framework\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"FRAMEWORK\"]}),`\n`,(0,n.jsx)(\"img\",{src:\"/img/SuperPoint/Untitled.png\"}),`\n`,(0,n.jsx)(e.p,{children:\"MAINLY THREE PARTS\\uFF08pic above\\uFF09\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Interest Point Pre-Training\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"use synthetic dataset\\uFF08easy to get corner pts, e.g. L/Y/T junctions...\\uFF09\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"train base detector\\uFF08what is the detector\\u2018s arch?\\uFF09\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%201.png\",alt:\"Untitled\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"transfer to real img\\uFF08next steps\\uFF09\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Interest Point Self-Labeling\"}),\"\\uFF08sample random homography\\uFF0Cgenerate pseudo-GT\\uFF09\",`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"use base detector to inference\\uFF08init interest pts in real img\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"use homographic adaption\\uFF08detail\\uFF1F\\uFF09\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Joint Training\"}),\"\\uFF08interest pts and descriptor\\uFF09\",`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"loss\"}),`\n`,(0,n.jsx)(e.li,{children:\"network arch\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"method-detail\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#method-detail\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"METHOD DETAIL\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"network-design\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#network-design\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"NETWORK DESIGN\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%202.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"encoder-decoder architecture\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"shared encoder\\uFF08advantages\\uFF1F\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"two heads\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Shared Encoder\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"VGG-styled\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"pixel cells\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"three 2\\xD72 non-overlapping max pooling operations in the encoder result in 8 \\xD7 8 pixel cells\"})}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Interest Point Decoder\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"NO upsampling layers\\uFF08high computation & unwanted checkerboard artifacts\\uFF09\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"designed the interest point detection head\\uFF08with an explicit decoder\\uFF09\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"This decoder has no parameters, and is known as \\u201Csub-pixel convolution\\u201D or \\u201Cdepth to space\\u201D in TensorFlow or \\u201Cpixel shuffle\\u201D in PyTorch\"})}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Descriptor Decoder\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"similar to UCN\\uFF08Universal Correspondence Network\\uFF09\"}),`\n`,(0,n.jsx)(e.li,{children:\"perform bicubic interpolation of the descriptor and then L2-normalizes\\uFF08fixed\\uFF09\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"loss-func\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#loss-func\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"LOSS FUNC\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%203.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%204.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%205.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%206.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsxs)(e.h3,{id:\"homography\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#homography\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"HOMOGRAPHY\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%207.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"formulation\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%208.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.span,{className:\"katex\",children:[(0,n.jsx)(e.span,{className:\"katex-mathml\",children:(0,n.jsx)(e.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:\"I\"})}),(0,n.jsx)(e.annotation,{encoding:\"application/x-tex\",children:\"I\"})]})})}),(0,n.jsx)(e.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,n.jsxs)(e.span,{className:\"base\",children:[(0,n.jsx)(e.span,{className:\"strut\",style:{height:\"0.6833em\"}}),(0,n.jsx)(e.span,{className:\"mord mathnormal\",style:{marginRight:\"0.07847em\"},children:\"I\"})]})})]}),\": input image\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.span,{className:\"katex\",children:[(0,n.jsx)(e.span,{className:\"katex-mathml\",children:(0,n.jsx)(e.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:\"x\"})}),(0,n.jsx)(e.annotation,{encoding:\"application/x-tex\",children:\"x\"})]})})}),(0,n.jsx)(e.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,n.jsxs)(e.span,{className:\"base\",children:[(0,n.jsx)(e.span,{className:\"strut\",style:{height:\"0.4306em\"}}),(0,n.jsx)(e.span,{className:\"mord mathnormal\",children:\"x\"})]})})]}),\": resulting interest points\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.span,{className:\"katex\",children:[(0,n.jsx)(e.span,{className:\"katex-mathml\",children:(0,n.jsx)(e.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:\"f\"}),(0,n.jsx)(e.mi,{children:\"\\u03B8\"})]})}),(0,n.jsx)(e.annotation,{encoding:\"application/x-tex\",children:\"f_\\\\theta\"})]})})}),(0,n.jsx)(e.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,n.jsxs)(e.span,{className:\"base\",children:[(0,n.jsx)(e.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,n.jsxs)(e.span,{className:\"mord\",children:[(0,n.jsx)(e.span,{className:\"mord mathnormal\",style:{marginRight:\"0.10764em\"},children:\"f\"}),(0,n.jsx)(e.span,{className:\"msupsub\",children:(0,n.jsxs)(e.span,{className:\"vlist-t vlist-t2\",children:[(0,n.jsxs)(e.span,{className:\"vlist-r\",children:[(0,n.jsx)(e.span,{className:\"vlist\",style:{height:\"0.3361em\"},children:(0,n.jsxs)(e.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1076em\",marginRight:\"0.05em\"},children:[(0,n.jsx)(e.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,n.jsx)(e.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,n.jsx)(e.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.02778em\"},children:\"\\u03B8\"})})]})}),(0,n.jsx)(e.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,n.jsx)(e.span,{className:\"vlist-r\",children:(0,n.jsx)(e.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,n.jsx)(e.span,{})})})]})})]})]})})]}),\": network\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.span,{className:\"katex\",children:[(0,n.jsx)(e.span,{className:\"katex-mathml\",children:(0,n.jsx)(e.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{mathvariant:\"script\",children:\"H\"})}),(0,n.jsx)(e.annotation,{encoding:\"application/x-tex\",children:\"\\\\mathcal{H}\"})]})})}),(0,n.jsx)(e.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,n.jsxs)(e.span,{className:\"base\",children:[(0,n.jsx)(e.span,{className:\"strut\",style:{height:\"0.6833em\"}}),(0,n.jsx)(e.span,{className:\"mord mathcal\",style:{marginRight:\"0.00965em\"},children:\"H\"})]})})]}),\": homography\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"improved super-point detector\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%209.png\",alt:\"Untitled\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"choosing homographies\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%2010.png\",alt:\"Untitled\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Iterative Homographic Adaptation\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/SuperPoint/Untitled%2011.png\",alt:\"Untitled\"})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"resource\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#resource\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"RESOURCE\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rpautrat/SuperPoint\",children:\"rpautrat/SuperPoint: Efficient neural feature detector and descriptor (github.com)\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://github.com/magicleap/SuperPointPretrainedNetwork\",children:\"magicleap/SuperPointPretrainedNetwork: PyTorch pre-trained model for real-time interest point detection, description, and sparse tracking (https://arxiv.org/abs/1712.07629) (github.com)\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://mp.weixin.qq.com/s?__biz=MzU1MjY4MTA1MQ==&mid=2247556641&idx=3&sn=507c477626e338f93e629c7bc67a6407&chksm=fbfc3515cc8bbc03d4be35281067f2b93282e2787aa2083fea4d758d32cdde585ede01f078e5&mpshare=1&scene=1&srcid=0508mLjY0t6SdpEJSovTUkFC&sharer_sharetime=1652000972058&sharer_shareid=8fc6565eaeb0553c536a46e389bd4b3c&exportkey=AXNV3GF3KmHW0dBwyHdkE4U%3D&acctmode=0&pass_ticket=GoAvLPAMJyQPVPWlgh%2F6WcehnYBWuXQ3qhJNBqnP6qswP7WxGeu5spDAW73lYIK%2F&wx_header=0#rd\",children:\"\\u4E00\\u79CD\\u6DF1\\u5EA6\\u5B66\\u4E60\\u7279\\u5F81SuperPoint (qq.com)\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://mp.weixin.qq.com/s?__biz=MzA3OTQ5OTk5MQ==&mid=2655175019&idx=1&sn=21eb3f5e21d3c57250ce51a7731a1839&chksm=8404e6d3b3736fc5ea5c8cd60c052f4ceb24a0203ecf6337811675a6caba0b297be6e5f5be66&mpshare=1&scene=1&srcid=0508A3foCMJzP2UlQzzn0hny&sharer_sharetime=1652001514709&sharer_shareid=8fc6565eaeb0553c536a46e389bd4b3c&exportkey=Aaj6tMgtk%2FqkmGtK5bp1y%2Fk%3D&acctmode=0&pass_ticket=GoAvLPAMJyQPVPWlgh%2F6WcehnYBWuXQ3qhJNBqnP6qswP7WxGeu5spDAW73lYIK%2F&wx_header=0#rd\",children:\"\\u817E\\u8BAF\\u4F18\\u56FE\\u8363\\u83B7CVPR2021 Image Matching Workshop\\u53CC\\u8D5B\\u9053\\u51A0\\u4E9A\\u519B (qq.com)\"})})]})}function o(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsx)(e,{...i,children:(0,n.jsx)(d,{...i})}):d(i)}return w(P);})();\n;return Component;"
    },
    "_id": "blog/AI/superpoint.md",
    "_raw": {
      "sourceFilePath": "blog/AI/superpoint.md",
      "sourceFileName": "superpoint.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/superpoint"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.355,
      "time": 81300,
      "words": 271
    },
    "slug": "superpoint",
    "path": "blog/AI/superpoint",
    "toc": [
      {
        "value": "FRAMEWORK",
        "url": "#framework",
        "depth": 2
      },
      {
        "value": "METHOD DETAIL",
        "url": "#method-detail",
        "depth": 2
      },
      {
        "value": "NETWORK DESIGN",
        "url": "#network-design",
        "depth": 3
      },
      {
        "value": "LOSS FUNC",
        "url": "#loss-func",
        "depth": 3
      },
      {
        "value": "HOMOGRAPHY",
        "url": "#homography",
        "depth": 3
      },
      {
        "value": "RESOURCE",
        "url": "#resource",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "SuperPoint Outline",
      "datePublished": "2022-05-07T00:00:00.000Z",
      "dateModified": "2022-05-07T00:00:00.000Z",
      "description": "SuperPoint Outline",
      "url": "https://zhangjian94cn.github.io/blog/superpoint"
    }
  },
  {
    "title": "江苏移动数智助手 Text2SQL 大模型微调实践",
    "date": "2024-08-03T00:00:00.000Z",
    "tags": [
      "LLM",
      "deep-learning"
    ],
    "draft": false,
    "summary": "随着人工智能技术的迅猛发展，企业在数据处理和分析方面的需求也日益增长。为了更高效地从海量数据中提取有用信息，我们在数智助手中进行了Text2SQL微调实践。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n> \"随着人工智能技术的迅猛发展，企业在数据处理和分析方面的需求也日益增长。为了更高效地从海量数据中提取有用信息，我们在数智助手中进行了Text2SQL微调实践。这不仅提高了数据查询的效率，还大幅提升了用户体验。\"\n\n## 问题分析\n\nText2SQL也称NL2SQL，指用自然语言向LLM提问，推理生成结构化SQL语句的过程。\n\n随着大语言模型的迅猛演进，通过LLM将自然语言表达的用户需求转化为SQL查询指令，已确立为解决复杂数据检索问题的首选方案。我们利用海量数据对大模型进行微调，从而增强其在新场景下的适应性和准确性，最终形成：**用户问题-SQL命令生成-SQL查询结果返回-查询结果总结输出的完整闭环**，实现可靠、准确的问答流程。\n\n在项目早期未引入Text2SQL时，针对用户套餐查询的需求，我们基于单纯RAG语义向量匹配和基座大模型能力，无法实现对用户问题的精准回答，例如：\n\n当用户提问：“将流量套餐升档到20g，推荐什么”时，原有的回答仅简单提到了“畅想20GB流量套餐”，对于其他的选择并没有提及。此外，回答中还存在一些由大模型自行理解输出的信息，缺乏可靠性与真实性。\n\n为了解决这一问题，我们在数智助手项目实践过程中，发现提升正确率的最大的难点是推理所用到的业务知识和场景（包括业务模型+业务规则）。单纯依赖于提示词的方案无法满足实际业务对回答准确率的要求。因此，如何将用户问题准确转换为SQL表可识别的查询语句，是我们需要重点解决的问题。\n\n### Text2SQL大模型现存问题\n\n在实践过程中，我们发现目前的Text2SQL中存在的一些主要问题包括：\n\n**(1) 输出幻觉（Hallucination）**：LLM在生成SQL语句时会生成一些看似合理，但实际与输入文本无关或错误的查询，这可能是由于模型尚未充分学习到数据库的信息和SQL逻辑，导致在推理阶段产生误导性的输出。例如，当用户提问：“比语音翻倍包更经济的套餐有哪些？”，生成的SQL命令为：\n\n```sql\nSELECT * FROM database WHERE money < 50;\n```\n\n大模型直接认为”语音翻倍包“的价格为50元，并以此输出SQL语句，导致查询结果出错。\n\n**(2) 答案稳定性**：模型生成答案不够稳定，偶尔需要多次提问才能找到最优答案。例如，用户多次提问”请问流量超过3000MB有几种套餐“，得到的回答会出现以下几种情况：\n\n```sql\nSELECT COUNT(*) FROM database WHERE en_names LIKE %'流量超过3000MB'%;\nSELECT COUNT(*) FROM database WHERE en_broadband > 3;\nSELECT COUNT(*) FROM database WHERE en_broadband > 3000;\n```\n\n在多次提问的过程中，出现了语义理解不清（将”流量超过3000MB“作为套餐名）、单位换算出错（MB转换成GB）的情况，暴露出大模型稳定性不强的问题。\n\n### 优化方法\n\n为了解决这些模型问题，我们考虑了Prompt Engineering（提示工程）、Fine-tuning（模型微调）等方式对模型进行优化。\n\n**(1) Prompt Engineering（提示工程）** 能够通过设计特定的提示词或句子，引导模型生成更贴合用户意图的输出。在处理SQL查询时，向模型注入特定领域的知识，比如SQL规范、数据库架构以及注意单位转换等额外要求，能够显著提升模型对于SQL语句结构和逻辑的理解能力。\n\n**(2) Fine-tuning（模型微调）** 是一种先进的机器学习技术，旨在针对预训练模型进行定制化调整，使其更加契合特定应用场景的需求。尤其在Text2SQL这类复杂任务中，我们可以通过利用富含SQL语句的专门数据集对模型进行微调，以此强化模型对SQL语言特性的理解和生成能力。\n\n#### 优化尝试\n\n根据优化方案的调研结果，我们首先尝试通过提示工程对Text2SQL进行优化。Prompt示例如下：\n\n```text\n你是一位优秀的文本转sql命令的AI专家，擅长的事情是分析用户提问的真实意图，将其转换成sql命令，sql命令切记不要生编乱造，且只返回sql，不返回其他分析内容。\nsql表包含以下属性：***\n示例：\n用户输入：\"用户打算将流量套餐升档到4GB，推荐什么\"，\n返回sql：\"SELECT * FROM database WHERE GB = 4000\"。\n```\n\n我们对大模型输入提示词后，进行了性能测试，测试准确率为83%。例如，向其提问：“98太贵了，有没有便宜点的”，能够得到正确结果：\n\n```sql\nSELECT * FROM database WHERE en_money < 98 AND en_money != '';\n```\n\n而错误结果中，大部分错误数据与套餐名称有关。例如，用户提问：“教育全能会员计划里，哪些套餐包含至少2GB的数据？”，返回结果：\n\n```sql\nSELECT * FROM database WHERE AND en_GB >= 2000;\n```\n\n虽然正确筛选出了流量超过2GB的套餐，但无法定位到“教育全能会员计划”套餐，导致查询出大量的信息，为后续总结输出带来困难。\n\n鉴于用户查询常涉及特定套餐名称，现有通用大模型可能缺乏这些细节信息。因此，我们计划让大模型对专业知识进行学习，从而进一步提升其语义理解能力。\n\n目前模型微调主流的方法包括2021年微软提出的 LoRA (Low-Rank Adaptation)。LoRA微调通过将模型的部分权重矩阵分解为两个低秩矩阵，只更新这两个小矩阵的参数来实现微调，从而减少计算资源和内存占用。\n\n## 微调训练数据准备\n\n### 生成方法\n\n(1) 提取关键属性信息：对业务知识提取关键属性及对应的信息。\n\n```\n套餐名称：{names}\n套餐价格：{money}\n套餐流量：{GB}\n可通话时长：{duration}\n套餐上线年份：{online_years}\n套餐下线年份：{offline_years}\n套餐宽带量：{broadband}\n套餐地点：{locations}\n```\n\n(2) 构建常见的用户问题与sql命令语料对，通过抽象化用户可能提问的问题，并进行对应的同义词替换，生成大量训练样本\n\n- **示例1**：查询128元的套餐\n  `SELECT * FROM {table_name} WHERE money = {money};`\n- **示例2**：降档流量套餐到60G\n  `SELECT * FROM {table_name} WHERE GB = {GB};`\n\n(3) 训练语料对保存为json格式\n\n```json\n{\n  \"user\": \"升级到41GB流量的套餐，有什么建议\",\n  \"assistant\": \"SELECT * FROM database WHERE GB = 41000;\"\n}\n```\n\n### 生成规模\n\n共生成**15w条语料对**，包括正向语料和反向语料：\n\n- **正向语料**：\n  - **直接查询类**：生成5w条样本。\n  - **数字比较类**：生成5w条样本。\n- **反向语料**：生成5w条样本。\n\n## 微调过程\n\n1.  **所需资源**：GPU：NVIDIA A100-SXM4-40GB x2；微调模型：QWen-7b-chat\n2.  **训练时长**：大约3.75小时\n\n我们对微调后的模型进行测试，用户问题与SQL语句的转换正确率可达**98.56%**，达到了生产上线的标准。当我们将微调模型部署后，回答的套餐信息已明显扩充，并且从用户角度考虑了短期和长期两种情况，向用户提供了更全面、更可靠的答案。\n\n## 未来展望\n\n随着大模型技术的日新月异，Text2SQL技术也在以惊人的速度不断发展。目前所采用的优化手段，虽然在现阶段可能有效，但随着大模型能力的持续提升，这些手段很可能会逐渐显得过时，甚至被彻底淘汰。\n\n一方面，我们不能神话大型语言模型（LLM）的能力，给予其过高的期望。另一方面，我们也不能因高估工程实现的难度而望而生畏。只有一步一个脚印，踏踏实实地解决工程实践中的每一个问题，才能最终将Text2SQL技术推向成熟的生产阶段。\n",
      "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),L=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},i=(a,n,s,r)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of N(n))!u.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(r=m(n,c))||r.enumerable});return a};var E=(a,n,s)=>(s=a!=null?p(k(a)):{},i(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),S=a=>i(l({},\"__esModule\",{value:!0}),a);var o=g((w,d)=>{d.exports=_jsx_runtime});var b={};L(b,{default:()=>h,frontmatter:()=>y});var e=E(o()),y={title:\"\\u6C5F\\u82CF\\u79FB\\u52A8\\u6570\\u667A\\u52A9\\u624B Text2SQL \\u5927\\u6A21\\u578B\\u5FAE\\u8C03\\u5B9E\\u8DF5\",date:\"2024-08-03\",tags:[\"LLM\",\"deep-learning\"],draft:!1,summary:\"\\u968F\\u7740\\u4EBA\\u5DE5\\u667A\\u80FD\\u6280\\u672F\\u7684\\u8FC5\\u731B\\u53D1\\u5C55\\uFF0C\\u4F01\\u4E1A\\u5728\\u6570\\u636E\\u5904\\u7406\\u548C\\u5206\\u6790\\u65B9\\u9762\\u7684\\u9700\\u6C42\\u4E5F\\u65E5\\u76CA\\u589E\\u957F\\u3002\\u4E3A\\u4E86\\u66F4\\u9AD8\\u6548\\u5730\\u4ECE\\u6D77\\u91CF\\u6570\\u636E\\u4E2D\\u63D0\\u53D6\\u6709\\u7528\\u4FE1\\u606F\\uFF0C\\u6211\\u4EEC\\u5728\\u6570\\u667A\\u52A9\\u624B\\u4E2D\\u8FDB\\u884C\\u4E86Text2SQL\\u5FAE\\u8C03\\u5B9E\\u8DF5\\u3002\",authors:[\"default\"]};function t(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:'\"\\u968F\\u7740\\u4EBA\\u5DE5\\u667A\\u80FD\\u6280\\u672F\\u7684\\u8FC5\\u731B\\u53D1\\u5C55\\uFF0C\\u4F01\\u4E1A\\u5728\\u6570\\u636E\\u5904\\u7406\\u548C\\u5206\\u6790\\u65B9\\u9762\\u7684\\u9700\\u6C42\\u4E5F\\u65E5\\u76CA\\u589E\\u957F\\u3002\\u4E3A\\u4E86\\u66F4\\u9AD8\\u6548\\u5730\\u4ECE\\u6D77\\u91CF\\u6570\\u636E\\u4E2D\\u63D0\\u53D6\\u6709\\u7528\\u4FE1\\u606F\\uFF0C\\u6211\\u4EEC\\u5728\\u6570\\u667A\\u52A9\\u624B\\u4E2D\\u8FDB\\u884C\\u4E86Text2SQL\\u5FAE\\u8C03\\u5B9E\\u8DF5\\u3002\\u8FD9\\u4E0D\\u4EC5\\u63D0\\u9AD8\\u4E86\\u6570\\u636E\\u67E5\\u8BE2\\u7684\\u6548\\u7387\\uFF0C\\u8FD8\\u5927\\u5E45\\u63D0\\u5347\\u4E86\\u7528\\u6237\\u4F53\\u9A8C\\u3002\"'}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u95EE\\u9898\\u5206\\u6790\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u95EE\\u9898\\u5206\\u6790\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u95EE\\u9898\\u5206\\u6790\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Text2SQL\\u4E5F\\u79F0NL2SQL\\uFF0C\\u6307\\u7528\\u81EA\\u7136\\u8BED\\u8A00\\u5411LLM\\u63D0\\u95EE\\uFF0C\\u63A8\\u7406\\u751F\\u6210\\u7ED3\\u6784\\u5316SQL\\u8BED\\u53E5\\u7684\\u8FC7\\u7A0B\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u968F\\u7740\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u7684\\u8FC5\\u731B\\u6F14\\u8FDB\\uFF0C\\u901A\\u8FC7LLM\\u5C06\\u81EA\\u7136\\u8BED\\u8A00\\u8868\\u8FBE\\u7684\\u7528\\u6237\\u9700\\u6C42\\u8F6C\\u5316\\u4E3ASQL\\u67E5\\u8BE2\\u6307\\u4EE4\\uFF0C\\u5DF2\\u786E\\u7ACB\\u4E3A\\u89E3\\u51B3\\u590D\\u6742\\u6570\\u636E\\u68C0\\u7D22\\u95EE\\u9898\\u7684\\u9996\\u9009\\u65B9\\u6848\\u3002\\u6211\\u4EEC\\u5229\\u7528\\u6D77\\u91CF\\u6570\\u636E\\u5BF9\\u5927\\u6A21\\u578B\\u8FDB\\u884C\\u5FAE\\u8C03\\uFF0C\\u4ECE\\u800C\\u589E\\u5F3A\\u5176\\u5728\\u65B0\\u573A\\u666F\\u4E0B\\u7684\\u9002\\u5E94\\u6027\\u548C\\u51C6\\u786E\\u6027\\uFF0C\\u6700\\u7EC8\\u5F62\\u6210\\uFF1A\",(0,e.jsx)(n.strong,{children:\"\\u7528\\u6237\\u95EE\\u9898-SQL\\u547D\\u4EE4\\u751F\\u6210-SQL\\u67E5\\u8BE2\\u7ED3\\u679C\\u8FD4\\u56DE-\\u67E5\\u8BE2\\u7ED3\\u679C\\u603B\\u7ED3\\u8F93\\u51FA\\u7684\\u5B8C\\u6574\\u95ED\\u73AF\"}),\"\\uFF0C\\u5B9E\\u73B0\\u53EF\\u9760\\u3001\\u51C6\\u786E\\u7684\\u95EE\\u7B54\\u6D41\\u7A0B\\u3002\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u9879\\u76EE\\u65E9\\u671F\\u672A\\u5F15\\u5165Text2SQL\\u65F6\\uFF0C\\u9488\\u5BF9\\u7528\\u6237\\u5957\\u9910\\u67E5\\u8BE2\\u7684\\u9700\\u6C42\\uFF0C\\u6211\\u4EEC\\u57FA\\u4E8E\\u5355\\u7EAFRAG\\u8BED\\u4E49\\u5411\\u91CF\\u5339\\u914D\\u548C\\u57FA\\u5EA7\\u5927\\u6A21\\u578B\\u80FD\\u529B\\uFF0C\\u65E0\\u6CD5\\u5B9E\\u73B0\\u5BF9\\u7528\\u6237\\u95EE\\u9898\\u7684\\u7CBE\\u51C6\\u56DE\\u7B54\\uFF0C\\u4F8B\\u5982\\uFF1A\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5F53\\u7528\\u6237\\u63D0\\u95EE\\uFF1A\\u201C\\u5C06\\u6D41\\u91CF\\u5957\\u9910\\u5347\\u6863\\u523020g\\uFF0C\\u63A8\\u8350\\u4EC0\\u4E48\\u201D\\u65F6\\uFF0C\\u539F\\u6709\\u7684\\u56DE\\u7B54\\u4EC5\\u7B80\\u5355\\u63D0\\u5230\\u4E86\\u201C\\u7545\\u60F320GB\\u6D41\\u91CF\\u5957\\u9910\\u201D\\uFF0C\\u5BF9\\u4E8E\\u5176\\u4ED6\\u7684\\u9009\\u62E9\\u5E76\\u6CA1\\u6709\\u63D0\\u53CA\\u3002\\u6B64\\u5916\\uFF0C\\u56DE\\u7B54\\u4E2D\\u8FD8\\u5B58\\u5728\\u4E00\\u4E9B\\u7531\\u5927\\u6A21\\u578B\\u81EA\\u884C\\u7406\\u89E3\\u8F93\\u51FA\\u7684\\u4FE1\\u606F\\uFF0C\\u7F3A\\u4E4F\\u53EF\\u9760\\u6027\\u4E0E\\u771F\\u5B9E\\u6027\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E00\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u5728\\u6570\\u667A\\u52A9\\u624B\\u9879\\u76EE\\u5B9E\\u8DF5\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u53D1\\u73B0\\u63D0\\u5347\\u6B63\\u786E\\u7387\\u7684\\u6700\\u5927\\u7684\\u96BE\\u70B9\\u662F\\u63A8\\u7406\\u6240\\u7528\\u5230\\u7684\\u4E1A\\u52A1\\u77E5\\u8BC6\\u548C\\u573A\\u666F\\uFF08\\u5305\\u62EC\\u4E1A\\u52A1\\u6A21\\u578B+\\u4E1A\\u52A1\\u89C4\\u5219\\uFF09\\u3002\\u5355\\u7EAF\\u4F9D\\u8D56\\u4E8E\\u63D0\\u793A\\u8BCD\\u7684\\u65B9\\u6848\\u65E0\\u6CD5\\u6EE1\\u8DB3\\u5B9E\\u9645\\u4E1A\\u52A1\\u5BF9\\u56DE\\u7B54\\u51C6\\u786E\\u7387\\u7684\\u8981\\u6C42\\u3002\\u56E0\\u6B64\\uFF0C\\u5982\\u4F55\\u5C06\\u7528\\u6237\\u95EE\\u9898\\u51C6\\u786E\\u8F6C\\u6362\\u4E3ASQL\\u8868\\u53EF\\u8BC6\\u522B\\u7684\\u67E5\\u8BE2\\u8BED\\u53E5\\uFF0C\\u662F\\u6211\\u4EEC\\u9700\\u8981\\u91CD\\u70B9\\u89E3\\u51B3\\u7684\\u95EE\\u9898\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"text2sql\\u5927\\u6A21\\u578B\\u73B0\\u5B58\\u95EE\\u9898\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#text2sql\\u5927\\u6A21\\u578B\\u73B0\\u5B58\\u95EE\\u9898\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Text2SQL\\u5927\\u6A21\\u578B\\u73B0\\u5B58\\u95EE\\u9898\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u5B9E\\u8DF5\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53D1\\u73B0\\u76EE\\u524D\\u7684Text2SQL\\u4E2D\\u5B58\\u5728\\u7684\\u4E00\\u4E9B\\u4E3B\\u8981\\u95EE\\u9898\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"(1) \\u8F93\\u51FA\\u5E7B\\u89C9\\uFF08Hallucination\\uFF09\"}),\"\\uFF1ALLM\\u5728\\u751F\\u6210SQL\\u8BED\\u53E5\\u65F6\\u4F1A\\u751F\\u6210\\u4E00\\u4E9B\\u770B\\u4F3C\\u5408\\u7406\\uFF0C\\u4F46\\u5B9E\\u9645\\u4E0E\\u8F93\\u5165\\u6587\\u672C\\u65E0\\u5173\\u6216\\u9519\\u8BEF\\u7684\\u67E5\\u8BE2\\uFF0C\\u8FD9\\u53EF\\u80FD\\u662F\\u7531\\u4E8E\\u6A21\\u578B\\u5C1A\\u672A\\u5145\\u5206\\u5B66\\u4E60\\u5230\\u6570\\u636E\\u5E93\\u7684\\u4FE1\\u606F\\u548CSQL\\u903B\\u8F91\\uFF0C\\u5BFC\\u81F4\\u5728\\u63A8\\u7406\\u9636\\u6BB5\\u4EA7\\u751F\\u8BEF\\u5BFC\\u6027\\u7684\\u8F93\\u51FA\\u3002\\u4F8B\\u5982\\uFF0C\\u5F53\\u7528\\u6237\\u63D0\\u95EE\\uFF1A\\u201C\\u6BD4\\u8BED\\u97F3\\u7FFB\\u500D\\u5305\\u66F4\\u7ECF\\u6D4E\\u7684\\u5957\\u9910\\u6709\\u54EA\\u4E9B\\uFF1F\\u201D\\uFF0C\\u751F\\u6210\\u7684SQL\\u547D\\u4EE4\\u4E3A\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsx)(n.code,{className:\"language-sql code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" money \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"50\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5927\\u6A21\\u578B\\u76F4\\u63A5\\u8BA4\\u4E3A\\u201D\\u8BED\\u97F3\\u7FFB\\u500D\\u5305\\u201C\\u7684\\u4EF7\\u683C\\u4E3A50\\u5143\\uFF0C\\u5E76\\u4EE5\\u6B64\\u8F93\\u51FASQL\\u8BED\\u53E5\\uFF0C\\u5BFC\\u81F4\\u67E5\\u8BE2\\u7ED3\\u679C\\u51FA\\u9519\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"(2) \\u7B54\\u6848\\u7A33\\u5B9A\\u6027\"}),\"\\uFF1A\\u6A21\\u578B\\u751F\\u6210\\u7B54\\u6848\\u4E0D\\u591F\\u7A33\\u5B9A\\uFF0C\\u5076\\u5C14\\u9700\\u8981\\u591A\\u6B21\\u63D0\\u95EE\\u624D\\u80FD\\u627E\\u5230\\u6700\\u4F18\\u7B54\\u6848\\u3002\\u4F8B\\u5982\\uFF0C\\u7528\\u6237\\u591A\\u6B21\\u63D0\\u95EE\\u201D\\u8BF7\\u95EE\\u6D41\\u91CF\\u8D85\\u8FC73000MB\\u6709\\u51E0\\u79CD\\u5957\\u9910\\u201C\\uFF0C\\u5F97\\u5230\\u7684\\u56DE\\u7B54\\u4F1A\\u51FA\\u73B0\\u4EE5\\u4E0B\\u51E0\\u79CD\\u60C5\\u51B5\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"COUNT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" en_names \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"LIKE\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'\\u6D41\\u91CF\\u8D85\\u8FC73000MB'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"COUNT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" en_broadband \",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"COUNT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" en_broadband \",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5728\\u591A\\u6B21\\u63D0\\u95EE\\u7684\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u51FA\\u73B0\\u4E86\\u8BED\\u4E49\\u7406\\u89E3\\u4E0D\\u6E05\\uFF08\\u5C06\\u201D\\u6D41\\u91CF\\u8D85\\u8FC73000MB\\u201C\\u4F5C\\u4E3A\\u5957\\u9910\\u540D\\uFF09\\u3001\\u5355\\u4F4D\\u6362\\u7B97\\u51FA\\u9519\\uFF08MB\\u8F6C\\u6362\\u6210GB\\uFF09\\u7684\\u60C5\\u51B5\\uFF0C\\u66B4\\u9732\\u51FA\\u5927\\u6A21\\u578B\\u7A33\\u5B9A\\u6027\\u4E0D\\u5F3A\\u7684\\u95EE\\u9898\\u3002\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u4F18\\u5316\\u65B9\\u6CD5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F18\\u5316\\u65B9\\u6CD5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4F18\\u5316\\u65B9\\u6CD5\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u89E3\\u51B3\\u8FD9\\u4E9B\\u6A21\\u578B\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u8003\\u8651\\u4E86Prompt Engineering\\uFF08\\u63D0\\u793A\\u5DE5\\u7A0B\\uFF09\\u3001Fine-tuning\\uFF08\\u6A21\\u578B\\u5FAE\\u8C03\\uFF09\\u7B49\\u65B9\\u5F0F\\u5BF9\\u6A21\\u578B\\u8FDB\\u884C\\u4F18\\u5316\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"(1) Prompt Engineering\\uFF08\\u63D0\\u793A\\u5DE5\\u7A0B\\uFF09\"}),\" \\u80FD\\u591F\\u901A\\u8FC7\\u8BBE\\u8BA1\\u7279\\u5B9A\\u7684\\u63D0\\u793A\\u8BCD\\u6216\\u53E5\\u5B50\\uFF0C\\u5F15\\u5BFC\\u6A21\\u578B\\u751F\\u6210\\u66F4\\u8D34\\u5408\\u7528\\u6237\\u610F\\u56FE\\u7684\\u8F93\\u51FA\\u3002\\u5728\\u5904\\u7406SQL\\u67E5\\u8BE2\\u65F6\\uFF0C\\u5411\\u6A21\\u578B\\u6CE8\\u5165\\u7279\\u5B9A\\u9886\\u57DF\\u7684\\u77E5\\u8BC6\\uFF0C\\u6BD4\\u5982SQL\\u89C4\\u8303\\u3001\\u6570\\u636E\\u5E93\\u67B6\\u6784\\u4EE5\\u53CA\\u6CE8\\u610F\\u5355\\u4F4D\\u8F6C\\u6362\\u7B49\\u989D\\u5916\\u8981\\u6C42\\uFF0C\\u80FD\\u591F\\u663E\\u8457\\u63D0\\u5347\\u6A21\\u578B\\u5BF9\\u4E8ESQL\\u8BED\\u53E5\\u7ED3\\u6784\\u548C\\u903B\\u8F91\\u7684\\u7406\\u89E3\\u80FD\\u529B\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"(2) Fine-tuning\\uFF08\\u6A21\\u578B\\u5FAE\\u8C03\\uFF09\"}),\" \\u662F\\u4E00\\u79CD\\u5148\\u8FDB\\u7684\\u673A\\u5668\\u5B66\\u4E60\\u6280\\u672F\\uFF0C\\u65E8\\u5728\\u9488\\u5BF9\\u9884\\u8BAD\\u7EC3\\u6A21\\u578B\\u8FDB\\u884C\\u5B9A\\u5236\\u5316\\u8C03\\u6574\\uFF0C\\u4F7F\\u5176\\u66F4\\u52A0\\u5951\\u5408\\u7279\\u5B9A\\u5E94\\u7528\\u573A\\u666F\\u7684\\u9700\\u6C42\\u3002\\u5C24\\u5176\\u5728Text2SQL\\u8FD9\\u7C7B\\u590D\\u6742\\u4EFB\\u52A1\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7\\u5229\\u7528\\u5BCC\\u542BSQL\\u8BED\\u53E5\\u7684\\u4E13\\u95E8\\u6570\\u636E\\u96C6\\u5BF9\\u6A21\\u578B\\u8FDB\\u884C\\u5FAE\\u8C03\\uFF0C\\u4EE5\\u6B64\\u5F3A\\u5316\\u6A21\\u578B\\u5BF9SQL\\u8BED\\u8A00\\u7279\\u6027\\u7684\\u7406\\u89E3\\u548C\\u751F\\u6210\\u80FD\\u529B\\u3002\"]}),`\n`,(0,e.jsxs)(n.h4,{id:\"\\u4F18\\u5316\\u5C1D\\u8BD5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F18\\u5316\\u5C1D\\u8BD5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4F18\\u5316\\u5C1D\\u8BD5\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6839\\u636E\\u4F18\\u5316\\u65B9\\u6848\\u7684\\u8C03\\u7814\\u7ED3\\u679C\\uFF0C\\u6211\\u4EEC\\u9996\\u5148\\u5C1D\\u8BD5\\u901A\\u8FC7\\u63D0\\u793A\\u5DE5\\u7A0B\\u5BF9Text2SQL\\u8FDB\\u884C\\u4F18\\u5316\\u3002Prompt\\u793A\\u4F8B\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-text\",children:(0,e.jsxs)(n.code,{className:\"language-text code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u4F60\\u662F\\u4E00\\u4F4D\\u4F18\\u79C0\\u7684\\u6587\\u672C\\u8F6Csql\\u547D\\u4EE4\\u7684AI\\u4E13\\u5BB6\\uFF0C\\u64C5\\u957F\\u7684\\u4E8B\\u60C5\\u662F\\u5206\\u6790\\u7528\\u6237\\u63D0\\u95EE\\u7684\\u771F\\u5B9E\\u610F\\u56FE\\uFF0C\\u5C06\\u5176\\u8F6C\\u6362\\u6210sql\\u547D\\u4EE4\\uFF0Csql\\u547D\\u4EE4\\u5207\\u8BB0\\u4E0D\\u8981\\u751F\\u7F16\\u4E71\\u9020\\uFF0C\\u4E14\\u53EA\\u8FD4\\u56DEsql\\uFF0C\\u4E0D\\u8FD4\\u56DE\\u5176\\u4ED6\\u5206\\u6790\\u5185\\u5BB9\\u3002\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`sql\\u8868\\u5305\\u542B\\u4EE5\\u4E0B\\u5C5E\\u6027\\uFF1A***\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u793A\\u4F8B\\uFF1A\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u7528\\u6237\\u8F93\\u5165\\uFF1A\"\\u7528\\u6237\\u6253\\u7B97\\u5C06\\u6D41\\u91CF\\u5957\\u9910\\u5347\\u6863\\u52304GB\\uFF0C\\u63A8\\u8350\\u4EC0\\u4E48\"\\uFF0C\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\u8FD4\\u56DEsql\\uFF1A\"SELECT * FROM database WHERE GB = 4000\"\\u3002\n`})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u5BF9\\u5927\\u6A21\\u578B\\u8F93\\u5165\\u63D0\\u793A\\u8BCD\\u540E\\uFF0C\\u8FDB\\u884C\\u4E86\\u6027\\u80FD\\u6D4B\\u8BD5\\uFF0C\\u6D4B\\u8BD5\\u51C6\\u786E\\u7387\\u4E3A83%\\u3002\\u4F8B\\u5982\\uFF0C\\u5411\\u5176\\u63D0\\u95EE\\uFF1A\\u201C98\\u592A\\u8D35\\u4E86\\uFF0C\\u6709\\u6CA1\\u6709\\u4FBF\\u5B9C\\u70B9\\u7684\\u201D\\uFF0C\\u80FD\\u591F\\u5F97\\u5230\\u6B63\\u786E\\u7ED3\\u679C\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsx)(n.code,{className:\"language-sql code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" en_money \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"98\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"AND\"}),\" en_money \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u800C\\u9519\\u8BEF\\u7ED3\\u679C\\u4E2D\\uFF0C\\u5927\\u90E8\\u5206\\u9519\\u8BEF\\u6570\\u636E\\u4E0E\\u5957\\u9910\\u540D\\u79F0\\u6709\\u5173\\u3002\\u4F8B\\u5982\\uFF0C\\u7528\\u6237\\u63D0\\u95EE\\uFF1A\\u201C\\u6559\\u80B2\\u5168\\u80FD\\u4F1A\\u5458\\u8BA1\\u5212\\u91CC\\uFF0C\\u54EA\\u4E9B\\u5957\\u9910\\u5305\\u542B\\u81F3\\u5C112GB\\u7684\\u6570\\u636E\\uFF1F\\u201D\\uFF0C\\u8FD4\\u56DE\\u7ED3\\u679C\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsx)(n.code,{className:\"language-sql code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"database\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"AND\"}),\" en_GB \",(0,e.jsx)(n.span,{className:\"token operator\",children:\">=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u867D\\u7136\\u6B63\\u786E\\u7B5B\\u9009\\u51FA\\u4E86\\u6D41\\u91CF\\u8D85\\u8FC72GB\\u7684\\u5957\\u9910\\uFF0C\\u4F46\\u65E0\\u6CD5\\u5B9A\\u4F4D\\u5230\\u201C\\u6559\\u80B2\\u5168\\u80FD\\u4F1A\\u5458\\u8BA1\\u5212\\u201D\\u5957\\u9910\\uFF0C\\u5BFC\\u81F4\\u67E5\\u8BE2\\u51FA\\u5927\\u91CF\\u7684\\u4FE1\\u606F\\uFF0C\\u4E3A\\u540E\\u7EED\\u603B\\u7ED3\\u8F93\\u51FA\\u5E26\\u6765\\u56F0\\u96BE\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u9274\\u4E8E\\u7528\\u6237\\u67E5\\u8BE2\\u5E38\\u6D89\\u53CA\\u7279\\u5B9A\\u5957\\u9910\\u540D\\u79F0\\uFF0C\\u73B0\\u6709\\u901A\\u7528\\u5927\\u6A21\\u578B\\u53EF\\u80FD\\u7F3A\\u4E4F\\u8FD9\\u4E9B\\u7EC6\\u8282\\u4FE1\\u606F\\u3002\\u56E0\\u6B64\\uFF0C\\u6211\\u4EEC\\u8BA1\\u5212\\u8BA9\\u5927\\u6A21\\u578B\\u5BF9\\u4E13\\u4E1A\\u77E5\\u8BC6\\u8FDB\\u884C\\u5B66\\u4E60\\uFF0C\\u4ECE\\u800C\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u5176\\u8BED\\u4E49\\u7406\\u89E3\\u80FD\\u529B\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u76EE\\u524D\\u6A21\\u578B\\u5FAE\\u8C03\\u4E3B\\u6D41\\u7684\\u65B9\\u6CD5\\u5305\\u62EC2021\\u5E74\\u5FAE\\u8F6F\\u63D0\\u51FA\\u7684 LoRA (Low-Rank Adaptation)\\u3002LoRA\\u5FAE\\u8C03\\u901A\\u8FC7\\u5C06\\u6A21\\u578B\\u7684\\u90E8\\u5206\\u6743\\u91CD\\u77E9\\u9635\\u5206\\u89E3\\u4E3A\\u4E24\\u4E2A\\u4F4E\\u79E9\\u77E9\\u9635\\uFF0C\\u53EA\\u66F4\\u65B0\\u8FD9\\u4E24\\u4E2A\\u5C0F\\u77E9\\u9635\\u7684\\u53C2\\u6570\\u6765\\u5B9E\\u73B0\\u5FAE\\u8C03\\uFF0C\\u4ECE\\u800C\\u51CF\\u5C11\\u8BA1\\u7B97\\u8D44\\u6E90\\u548C\\u5185\\u5B58\\u5360\\u7528\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u5FAE\\u8C03\\u8BAD\\u7EC3\\u6570\\u636E\\u51C6\\u5907\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5FAE\\u8C03\\u8BAD\\u7EC3\\u6570\\u636E\\u51C6\\u5907\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5FAE\\u8C03\\u8BAD\\u7EC3\\u6570\\u636E\\u51C6\\u5907\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u751F\\u6210\\u65B9\\u6CD5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u751F\\u6210\\u65B9\\u6CD5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u751F\\u6210\\u65B9\\u6CD5\"]}),`\n`,(0,e.jsx)(n.p,{children:\"(1) \\u63D0\\u53D6\\u5173\\u952E\\u5C5E\\u6027\\u4FE1\\u606F\\uFF1A\\u5BF9\\u4E1A\\u52A1\\u77E5\\u8BC6\\u63D0\\u53D6\\u5173\\u952E\\u5C5E\\u6027\\u53CA\\u5BF9\\u5E94\\u7684\\u4FE1\\u606F\\u3002\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u540D\\u79F0\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"names\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u4EF7\\u683C\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"money\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u6D41\\u91CF\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"GB\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u53EF\\u901A\\u8BDD\\u65F6\\u957F\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"duration\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u4E0A\\u7EBF\\u5E74\\u4EFD\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"online_years\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u4E0B\\u7EBF\\u5E74\\u4EFD\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"offline_years\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u5BBD\\u5E26\\u91CF\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"broadband\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\u5957\\u9910\\u5730\\u70B9\\uFF1A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"locations\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"(2) \\u6784\\u5EFA\\u5E38\\u89C1\\u7684\\u7528\\u6237\\u95EE\\u9898\\u4E0Esql\\u547D\\u4EE4\\u8BED\\u6599\\u5BF9\\uFF0C\\u901A\\u8FC7\\u62BD\\u8C61\\u5316\\u7528\\u6237\\u53EF\\u80FD\\u63D0\\u95EE\\u7684\\u95EE\\u9898\\uFF0C\\u5E76\\u8FDB\\u884C\\u5BF9\\u5E94\\u7684\\u540C\\u4E49\\u8BCD\\u66FF\\u6362\\uFF0C\\u751F\\u6210\\u5927\\u91CF\\u8BAD\\u7EC3\\u6837\\u672C\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u793A\\u4F8B1\"}),`\\uFF1A\\u67E5\\u8BE2128\\u5143\\u7684\\u5957\\u9910\n`,(0,e.jsx)(n.code,{children:\"SELECT * FROM {table_name} WHERE money = {money};\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u793A\\u4F8B2\"}),`\\uFF1A\\u964D\\u6863\\u6D41\\u91CF\\u5957\\u9910\\u523060G\n`,(0,e.jsx)(n.code,{children:\"SELECT * FROM {table_name} WHERE GB = {GB};\"})]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"(3) \\u8BAD\\u7EC3\\u8BED\\u6599\\u5BF9\\u4FDD\\u5B58\\u4E3Ajson\\u683C\\u5F0F\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsxs)(n.code,{className:\"language-json code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"user\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\\u5347\\u7EA7\\u523041GB\\u6D41\\u91CF\\u7684\\u5957\\u9910\\uFF0C\\u6709\\u4EC0\\u4E48\\u5EFA\\u8BAE\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"assistant\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"SELECT * FROM database WHERE GB = 41000;\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u751F\\u6210\\u89C4\\u6A21\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u751F\\u6210\\u89C4\\u6A21\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u751F\\u6210\\u89C4\\u6A21\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5171\\u751F\\u6210\",(0,e.jsx)(n.strong,{children:\"15w\\u6761\\u8BED\\u6599\\u5BF9\"}),\"\\uFF0C\\u5305\\u62EC\\u6B63\\u5411\\u8BED\\u6599\\u548C\\u53CD\\u5411\\u8BED\\u6599\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6B63\\u5411\\u8BED\\u6599\"}),\"\\uFF1A\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u76F4\\u63A5\\u67E5\\u8BE2\\u7C7B\"}),\"\\uFF1A\\u751F\\u62105w\\u6761\\u6837\\u672C\\u3002\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6570\\u5B57\\u6BD4\\u8F83\\u7C7B\"}),\"\\uFF1A\\u751F\\u62105w\\u6761\\u6837\\u672C\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u53CD\\u5411\\u8BED\\u6599\"}),\"\\uFF1A\\u751F\\u62105w\\u6761\\u6837\\u672C\\u3002\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u5FAE\\u8C03\\u8FC7\\u7A0B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5FAE\\u8C03\\u8FC7\\u7A0B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5FAE\\u8C03\\u8FC7\\u7A0B\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6240\\u9700\\u8D44\\u6E90\"}),\"\\uFF1AGPU\\uFF1ANVIDIA A100-SXM4-40GB x2\\uFF1B\\u5FAE\\u8C03\\u6A21\\u578B\\uFF1AQWen-7b-chat\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u8BAD\\u7EC3\\u65F6\\u957F\"}),\"\\uFF1A\\u5927\\u7EA63.75\\u5C0F\\u65F6\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u5BF9\\u5FAE\\u8C03\\u540E\\u7684\\u6A21\\u578B\\u8FDB\\u884C\\u6D4B\\u8BD5\\uFF0C\\u7528\\u6237\\u95EE\\u9898\\u4E0ESQL\\u8BED\\u53E5\\u7684\\u8F6C\\u6362\\u6B63\\u786E\\u7387\\u53EF\\u8FBE\",(0,e.jsx)(n.strong,{children:\"98.56%\"}),\"\\uFF0C\\u8FBE\\u5230\\u4E86\\u751F\\u4EA7\\u4E0A\\u7EBF\\u7684\\u6807\\u51C6\\u3002\\u5F53\\u6211\\u4EEC\\u5C06\\u5FAE\\u8C03\\u6A21\\u578B\\u90E8\\u7F72\\u540E\\uFF0C\\u56DE\\u7B54\\u7684\\u5957\\u9910\\u4FE1\\u606F\\u5DF2\\u660E\\u663E\\u6269\\u5145\\uFF0C\\u5E76\\u4E14\\u4ECE\\u7528\\u6237\\u89D2\\u5EA6\\u8003\\u8651\\u4E86\\u77ED\\u671F\\u548C\\u957F\\u671F\\u4E24\\u79CD\\u60C5\\u51B5\\uFF0C\\u5411\\u7528\\u6237\\u63D0\\u4F9B\\u4E86\\u66F4\\u5168\\u9762\\u3001\\u66F4\\u53EF\\u9760\\u7684\\u7B54\\u6848\\u3002\"]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u672A\\u6765\\u5C55\\u671B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u672A\\u6765\\u5C55\\u671B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u672A\\u6765\\u5C55\\u671B\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u968F\\u7740\\u5927\\u6A21\\u578B\\u6280\\u672F\\u7684\\u65E5\\u65B0\\u6708\\u5F02\\uFF0CText2SQL\\u6280\\u672F\\u4E5F\\u5728\\u4EE5\\u60CA\\u4EBA\\u7684\\u901F\\u5EA6\\u4E0D\\u65AD\\u53D1\\u5C55\\u3002\\u76EE\\u524D\\u6240\\u91C7\\u7528\\u7684\\u4F18\\u5316\\u624B\\u6BB5\\uFF0C\\u867D\\u7136\\u5728\\u73B0\\u9636\\u6BB5\\u53EF\\u80FD\\u6709\\u6548\\uFF0C\\u4F46\\u968F\\u7740\\u5927\\u6A21\\u578B\\u80FD\\u529B\\u7684\\u6301\\u7EED\\u63D0\\u5347\\uFF0C\\u8FD9\\u4E9B\\u624B\\u6BB5\\u5F88\\u53EF\\u80FD\\u4F1A\\u9010\\u6E10\\u663E\\u5F97\\u8FC7\\u65F6\\uFF0C\\u751A\\u81F3\\u88AB\\u5F7B\\u5E95\\u6DD8\\u6C70\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E00\\u65B9\\u9762\\uFF0C\\u6211\\u4EEC\\u4E0D\\u80FD\\u795E\\u8BDD\\u5927\\u578B\\u8BED\\u8A00\\u6A21\\u578B\\uFF08LLM\\uFF09\\u7684\\u80FD\\u529B\\uFF0C\\u7ED9\\u4E88\\u5176\\u8FC7\\u9AD8\\u7684\\u671F\\u671B\\u3002\\u53E6\\u4E00\\u65B9\\u9762\\uFF0C\\u6211\\u4EEC\\u4E5F\\u4E0D\\u80FD\\u56E0\\u9AD8\\u4F30\\u5DE5\\u7A0B\\u5B9E\\u73B0\\u7684\\u96BE\\u5EA6\\u800C\\u671B\\u800C\\u751F\\u754F\\u3002\\u53EA\\u6709\\u4E00\\u6B65\\u4E00\\u4E2A\\u811A\\u5370\\uFF0C\\u8E0F\\u8E0F\\u5B9E\\u5B9E\\u5730\\u89E3\\u51B3\\u5DE5\\u7A0B\\u5B9E\\u8DF5\\u4E2D\\u7684\\u6BCF\\u4E00\\u4E2A\\u95EE\\u9898\\uFF0C\\u624D\\u80FD\\u6700\\u7EC8\\u5C06Text2SQL\\u6280\\u672F\\u63A8\\u5411\\u6210\\u719F\\u7684\\u751F\\u4EA7\\u9636\\u6BB5\\u3002\"})]})}function h(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(t,{...a})}):t(a)}return S(b);})();\n;return Component;"
    },
    "_id": "blog/AI/text2sql-finetuning-practice.md",
    "_raw": {
      "sourceFilePath": "blog/AI/text2sql-finetuning-practice.md",
      "sourceFileName": "text2sql-finetuning-practice.md",
      "sourceFileDir": "blog/AI",
      "contentType": "markdown",
      "flattenedPath": "blog/AI/text2sql-finetuning-practice"
    },
    "type": "Blog",
    "readingTime": {
      "text": "11 min read",
      "minutes": 10.85,
      "time": 651000,
      "words": 2170
    },
    "slug": "text2sql-finetuning-practice",
    "path": "blog/AI/text2sql-finetuning-practice",
    "toc": [
      {
        "value": "问题分析",
        "url": "#问题分析",
        "depth": 2
      },
      {
        "value": "Text2SQL大模型现存问题",
        "url": "#text2sql大模型现存问题",
        "depth": 3
      },
      {
        "value": "优化方法",
        "url": "#优化方法",
        "depth": 3
      },
      {
        "value": "优化尝试",
        "url": "#优化尝试",
        "depth": 4
      },
      {
        "value": "微调训练数据准备",
        "url": "#微调训练数据准备",
        "depth": 2
      },
      {
        "value": "生成方法",
        "url": "#生成方法",
        "depth": 3
      },
      {
        "value": "生成规模",
        "url": "#生成规模",
        "depth": 3
      },
      {
        "value": "微调过程",
        "url": "#微调过程",
        "depth": 2
      },
      {
        "value": "未来展望",
        "url": "#未来展望",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "江苏移动数智助手 Text2SQL 大模型微调实践",
      "datePublished": "2024-08-03T00:00:00.000Z",
      "dateModified": "2024-08-03T00:00:00.000Z",
      "description": "随着人工智能技术的迅猛发展，企业在数据处理和分析方面的需求也日益增长。为了更高效地从海量数据中提取有用信息，我们在数智助手中进行了Text2SQL微调实践。",
      "url": "https://zhangjian94cn.github.io/blog/text2sql-finetuning-practice"
    }
  },
  {
    "title": "欢迎来到我的博客",
    "date": "2026-02-01T00:00:00.000Z",
    "tags": [],
    "draft": false,
    "summary": "个人博客正式上线！这里将分享 AI 技术探索、学习笔记与生活思考。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 👋 你好，欢迎来到我的博客！\n\n这是我的个人网站，在这里我会分享：\n\n- **AI 技术实践**：大语言模型、RAG、Text2SQL 等实战经验\n- **学习笔记**：计算机视觉、高性能计算、算法优化\n- **生活思考**：工作方法论、个人成长\n\n## 为什么要写博客？\n\n写作是最好的学习方式之一。通过将所学整理成文字，可以：\n\n1. 加深对知识的理解\n2. 建立个人知识库\n3. 与社区交流分享\n\n## 技术栈\n\n这个博客使用以下技术构建：\n\n- **框架**: Next.js 16 + React 19\n- **样式**: Tailwind CSS 4\n- **内容**: Contentlayer + MDX\n- **部署**: 支持 GitHub Pages / 自托管\n\n欢迎关注，一起交流学习！\n",
      "code": "var Component=(()=>{var u=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var f=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),N=(r,n)=>{for(var i in n)t(r,i,{get:n[i],enumerable:!0})},a=(r,n,i,c)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let l of p(n))!g.call(r,l)&&l!==i&&t(r,l,{get:()=>n[l],enumerable:!(c=m(n,l))||c.enumerable});return r};var _=(r,n,i)=>(i=r!=null?u(x(r)):{},a(n||!r||!r.__esModule?t(i,\"default\",{value:r,enumerable:!0}):i,r)),j=r=>a(t({},\"__esModule\",{value:!0}),r);var h=f((M,d)=>{d.exports=_jsx_runtime});var b={};N(b,{default:()=>o,frontmatter:()=>I});var e=_(h()),I={title:\"\\u6B22\\u8FCE\\u6765\\u5230\\u6211\\u7684\\u535A\\u5BA2\",date:\"2026-02-01\",tags:[],draft:!1,summary:\"\\u4E2A\\u4EBA\\u535A\\u5BA2\\u6B63\\u5F0F\\u4E0A\\u7EBF\\uFF01\\u8FD9\\u91CC\\u5C06\\u5206\\u4EAB AI \\u6280\\u672F\\u63A2\\u7D22\\u3001\\u5B66\\u4E60\\u7B14\\u8BB0\\u4E0E\\u751F\\u6D3B\\u601D\\u8003\\u3002\",authors:[\"default\"]};function s(r){let n={a:\"a\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...r.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"-\\u4F60\\u597D\\u6B22\\u8FCE\\u6765\\u5230\\u6211\\u7684\\u535A\\u5BA2\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#-\\u4F60\\u597D\\u6B22\\u8FCE\\u6765\\u5230\\u6211\\u7684\\u535A\\u5BA2\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u{1F44B} \\u4F60\\u597D\\uFF0C\\u6B22\\u8FCE\\u6765\\u5230\\u6211\\u7684\\u535A\\u5BA2\\uFF01\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u662F\\u6211\\u7684\\u4E2A\\u4EBA\\u7F51\\u7AD9\\uFF0C\\u5728\\u8FD9\\u91CC\\u6211\\u4F1A\\u5206\\u4EAB\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"AI \\u6280\\u672F\\u5B9E\\u8DF5\"}),\"\\uFF1A\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u3001RAG\\u3001Text2SQL \\u7B49\\u5B9E\\u6218\\u7ECF\\u9A8C\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5B66\\u4E60\\u7B14\\u8BB0\"}),\"\\uFF1A\\u8BA1\\u7B97\\u673A\\u89C6\\u89C9\\u3001\\u9AD8\\u6027\\u80FD\\u8BA1\\u7B97\\u3001\\u7B97\\u6CD5\\u4F18\\u5316\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u751F\\u6D3B\\u601D\\u8003\"}),\"\\uFF1A\\u5DE5\\u4F5C\\u65B9\\u6CD5\\u8BBA\\u3001\\u4E2A\\u4EBA\\u6210\\u957F\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199\\u535A\\u5BA2\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199\\u535A\\u5BA2\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u5199\\u535A\\u5BA2\\uFF1F\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5199\\u4F5C\\u662F\\u6700\\u597D\\u7684\\u5B66\\u4E60\\u65B9\\u5F0F\\u4E4B\\u4E00\\u3002\\u901A\\u8FC7\\u5C06\\u6240\\u5B66\\u6574\\u7406\\u6210\\u6587\\u5B57\\uFF0C\\u53EF\\u4EE5\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u52A0\\u6DF1\\u5BF9\\u77E5\\u8BC6\\u7684\\u7406\\u89E3\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u5EFA\\u7ACB\\u4E2A\\u4EBA\\u77E5\\u8BC6\\u5E93\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u4E0E\\u793E\\u533A\\u4EA4\\u6D41\\u5206\\u4EAB\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6280\\u672F\\u6808\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6280\\u672F\\u6808\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6280\\u672F\\u6808\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4E2A\\u535A\\u5BA2\\u4F7F\\u7528\\u4EE5\\u4E0B\\u6280\\u672F\\u6784\\u5EFA\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6846\\u67B6\"}),\": Next.js 16 + React 19\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u6837\\u5F0F\"}),\": Tailwind CSS 4\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5185\\u5BB9\"}),\": Contentlayer + MDX\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u90E8\\u7F72\"}),\": \\u652F\\u6301 GitHub Pages / \\u81EA\\u6258\\u7BA1\"]}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6B22\\u8FCE\\u5173\\u6CE8\\uFF0C\\u4E00\\u8D77\\u4EA4\\u6D41\\u5B66\\u4E60\\uFF01\"})]})}function o(r={}){let{wrapper:n}=r.components||{};return n?(0,e.jsx)(n,{...r,children:(0,e.jsx)(s,{...r})}):s(r)}return j(b);})();\n;return Component;"
    },
    "_id": "blog/Meta/welcome.md",
    "_raw": {
      "sourceFilePath": "blog/Meta/welcome.md",
      "sourceFileName": "welcome.md",
      "sourceFileDir": "blog/Meta",
      "contentType": "markdown",
      "flattenedPath": "blog/Meta/welcome"
    },
    "type": "Blog",
    "readingTime": {
      "text": "1 min read",
      "minutes": 0.94,
      "time": 56400,
      "words": 188
    },
    "slug": "welcome",
    "path": "blog/Meta/welcome",
    "toc": [
      {
        "value": "👋 你好，欢迎来到我的博客！",
        "url": "#-你好欢迎来到我的博客",
        "depth": 2
      },
      {
        "value": "为什么要写博客？",
        "url": "#为什么要写博客",
        "depth": 2
      },
      {
        "value": "技术栈",
        "url": "#技术栈",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "欢迎来到我的博客",
      "datePublished": "2026-02-01T00:00:00.000Z",
      "dateModified": "2026-02-01T00:00:00.000Z",
      "description": "个人博客正式上线！这里将分享 AI 技术探索、学习笔记与生活思考。",
      "url": "https://zhangjian94cn.github.io/blog/welcome"
    }
  },
  {
    "title": "My Interview Documentation",
    "date": "2023-02-08T00:00:00.000Z",
    "tags": [],
    "draft": false,
    "summary": "My Interview Documentation",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n# 自我介绍\n\n## 参考资料\n\n1. [机器学习](https://github.com/zhengjingwei/machine-learning-interview#2-1-6)\n2. 深度学习\n   1. https://github.com/Mikoto10032/DeepLearning\n   2. https://github.com/ashishpatel26/500-AI-Machine-learning-Deep-learning-Computer-vision-NLP-Projects-with-code\n   3. https://github.com/janishar/mit-deep-learning-book-pdf\n   4. https://github.com/roboticcam/machine-learning-notes\n   5. https://github.com/d2l-ai/d2l-zh\n   6. https://github.com/labmlai/annotated_deep_learning_paper_implementations\n   7. https://github.com/floodsung/Deep-Learning-Papers-Reading-Roadmap\n   8. https://github.com/AMAI-GmbH/AI-Expert-Roadmap\n   9. https://github.com/ChristosChristofidis/awesome-deep-learning\n3. [文本分类](https://github.com/catqaq/OpenTextClassification)\n\n\n### 报名\n\n本科期间主要学习了包括高等数学，大学物理，几何与代数等基础课程，以及微机系统与接口，信号与系统，电子电路等专业课程。本科阶段绩点为年级前10%，后保研至南京大学。曾获得大学生数学建模竞赛国家二等奖与国际一等奖，以及多次校级竞赛获奖，曾于日本早稻田大学IPS学院国际联合学术报告会发表论文一篇，并至早稻田大学进行学术交流。\n\n研究生期间的主要学习课程包括：矩阵论，软件工程实践，成像原理与图像工程等课程，期间认真学习相关课程并完成导师布置的的相关科研任务，研究生期间发表一篇SCI论文（SENSOR 202）并申请专利一份。获得阿里巴巴、网易等知名企业的SP Offer（较普通offer薪酬更高）\n\n\n在英特尔，目前主要负责基于分布式的大语言模型（Large Language Model）预训练与微调，设计并搭建了基于Ray框架的预训练（pretrain）、有监督微调（SFT），抽象并实现数据预处理、模型定义与训练等模块，实现对 Llama、Dolly、Pythia 等大模型的支持，此外，搭建了一套基于大模型的垂直领域知识问答应用系统，参加天池 SMP 2023 ChatGLM 金融大模型挑战赛，2294 支队伍中复赛排名 13。此外，还曾负责梯度提升决策树推理优化，实现相对于 XGBoost 的 2 倍加速，获 2022 第四季度QPB+（共 18 人团队中最佳绩效）。\n\n\n2020.6.29 ~ 2022.7.\n\n在阿里核心部门淘系技术部，我负责为淘宝实现一套“商品的数字化方案”，我主要负责了“3D神经网络模型的手淘端上应用”与“鲁棒的3D神经网络模型重建”项目，完成了从算法设计，开发，测试到部署的一整套工作，算法也成功上线手淘。方案获得了22年淘宝双十一9大技术亮点之一等荣誉。基于产品应用中的实际问题，我进行算法创新，形成了两篇论文，分别被国际顶级会议CVPR，ECCV接受，我均为第一作者，技术受到了国际级认可。2022年，我晋升至高级算法工程师，并连续两年获得团队最高绩效。\n\n\n## 个人简介\n\n1. 问好，我是xx，读研经历\n2. 加入阿里xx部门，做什么（重建系统，具体到我，上线手淘），荣誉（公司，论文，晋升，绩效）\n3. 加入xx组，做什么（gbdt，提出了xx，实现xx），荣誉\n4. 方法论（用处...），个人兴趣（...）\n\n---\n\n各位面试官好，我叫章坚。我本科毕业于东南大学的电子科学与技术专业，研究生毕业\n于南京大学的电子与通信工程专业。读研期间，我的研究方向是：基于深度学习的3D视\n觉理解与场景重建，其主要应用于智慧城市，自动驾驶等领域，同时我完成了一篇专利\n与SCI期刊。\n\n毕业后，我进入阿里核心部门淘系技术部，负责为淘宝实现一套“商品的数字化方案”\n我完成了从人工智能算法设计，开发，测试到部署的一整套工作，算法也成功上线手淘。\n方案获得了22年淘宝双十一9大技术亮点之一等荣誉。此外，基于产品应用中的实际问题，\n我进行创新，形成了两篇论文，分别被国际顶级会议CVPR，ECCV接受，我均为第一作者，\n技术受到了国际级认可。同年，我晋升至高级算法工程师，并连续两年获得团队最高绩效。\n\n去年，我来到英特尔，加入了人工智能与分析团队，担任人工智能构架工程师一职，负责\n人工智能大模型的训练、推理、优化与应用架构的工作。基于业内领先的云计算分布式框\n架ray，实现了一整套自研的大模型训练与推理框架，期间我们与国外的团队紧密合作，共\n同为intel训练自己的大语言模型。同时，我们还进一步构建了在金融垂直领域的大语言模\n型应用，完成了从财报数据处理、多模态数据库构建、模型微调、数据检索等一系列工作，\n最终实现了对上市公司信息的快速准确的回答，\n作品也参加了天池的比赛，在全国2000多支队伍中获得了第13名的成绩。最后在工作期间，\n我曾获得团队最佳绩效等荣誉。\n\n简单总结下，在阿里，基于淘宝这样一个非常难得的数字化场景，我熟悉了一整套基于深度\n学习的算法开发，优化以及部署流程，让我对人工智能有了非常深刻的认知，而阿里作为国\n内顶尖的互联网公司，在企业文化、组织架构、团队合作、任务分配等方面上同样也让我受\n益匪浅。\n\n而在英特尔，作为国际一流的外企，我不仅获得了技术上的成长，实现了从算法开\n发到人工智能系统整体架构的转变，更是熟悉了一套高效的人工智能项目开发与管理流程，\n通过与国际各团队的合作，让我能接触到国外最先进的技术方案。此外，我也一直保持着对\n技术的热情，不断学习并且提升自己。谢谢各位面试官\n\n\n\n\n\n\n### 一些问题\n\n我觉得要去强调：\n1. 团队、项目的组织管理能力\n2. 能够带来有很高应用价值的项目\n3. 能够帮助团队快速跟进最新技术，将其进行实际应用\n\n---\n\n1. **为什么离开阿里，为什么离开英特尔来******\n   1. 离开阿里：\n      1. 组织结构上的频繁变动不利于长远发展，也很难将一件事情持续做下去并做好\n      2. 感觉到互联网行业发展不像之前那样迅速，而芯片是当时的热点，因此想换个赛道\n      3. 在英特尔做的是人工智能的架构，和我之前的工作内容区别比较大，想借此拓宽下自己的知识面\n         同时也想体验下外企的公司文化、组织架构、任务分配方式\n         因此，虽然当时网易给出的86w的offer，我仍然选择了intel\n      4. \n   2. 离开英特尔：\n      1. 家庭原因：\n         因为工作在上海，所以需要长期奔波，在有了小孩之后希望能安定下来，希望能在****长期稳定发展\n      2. \n      3. ****的核心业务在国内，相信发展空间是很大的，同时拥有海量的数据与计算资源，而我对算法应用部署的一整套流程都非常了解，基于******提供的“数据+算力”，我希望能够做一些有价值的人工智能应用，将人工智能应用到生活的方方面面\n\n2. **在阿里学到了什么**\n   \n   我所在的部门是：\n\n   1. 在阿里，我熟悉了一整套**基于深度学习算法的开发，优化以及部署流程**，让我对深度学习有了比较深刻的认识，包括：\n      \n      1）**如何对深度学习算法进行选型**，同一问题在不同的实际条件下，模型选择和使用方案都会有比较大的区别\n      \n      例如，在工业检测、自动驾驶等领域，其对模型的速度要求往往比较高，在模型的端上应用时，可以选择一些轻量化的模型架构，其次可以对模型进行量化、剪枝，同时为了避免这些模型性能出现较大下，往往需要做一些微调\n      \n      而如果模型是在云端部署的，算力资源比较丰富，那模型架构可以选择一些较深的网络，例如对图像视频分类以及检测的任务可以选择一些VIT的架构\n\n      2）在淘宝，我**非常全面的实现了算法应用的整条链路**，包括：图像分割，位姿估计，3D重建，图像融合等模块，解决了多模块之间的依赖、调度等问题，迅速实现了Object Drawer项目的构建\n\n      对于深度学习的基础算法，包括：检测、分类、分割等任务，在研究生的生涯中，我都有着实际使用的经验，在进入阿里工作后，面对商品数字化的业务需求，我能够基于这些成熟的基础算法模块，实现一个人工智能应用的完整搭建\n      \n      以图像分割为例，选取了当时效果最好的**U2Net网络**，然而其对于物体的**细节分割效果仍然难以达到实际应用标准**，对此，我们基于**信噪比**去除模糊图片，结合**深度估计**算法进一步提升了分割效果\n\n\n   2. 在阿里，我不仅仅满足于调用开源代码，而是**深入深度学习算法的设计思想，去灵活的解决实际问题**\n      \n      我几乎每天都会阅读最新的论文，将优秀的算法思想纳入到自己解决问题的工具库中来，我刚进入工作时，淘宝想实现低成本高质量的商品数字化，例如使用手机拍摄一圈商品，就能得到商品的数字化模型，当时我基于可微渲染的一篇论文，将商品模型转化为一个小的神经网络，将其放到了淘宝的app中\n\n      这中间遇到了很多问题，比如“模型推理太慢”，那么就利用**空间换时间**的思想，将模型结构拉平，大大提升了推理速度（接近1w倍），存储增大以后手机很难放的下，这时候我们利用**稀疏性**的思想，对纹理以及几何进行压缩，让每一个模型大小保证在5m以内，最终实现了手机端可用\n\n      在这个过程中，我没有刻意追求创新，而是灵活的解决实际问题，最终我也将相关成果进行整理，发表了两篇顶级的人工智能论文，而且我都是第一作者，此外还有一篇专利，这也让我在阿里每年都是团队最好的绩效（375）\n\n   3. 在阿里，我也熟悉了国内顶尖互联网公司的**企业文化、组织架构、团队合作、任务分配、绩效管理**等方面的内容。\n      \n      虽然阿里作为非常大的互联网公司，但是在一个小团队内部的效率还是非常不错的，尤其在新项目上有点类似于创业团队的氛围，大家能够头脑风暴出很多不同的方案思路，对于最新的技术我们也会互相交流学习，进行一些技术分享。\n\n      项目组的领导对我们也有着很高的要求，比如当实现一个深度学习算法模块时，我们不仅仅是只保证算法跑出来的结果看起来没问题，而是会进行非常严谨的测试，保证其能够在多种不同的测试集上都能有效果上的提升。同时，每个月我们也会进行深刻的总结思考，追求技术上的提升\n\n      然而，能让我们的项目最终取得了不错进展并且成功上线手淘，我觉得最重要的因素应该是：对项目良好的把握和规划。这就需要对深度学习算法有个比较全面深刻的认知，而经过在阿里工作上的锻炼，我在这方面获得了比较大的成长\n\n\n3. **在英特尔学到了什么**\n   \n   在英特尔我就职于人工智能与数据分析团队，我所在的小组负责：人工智能应用的架构，包括 \n   1)高效的数据处理 2)分布式的大模型训练 3)高性能的模型部署 4）基于GPT的问答系统搭建（RAG）\n   \n   1. 目前，我负责的主要内容是：为intel训练一个自己的大语言基座模型，包括**大模型的预训练，微调以及基于人类反馈的强化学习**。目前，市面上的很多模型是基于国外模型微调得到的，技术难度较低，且对中文以及个性化的内容支持较差，而国内法规要求如果要发布大模型，必须得是自己从头训练的，因此拥有对大语言模型的预训练能力非常重要的。\n\n   我基于分布式框架Ray实现了多机多卡下的大模型预训练，结合megatron，我实现了对于模型的多维度并行（包括数据并行，流水线并行，张量并行），同时基于deepspeed，大大减少了模型训练过程中的显存开销，最终实现了高效的大语言基座模型的预训练。\n   \n   在此基础上，我进一步实现了：**高效的大模型微调**以及**基于人类反馈的强化学习**。微调的主要目标是让模型获得特定任务上的性能提升，例如让语言模型获得较好的对话能力。我主要实现了3种形式的微调，全参数，部分参数以及基于lora的微调，基于lora我甚至能够通过CPU实现对大语言模型的优化\n   \n   通过高质量的微调，可以让大模型在某一领域获得突出表现，例如可以基于人类的问题直接生成数据分析的代码，这样就可以快速分析用户的行为，方便做出市场决策。而强化学习主要是可以提升大模型的安全性，避免大模型输出反人类的回答。\n   \n   \n   \n   2. 我不仅对模型的训练优化比较了解，同时对于**模型的推理优化**也比较熟悉，包括对模型的量化、剪枝与蒸馏等技术。我甚至在自家仅仅只有CPU的机器上部署了大语言模型，相对于业界动辄使用数十万元显卡进行大模型部署的方法，成本大大降低。这也是我优化了模型性能的结果\n   \n   3. 基于我们这一套自研的大模型训练推理框架，我研发了一套**基于文档增强的大模型应用**。在很多公司中，都会有自己的内部文档，比如内部的技术文档、员工手册、财报等等，而如果想要大语言模型基于这些文档内容进行回答，直接训练是不现实的，因为不可能每更新一些文档就训练一遍，这样成本太高。因此，我构建一套基于提问内容进行向量检索，再基于检索内容使用大模型回答的应用框架。\n\n   我们分析了2019年至2022年上市公司的所有财报信息，构建了一个金融领域的问答大模型，完成了从数据处理、多模态数据库构建、模型微调、相关数据检索等一系列的应用模块，最终实现了对各公司财报信息的快速准确的回答。\n\n   4. **熟悉了一套高效且国际通用的多人协作代码开发流程**，在很多国内的大公司，包括阿里、华为等等，很多都使用的事内部的开发工具，这导致到了一个新的团队后，非常不利于项目的整体把握。而我们的客户包括国内外的知名企业，比如字节、阿里、百度、微软等等，因此我们的开发流程是国内外通用且非常高效的，在英特尔的这段时间，我完全熟悉了这套流程，提升了对项目整体的把握能力\n   \n   5. **感受到并熟悉了大型外企的工作方式**，非常注重工作与生活的平衡，在计划的设定上非常细致，指定目标之后并不着急去实现，而是会去想好每一步的计划，列出一个月的工作细节，每周去更新进展。如果确实遇到了困难或者有价值的问题，也会给充分的时间去解决和探索。\n\n   \n\n4. **自身的优势是什么，为什么需要我**\n   \n   1. 具有顶尖互联网公司与一流外企的工作经验，可以为******带来非常有价值的人员工作安排与项目管理经验\n   2. 代码开发上：\n      1. 有一套高效的多人协作代码开发管理经验，能最大化团队的技术产出\n      2. 熟悉人工智能算法的的一整套流程，包括数据处理、算法设计、模型训练、部署以及性能优化\n      3. 亲身实践了大语言模型的全套流程，包括预训练、微调以及强化学习，能够快速帮助******构建自己的大模型应用\n   3. 技术涉猎广泛，\n      1. 熟悉包括：图像分割、分类、检测、3D视觉、自然语言处理等任务，\n      2. 同时具有自动驾驶、互联网电商、影视游戏等行业经验\n   4. 通过三年多的大公司经历，沉淀了自己的信息渠道，能获取到业内领先的算法技术进展，帮助******提前进行技术储备\n   5. 基于以上条件，有能力在人工智能时代帮助******在各个行业领域进行新业务的拓展，创造产业价值\n\n\n5. **在****可以做些什么？**\n   1. 可以基于大语言模型实现用户数据的分析\n   2. 实现******业务智能介绍的大语言模型\n   3. 将******目前所拥有的算力封装成一个个垂直领域的人工智能服务，实现更大的业务增量\n\n   4. 对于****行业自身业务的提效（ESG企业的建设）。5G的网络频率高，覆盖范围小，如何才能为用户提供高质量服务的同时降低运行成本，这就涉及到一个基本的算法思想：稀疏性。停车场中的灯只有在有人的时候才开，这时时间上的稀疏性；在没有人的荒地上不会有灯，这是空间上的稀疏性。同样，在建设成本较高的5G基站时，在人流密集的地方多建，反之则少建，这是空间上的稀疏性。时间上，当人们下班回家，商务区的基站就可以通过降低功率、减少信道数目来降低成本，即时间上的稀疏性。而这些具体的实现（怎么布局基站，何时降低基站功率），都需要依赖于算法进行解决。\n   5. 对于各行各业的信息化赋能，例如自动驾驶在运行时，对时延，信息传输质量都具有极高的要求，怎么才能在已有硬件条件下更好的布局信息传输系统，降本增效，这是算法需要解决的问题。同时自动驾驶需要大量的视频数据上传，这一方面会存在数据流量的巨大需求，另一方面也需要注意保护用户隐私，做好欺诈检测和风险控制，这也是算法需要解决的事情。\n   6. 对于未来重要产业的提前布局，例如通用人工智能，目前已经崭露头角的chatgpt也说明了这一点，****对此也同样可以提前布局，例如基于自身的流量优势提供数据交易平台，可以使用联邦学习技术（仅仅只共享模型参数）来实现在保护用户隐私前提条件下的数据交易，此外天翼云可以提供强大的算力支撑，同样也可以为中小企业提供算力支撑模型的训练，而作为算法工程师可以为用户提供算法优化，提升用户粘性\n\n6. 为什么要投论文\n   1. 基于实际问题有了算法上的创新（保证idea的质量）\n   2. 算法的效果要严谨得通过的实验进行检验\n   3. 可以和同行进行有价值的交流，宣传（为什么很多开源项目发展的好，因为大家能看到）\n   4. 最优秀的算法公司都非常注重这些（OpenAI，Deepmind，国内的微软亚研院等）\n\n7. 设计算法的一般流程（方法论）\n   1. 算法描述（模糊的说：算法是干什么的，具体：输入&输出是什么）\n   2. 算法边界（预见性，能否解决问题，实现难度）\n   3. 算法实现（相关知识，算法框架-伪代码，数据准备，实际编写）\n   4. 算法测试（多角度）\n\n8. 算法设计思想（算法的本质是解决问题的方法，）\n   1. 它山之石可以攻玉\n   2. 稀疏性\n   3. 空间换时间\n   4. 先验信息\n   5. 局部性（空间局部性，时间局部性）\n   6. 对问题进行数学建模（可以使用假设简化问题）\n   7. ...\n\n\n核心思想是：使用寄存器实现相对于L1更高一级的缓存，减少内存的存取操作\n\n## 项目简介\n\n从算法\n\n### 梯度提升决策树的加速\n\n**项目背景**：梯度提升决策树（GBDT）是结合了决策树以及 boosting 的一类算法，它的应用非常广泛，包括推荐系统，诈骗检测等，这些场景对实时性都有很高的要求，因此算法性能的提升是非常重要的。目前已有的加速方案，都只是在数据维度上进行并行，而我从多个维度进行了并行。\n\n**技术创新**：\n\n1. 传统决策树的预测流程是每个节点做一个判断，这个过程存在非常多的分支预测，如果预测错误，会导致cpu的流水线进行回退刷新，大大降低运行速度\n\n2. 基于这个假设，我想到将多层的树结构进行合并，通过向量化的一次性计算，可以直接得到3/4层的预测结果。具体实现方式就是：blabla。通过这种方式，我们压缩了树的深度，大大减少了分支预测的操作。（核心实现采用c++）\n\n3. 实现这个group的过程其实遇到了很多的问题：\n   1. 使用了group之后，tree的结构怎么设计\n   2. 如何尽可能跨越更多的层\n   3. lookup table怎么生成\n   4. 考察算法的bottleneck\n\n4. 发现算法时间消耗集中在内存访问，我也设计了很多解决方案（对数据预先重排，）最终通过分析汇编代码，想到可以直接使用寄存器作为高速缓存，直接避免内存的访问\n\n5. 为了实现这个目的，我设计了基于group的sharing方案，并建立了一个简单的数学模型去提升group的共享率。具体方法：blabla。最终，在之前的基础上进一步提升了速度\n\n### 鲁棒的神经网络重建\n\n**项目背景**： 随着手淘 3D 化的发展，“低成本、高质量的 3D 建模”成为主要的制约因素，\n而传统重建技术（SFM）较易受到 mesh 表征（三角面片）的精度限制且鲁棒性差，难以应用于实际业务中\n\n1. 3D 模型表征： 提出了粗模 + 神经网络的 3D 模型表征形式。神经网络提供高质量的 2D 出图效果，粗模保证\n神经网络模型的可扩展性，解决了神经网络隐式模型与传统 mesh 模型的组合问题\n\n2. 多视角鲁棒：基于 NeRF 的视角合成极易过拟合，当测试视角与训练视角差异较大时，效果较差。提出了视\n角鲁棒的 RapNeRF 方案（Ray Priors through Reprojection）：\n   1. 基于随机视线进行数据增强 \n   2. 利用视角先验信息进行推理\n   3. PSNR(↑ 4.)/SSIM/LPIPS 相较于 SOTA 均获得较大提升（CVPR 2022 ACCEPTED，一作）\n\n3. 重建链路开发： 链路核心开发者（70% commit），完成第一版的链路各模块搭建（包括位姿估计，图像分\n割，物体重建，2D 图像合成等）及后续版本的迭代优化\n\n\n### 3D神经网络模型的手淘端上应用（AdaSRG）\n\n**项目背景**：\n\n1. 传统 MLP 的网络结构（NeRF）无法表征物体的高频纹理细节（如布料纹理等），而业务应用对\n物体细节要求较高（需 1 比 1 还原） \n\n2. 端上推理对模型大小要求较高（5MB 以内），保证材质、光照效果\n\n**算法细节**\n\n（想要将图像级别的loss用于3D，提高模型精度）\n\n1. 纹理细节还原： 提出了基于 image level loss（感知损失）的体素化重建方案，大大提升了纹理细节效果，\nSSIM/LPIPS 指标均达到 SOTA\n\n2. 体素模型压缩：传统体素化重建方案（PlenOctree/SNeRG）模型大小为 GB 级别，无法满足端上应用的需求。\n提出 Adaptive Sparse Radiance Grid (AdaSRG) 方案，\n   1. 在纹理细节的高频区域使用较高体素粒度，低频区域使用较低体素粒度 \n   2. 对 𝜎（物质密度）进行正则，去除随机噪声 \n   3. 基于 PNG 算法对体素纹理进行压缩\n\n2. 模型光照还原： 1. 采用 Deferred Light 结构解耦重建模型的 specular&diffuse color，保证光照效果 2. 编写基\n于 CUDA 的实时可视化渲染程序\n\n3. 业务应用： 重建的小物体模型成功上线手淘，实现了算法、工程至应用的打通\n\n",
      "code": "var Component=(()=>{var p=Object.create;var h=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var f=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),x=(e,n)=>{for(var l in n)h(e,l,{get:n[l],enumerable:!0})},d=(e,n,l,c)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let r of m(n))!b.call(e,r)&&r!==l&&h(e,r,{get:()=>n[r],enumerable:!(c=g(n,r))||c.enumerable});return e};var D=(e,n,l)=>(l=e!=null?p(u(e)):{},d(n||!e||!e.__esModule?h(l,\"default\",{value:e,enumerable:!0}):l,e)),N=e=>d(h({},\"__esModule\",{value:!0}),e);var a=f((R,t)=>{t.exports=_jsx_runtime});var I={};x(I,{default:()=>s,frontmatter:()=>P});var i=D(a()),P={title:\"My Interview Documentation\",date:\"2023-02-08\",tags:[],draft:!1,summary:\"My Interview Documentation\",authors:[\"default\"]};function o(e){let n={a:\"a\",h1:\"h1\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",span:\"span\",strong:\"strong\",...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:\"\\u81EA\\u6211\\u4ECB\\u7ECD\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u81EA\\u6211\\u4ECB\\u7ECD\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u81EA\\u6211\\u4ECB\\u7ECD\"]}),`\n`,(0,i.jsxs)(n.h2,{id:\"\\u53C2\\u8003\\u8D44\\u6599\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\\u8D44\\u6599\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\\u8D44\\u6599\"]}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/zhengjingwei/machine-learning-interview#2-1-6\",children:\"\\u673A\\u5668\\u5B66\\u4E60\"})}),`\n`,(0,i.jsxs)(n.li,{children:[\"\\u6DF1\\u5EA6\\u5B66\\u4E60\",`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/Mikoto10032/DeepLearning\",children:\"https://github.com/Mikoto10032/DeepLearning\"})}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/ashishpatel26/500-AI-Machine-learning-Deep-learning-Computer-vision-NLP-Projects-with-code\",children:\"https://github.com/ashishpatel26/500-AI-Machine-learning-Deep-learning-Computer-vision-NLP-Projects-with-code\"})}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/janishar/mit-deep-learning-book-pdf\",children:\"https://github.com/janishar/mit-deep-learning-book-pdf\"})}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/roboticcam/machine-learning-notes\",children:\"https://github.com/roboticcam/machine-learning-notes\"})}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/d2l-ai/d2l-zh\",children:\"https://github.com/d2l-ai/d2l-zh\"})}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/labmlai/annotated_deep_learning_paper_implementations\",children:\"https://github.com/labmlai/annotated_deep_learning_paper_implementations\"})}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/floodsung/Deep-Learning-Papers-Reading-Roadmap\",children:\"https://github.com/floodsung/Deep-Learning-Papers-Reading-Roadmap\"})}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/AMAI-GmbH/AI-Expert-Roadmap\",children:\"https://github.com/AMAI-GmbH/AI-Expert-Roadmap\"})}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/ChristosChristofidis/awesome-deep-learning\",children:\"https://github.com/ChristosChristofidis/awesome-deep-learning\"})}),`\n`]}),`\n`]}),`\n`,(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:\"https://github.com/catqaq/OpenTextClassification\",children:\"\\u6587\\u672C\\u5206\\u7C7B\"})}),`\n`]}),`\n`,(0,i.jsxs)(n.h3,{id:\"\\u62A5\\u540D\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u62A5\\u540D\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u62A5\\u540D\"]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u672C\\u79D1\\u671F\\u95F4\\u4E3B\\u8981\\u5B66\\u4E60\\u4E86\\u5305\\u62EC\\u9AD8\\u7B49\\u6570\\u5B66\\uFF0C\\u5927\\u5B66\\u7269\\u7406\\uFF0C\\u51E0\\u4F55\\u4E0E\\u4EE3\\u6570\\u7B49\\u57FA\\u7840\\u8BFE\\u7A0B\\uFF0C\\u4EE5\\u53CA\\u5FAE\\u673A\\u7CFB\\u7EDF\\u4E0E\\u63A5\\u53E3\\uFF0C\\u4FE1\\u53F7\\u4E0E\\u7CFB\\u7EDF\\uFF0C\\u7535\\u5B50\\u7535\\u8DEF\\u7B49\\u4E13\\u4E1A\\u8BFE\\u7A0B\\u3002\\u672C\\u79D1\\u9636\\u6BB5\\u7EE9\\u70B9\\u4E3A\\u5E74\\u7EA7\\u524D10%\\uFF0C\\u540E\\u4FDD\\u7814\\u81F3\\u5357\\u4EAC\\u5927\\u5B66\\u3002\\u66FE\\u83B7\\u5F97\\u5927\\u5B66\\u751F\\u6570\\u5B66\\u5EFA\\u6A21\\u7ADE\\u8D5B\\u56FD\\u5BB6\\u4E8C\\u7B49\\u5956\\u4E0E\\u56FD\\u9645\\u4E00\\u7B49\\u5956\\uFF0C\\u4EE5\\u53CA\\u591A\\u6B21\\u6821\\u7EA7\\u7ADE\\u8D5B\\u83B7\\u5956\\uFF0C\\u66FE\\u4E8E\\u65E5\\u672C\\u65E9\\u7A3B\\u7530\\u5927\\u5B66IPS\\u5B66\\u9662\\u56FD\\u9645\\u8054\\u5408\\u5B66\\u672F\\u62A5\\u544A\\u4F1A\\u53D1\\u8868\\u8BBA\\u6587\\u4E00\\u7BC7\\uFF0C\\u5E76\\u81F3\\u65E9\\u7A3B\\u7530\\u5927\\u5B66\\u8FDB\\u884C\\u5B66\\u672F\\u4EA4\\u6D41\\u3002\"}),`\n`,(0,i.jsx)(n.p,{children:\"\\u7814\\u7A76\\u751F\\u671F\\u95F4\\u7684\\u4E3B\\u8981\\u5B66\\u4E60\\u8BFE\\u7A0B\\u5305\\u62EC\\uFF1A\\u77E9\\u9635\\u8BBA\\uFF0C\\u8F6F\\u4EF6\\u5DE5\\u7A0B\\u5B9E\\u8DF5\\uFF0C\\u6210\\u50CF\\u539F\\u7406\\u4E0E\\u56FE\\u50CF\\u5DE5\\u7A0B\\u7B49\\u8BFE\\u7A0B\\uFF0C\\u671F\\u95F4\\u8BA4\\u771F\\u5B66\\u4E60\\u76F8\\u5173\\u8BFE\\u7A0B\\u5E76\\u5B8C\\u6210\\u5BFC\\u5E08\\u5E03\\u7F6E\\u7684\\u7684\\u76F8\\u5173\\u79D1\\u7814\\u4EFB\\u52A1\\uFF0C\\u7814\\u7A76\\u751F\\u671F\\u95F4\\u53D1\\u8868\\u4E00\\u7BC7SCI\\u8BBA\\u6587\\uFF08SENSOR 202\\uFF09\\u5E76\\u7533\\u8BF7\\u4E13\\u5229\\u4E00\\u4EFD\\u3002\\u83B7\\u5F97\\u963F\\u91CC\\u5DF4\\u5DF4\\u3001\\u7F51\\u6613\\u7B49\\u77E5\\u540D\\u4F01\\u4E1A\\u7684SP Offer\\uFF08\\u8F83\\u666E\\u901Aoffer\\u85AA\\u916C\\u66F4\\u9AD8\\uFF09\"}),`\n`,(0,i.jsx)(n.p,{children:\"\\u5728\\u82F1\\u7279\\u5C14\\uFF0C\\u76EE\\u524D\\u4E3B\\u8981\\u8D1F\\u8D23\\u57FA\\u4E8E\\u5206\\u5E03\\u5F0F\\u7684\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\uFF08Large Language Model\\uFF09\\u9884\\u8BAD\\u7EC3\\u4E0E\\u5FAE\\u8C03\\uFF0C\\u8BBE\\u8BA1\\u5E76\\u642D\\u5EFA\\u4E86\\u57FA\\u4E8ERay\\u6846\\u67B6\\u7684\\u9884\\u8BAD\\u7EC3\\uFF08pretrain\\uFF09\\u3001\\u6709\\u76D1\\u7763\\u5FAE\\u8C03\\uFF08SFT\\uFF09\\uFF0C\\u62BD\\u8C61\\u5E76\\u5B9E\\u73B0\\u6570\\u636E\\u9884\\u5904\\u7406\\u3001\\u6A21\\u578B\\u5B9A\\u4E49\\u4E0E\\u8BAD\\u7EC3\\u7B49\\u6A21\\u5757\\uFF0C\\u5B9E\\u73B0\\u5BF9 Llama\\u3001Dolly\\u3001Pythia \\u7B49\\u5927\\u6A21\\u578B\\u7684\\u652F\\u6301\\uFF0C\\u6B64\\u5916\\uFF0C\\u642D\\u5EFA\\u4E86\\u4E00\\u5957\\u57FA\\u4E8E\\u5927\\u6A21\\u578B\\u7684\\u5782\\u76F4\\u9886\\u57DF\\u77E5\\u8BC6\\u95EE\\u7B54\\u5E94\\u7528\\u7CFB\\u7EDF\\uFF0C\\u53C2\\u52A0\\u5929\\u6C60 SMP 2023 ChatGLM \\u91D1\\u878D\\u5927\\u6A21\\u578B\\u6311\\u6218\\u8D5B\\uFF0C2294 \\u652F\\u961F\\u4F0D\\u4E2D\\u590D\\u8D5B\\u6392\\u540D 13\\u3002\\u6B64\\u5916\\uFF0C\\u8FD8\\u66FE\\u8D1F\\u8D23\\u68AF\\u5EA6\\u63D0\\u5347\\u51B3\\u7B56\\u6811\\u63A8\\u7406\\u4F18\\u5316\\uFF0C\\u5B9E\\u73B0\\u76F8\\u5BF9\\u4E8E XGBoost \\u7684 2 \\u500D\\u52A0\\u901F\\uFF0C\\u83B7 2022 \\u7B2C\\u56DB\\u5B63\\u5EA6QPB+\\uFF08\\u5171 18 \\u4EBA\\u56E2\\u961F\\u4E2D\\u6700\\u4F73\\u7EE9\\u6548\\uFF09\\u3002\"}),`\n`,(0,i.jsx)(n.p,{children:\"2020.6.29 ~ 2022.7.\"}),`\n`,(0,i.jsx)(n.p,{children:\"\\u5728\\u963F\\u91CC\\u6838\\u5FC3\\u90E8\\u95E8\\u6DD8\\u7CFB\\u6280\\u672F\\u90E8\\uFF0C\\u6211\\u8D1F\\u8D23\\u4E3A\\u6DD8\\u5B9D\\u5B9E\\u73B0\\u4E00\\u5957\\u201C\\u5546\\u54C1\\u7684\\u6570\\u5B57\\u5316\\u65B9\\u6848\\u201D\\uFF0C\\u6211\\u4E3B\\u8981\\u8D1F\\u8D23\\u4E86\\u201C3D\\u795E\\u7ECF\\u7F51\\u7EDC\\u6A21\\u578B\\u7684\\u624B\\u6DD8\\u7AEF\\u4E0A\\u5E94\\u7528\\u201D\\u4E0E\\u201C\\u9C81\\u68D2\\u76843D\\u795E\\u7ECF\\u7F51\\u7EDC\\u6A21\\u578B\\u91CD\\u5EFA\\u201D\\u9879\\u76EE\\uFF0C\\u5B8C\\u6210\\u4E86\\u4ECE\\u7B97\\u6CD5\\u8BBE\\u8BA1\\uFF0C\\u5F00\\u53D1\\uFF0C\\u6D4B\\u8BD5\\u5230\\u90E8\\u7F72\\u7684\\u4E00\\u6574\\u5957\\u5DE5\\u4F5C\\uFF0C\\u7B97\\u6CD5\\u4E5F\\u6210\\u529F\\u4E0A\\u7EBF\\u624B\\u6DD8\\u3002\\u65B9\\u6848\\u83B7\\u5F97\\u4E8622\\u5E74\\u6DD8\\u5B9D\\u53CC\\u5341\\u4E009\\u5927\\u6280\\u672F\\u4EAE\\u70B9\\u4E4B\\u4E00\\u7B49\\u8363\\u8A89\\u3002\\u57FA\\u4E8E\\u4EA7\\u54C1\\u5E94\\u7528\\u4E2D\\u7684\\u5B9E\\u9645\\u95EE\\u9898\\uFF0C\\u6211\\u8FDB\\u884C\\u7B97\\u6CD5\\u521B\\u65B0\\uFF0C\\u5F62\\u6210\\u4E86\\u4E24\\u7BC7\\u8BBA\\u6587\\uFF0C\\u5206\\u522B\\u88AB\\u56FD\\u9645\\u9876\\u7EA7\\u4F1A\\u8BAECVPR\\uFF0CECCV\\u63A5\\u53D7\\uFF0C\\u6211\\u5747\\u4E3A\\u7B2C\\u4E00\\u4F5C\\u8005\\uFF0C\\u6280\\u672F\\u53D7\\u5230\\u4E86\\u56FD\\u9645\\u7EA7\\u8BA4\\u53EF\\u30022022\\u5E74\\uFF0C\\u6211\\u664B\\u5347\\u81F3\\u9AD8\\u7EA7\\u7B97\\u6CD5\\u5DE5\\u7A0B\\u5E08\\uFF0C\\u5E76\\u8FDE\\u7EED\\u4E24\\u5E74\\u83B7\\u5F97\\u56E2\\u961F\\u6700\\u9AD8\\u7EE9\\u6548\\u3002\"}),`\n`,(0,i.jsxs)(n.h2,{id:\"\\u4E2A\\u4EBA\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E2A\\u4EBA\\u7B80\\u4ECB\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E2A\\u4EBA\\u7B80\\u4ECB\"]}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u95EE\\u597D\\uFF0C\\u6211\\u662Fxx\\uFF0C\\u8BFB\\u7814\\u7ECF\\u5386\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u52A0\\u5165\\u963F\\u91CCxx\\u90E8\\u95E8\\uFF0C\\u505A\\u4EC0\\u4E48\\uFF08\\u91CD\\u5EFA\\u7CFB\\u7EDF\\uFF0C\\u5177\\u4F53\\u5230\\u6211\\uFF0C\\u4E0A\\u7EBF\\u624B\\u6DD8\\uFF09\\uFF0C\\u8363\\u8A89\\uFF08\\u516C\\u53F8\\uFF0C\\u8BBA\\u6587\\uFF0C\\u664B\\u5347\\uFF0C\\u7EE9\\u6548\\uFF09\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u52A0\\u5165xx\\u7EC4\\uFF0C\\u505A\\u4EC0\\u4E48\\uFF08gbdt\\uFF0C\\u63D0\\u51FA\\u4E86xx\\uFF0C\\u5B9E\\u73B0xx\\uFF09\\uFF0C\\u8363\\u8A89\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u65B9\\u6CD5\\u8BBA\\uFF08\\u7528\\u5904...\\uFF09\\uFF0C\\u4E2A\\u4EBA\\u5174\\u8DA3\\uFF08...\\uFF09\"}),`\n`]}),`\n`,(0,i.jsx)(n.hr,{}),`\n`,(0,i.jsx)(n.p,{children:`\\u5404\\u4F4D\\u9762\\u8BD5\\u5B98\\u597D\\uFF0C\\u6211\\u53EB\\u7AE0\\u575A\\u3002\\u6211\\u672C\\u79D1\\u6BD5\\u4E1A\\u4E8E\\u4E1C\\u5357\\u5927\\u5B66\\u7684\\u7535\\u5B50\\u79D1\\u5B66\\u4E0E\\u6280\\u672F\\u4E13\\u4E1A\\uFF0C\\u7814\\u7A76\\u751F\\u6BD5\\u4E1A\n\\u4E8E\\u5357\\u4EAC\\u5927\\u5B66\\u7684\\u7535\\u5B50\\u4E0E\\u901A\\u4FE1\\u5DE5\\u7A0B\\u4E13\\u4E1A\\u3002\\u8BFB\\u7814\\u671F\\u95F4\\uFF0C\\u6211\\u7684\\u7814\\u7A76\\u65B9\\u5411\\u662F\\uFF1A\\u57FA\\u4E8E\\u6DF1\\u5EA6\\u5B66\\u4E60\\u76843D\\u89C6\n\\u89C9\\u7406\\u89E3\\u4E0E\\u573A\\u666F\\u91CD\\u5EFA\\uFF0C\\u5176\\u4E3B\\u8981\\u5E94\\u7528\\u4E8E\\u667A\\u6167\\u57CE\\u5E02\\uFF0C\\u81EA\\u52A8\\u9A7E\\u9A76\\u7B49\\u9886\\u57DF\\uFF0C\\u540C\\u65F6\\u6211\\u5B8C\\u6210\\u4E86\\u4E00\\u7BC7\\u4E13\\u5229\n\\u4E0ESCI\\u671F\\u520A\\u3002`}),`\n`,(0,i.jsx)(n.p,{children:`\\u6BD5\\u4E1A\\u540E\\uFF0C\\u6211\\u8FDB\\u5165\\u963F\\u91CC\\u6838\\u5FC3\\u90E8\\u95E8\\u6DD8\\u7CFB\\u6280\\u672F\\u90E8\\uFF0C\\u8D1F\\u8D23\\u4E3A\\u6DD8\\u5B9D\\u5B9E\\u73B0\\u4E00\\u5957\\u201C\\u5546\\u54C1\\u7684\\u6570\\u5B57\\u5316\\u65B9\\u6848\\u201D\n\\u6211\\u5B8C\\u6210\\u4E86\\u4ECE\\u4EBA\\u5DE5\\u667A\\u80FD\\u7B97\\u6CD5\\u8BBE\\u8BA1\\uFF0C\\u5F00\\u53D1\\uFF0C\\u6D4B\\u8BD5\\u5230\\u90E8\\u7F72\\u7684\\u4E00\\u6574\\u5957\\u5DE5\\u4F5C\\uFF0C\\u7B97\\u6CD5\\u4E5F\\u6210\\u529F\\u4E0A\\u7EBF\\u624B\\u6DD8\\u3002\n\\u65B9\\u6848\\u83B7\\u5F97\\u4E8622\\u5E74\\u6DD8\\u5B9D\\u53CC\\u5341\\u4E009\\u5927\\u6280\\u672F\\u4EAE\\u70B9\\u4E4B\\u4E00\\u7B49\\u8363\\u8A89\\u3002\\u6B64\\u5916\\uFF0C\\u57FA\\u4E8E\\u4EA7\\u54C1\\u5E94\\u7528\\u4E2D\\u7684\\u5B9E\\u9645\\u95EE\\u9898\\uFF0C\n\\u6211\\u8FDB\\u884C\\u521B\\u65B0\\uFF0C\\u5F62\\u6210\\u4E86\\u4E24\\u7BC7\\u8BBA\\u6587\\uFF0C\\u5206\\u522B\\u88AB\\u56FD\\u9645\\u9876\\u7EA7\\u4F1A\\u8BAECVPR\\uFF0CECCV\\u63A5\\u53D7\\uFF0C\\u6211\\u5747\\u4E3A\\u7B2C\\u4E00\\u4F5C\\u8005\\uFF0C\n\\u6280\\u672F\\u53D7\\u5230\\u4E86\\u56FD\\u9645\\u7EA7\\u8BA4\\u53EF\\u3002\\u540C\\u5E74\\uFF0C\\u6211\\u664B\\u5347\\u81F3\\u9AD8\\u7EA7\\u7B97\\u6CD5\\u5DE5\\u7A0B\\u5E08\\uFF0C\\u5E76\\u8FDE\\u7EED\\u4E24\\u5E74\\u83B7\\u5F97\\u56E2\\u961F\\u6700\\u9AD8\\u7EE9\\u6548\\u3002`}),`\n`,(0,i.jsx)(n.p,{children:`\\u53BB\\u5E74\\uFF0C\\u6211\\u6765\\u5230\\u82F1\\u7279\\u5C14\\uFF0C\\u52A0\\u5165\\u4E86\\u4EBA\\u5DE5\\u667A\\u80FD\\u4E0E\\u5206\\u6790\\u56E2\\u961F\\uFF0C\\u62C5\\u4EFB\\u4EBA\\u5DE5\\u667A\\u80FD\\u6784\\u67B6\\u5DE5\\u7A0B\\u5E08\\u4E00\\u804C\\uFF0C\\u8D1F\\u8D23\n\\u4EBA\\u5DE5\\u667A\\u80FD\\u5927\\u6A21\\u578B\\u7684\\u8BAD\\u7EC3\\u3001\\u63A8\\u7406\\u3001\\u4F18\\u5316\\u4E0E\\u5E94\\u7528\\u67B6\\u6784\\u7684\\u5DE5\\u4F5C\\u3002\\u57FA\\u4E8E\\u4E1A\\u5185\\u9886\\u5148\\u7684\\u4E91\\u8BA1\\u7B97\\u5206\\u5E03\\u5F0F\\u6846\n\\u67B6ray\\uFF0C\\u5B9E\\u73B0\\u4E86\\u4E00\\u6574\\u5957\\u81EA\\u7814\\u7684\\u5927\\u6A21\\u578B\\u8BAD\\u7EC3\\u4E0E\\u63A8\\u7406\\u6846\\u67B6\\uFF0C\\u671F\\u95F4\\u6211\\u4EEC\\u4E0E\\u56FD\\u5916\\u7684\\u56E2\\u961F\\u7D27\\u5BC6\\u5408\\u4F5C\\uFF0C\\u5171\n\\u540C\\u4E3Aintel\\u8BAD\\u7EC3\\u81EA\\u5DF1\\u7684\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u3002\\u540C\\u65F6\\uFF0C\\u6211\\u4EEC\\u8FD8\\u8FDB\\u4E00\\u6B65\\u6784\\u5EFA\\u4E86\\u5728\\u91D1\\u878D\\u5782\\u76F4\\u9886\\u57DF\\u7684\\u5927\\u8BED\\u8A00\\u6A21\n\\u578B\\u5E94\\u7528\\uFF0C\\u5B8C\\u6210\\u4E86\\u4ECE\\u8D22\\u62A5\\u6570\\u636E\\u5904\\u7406\\u3001\\u591A\\u6A21\\u6001\\u6570\\u636E\\u5E93\\u6784\\u5EFA\\u3001\\u6A21\\u578B\\u5FAE\\u8C03\\u3001\\u6570\\u636E\\u68C0\\u7D22\\u7B49\\u4E00\\u7CFB\\u5217\\u5DE5\\u4F5C\\uFF0C\n\\u6700\\u7EC8\\u5B9E\\u73B0\\u4E86\\u5BF9\\u4E0A\\u5E02\\u516C\\u53F8\\u4FE1\\u606F\\u7684\\u5FEB\\u901F\\u51C6\\u786E\\u7684\\u56DE\\u7B54\\uFF0C\n\\u4F5C\\u54C1\\u4E5F\\u53C2\\u52A0\\u4E86\\u5929\\u6C60\\u7684\\u6BD4\\u8D5B\\uFF0C\\u5728\\u5168\\u56FD2000\\u591A\\u652F\\u961F\\u4F0D\\u4E2D\\u83B7\\u5F97\\u4E86\\u7B2C13\\u540D\\u7684\\u6210\\u7EE9\\u3002\\u6700\\u540E\\u5728\\u5DE5\\u4F5C\\u671F\\u95F4\\uFF0C\n\\u6211\\u66FE\\u83B7\\u5F97\\u56E2\\u961F\\u6700\\u4F73\\u7EE9\\u6548\\u7B49\\u8363\\u8A89\\u3002`}),`\n`,(0,i.jsx)(n.p,{children:`\\u7B80\\u5355\\u603B\\u7ED3\\u4E0B\\uFF0C\\u5728\\u963F\\u91CC\\uFF0C\\u57FA\\u4E8E\\u6DD8\\u5B9D\\u8FD9\\u6837\\u4E00\\u4E2A\\u975E\\u5E38\\u96BE\\u5F97\\u7684\\u6570\\u5B57\\u5316\\u573A\\u666F\\uFF0C\\u6211\\u719F\\u6089\\u4E86\\u4E00\\u6574\\u5957\\u57FA\\u4E8E\\u6DF1\\u5EA6\n\\u5B66\\u4E60\\u7684\\u7B97\\u6CD5\\u5F00\\u53D1\\uFF0C\\u4F18\\u5316\\u4EE5\\u53CA\\u90E8\\u7F72\\u6D41\\u7A0B\\uFF0C\\u8BA9\\u6211\\u5BF9\\u4EBA\\u5DE5\\u667A\\u80FD\\u6709\\u4E86\\u975E\\u5E38\\u6DF1\\u523B\\u7684\\u8BA4\\u77E5\\uFF0C\\u800C\\u963F\\u91CC\\u4F5C\\u4E3A\\u56FD\n\\u5185\\u9876\\u5C16\\u7684\\u4E92\\u8054\\u7F51\\u516C\\u53F8\\uFF0C\\u5728\\u4F01\\u4E1A\\u6587\\u5316\\u3001\\u7EC4\\u7EC7\\u67B6\\u6784\\u3001\\u56E2\\u961F\\u5408\\u4F5C\\u3001\\u4EFB\\u52A1\\u5206\\u914D\\u7B49\\u65B9\\u9762\\u4E0A\\u540C\\u6837\\u4E5F\\u8BA9\\u6211\\u53D7\n\\u76CA\\u532A\\u6D45\\u3002`}),`\n`,(0,i.jsx)(n.p,{children:`\\u800C\\u5728\\u82F1\\u7279\\u5C14\\uFF0C\\u4F5C\\u4E3A\\u56FD\\u9645\\u4E00\\u6D41\\u7684\\u5916\\u4F01\\uFF0C\\u6211\\u4E0D\\u4EC5\\u83B7\\u5F97\\u4E86\\u6280\\u672F\\u4E0A\\u7684\\u6210\\u957F\\uFF0C\\u5B9E\\u73B0\\u4E86\\u4ECE\\u7B97\\u6CD5\\u5F00\n\\u53D1\\u5230\\u4EBA\\u5DE5\\u667A\\u80FD\\u7CFB\\u7EDF\\u6574\\u4F53\\u67B6\\u6784\\u7684\\u8F6C\\u53D8\\uFF0C\\u66F4\\u662F\\u719F\\u6089\\u4E86\\u4E00\\u5957\\u9AD8\\u6548\\u7684\\u4EBA\\u5DE5\\u667A\\u80FD\\u9879\\u76EE\\u5F00\\u53D1\\u4E0E\\u7BA1\\u7406\\u6D41\\u7A0B\\uFF0C\n\\u901A\\u8FC7\\u4E0E\\u56FD\\u9645\\u5404\\u56E2\\u961F\\u7684\\u5408\\u4F5C\\uFF0C\\u8BA9\\u6211\\u80FD\\u63A5\\u89E6\\u5230\\u56FD\\u5916\\u6700\\u5148\\u8FDB\\u7684\\u6280\\u672F\\u65B9\\u6848\\u3002\\u6B64\\u5916\\uFF0C\\u6211\\u4E5F\\u4E00\\u76F4\\u4FDD\\u6301\\u7740\\u5BF9\n\\u6280\\u672F\\u7684\\u70ED\\u60C5\\uFF0C\\u4E0D\\u65AD\\u5B66\\u4E60\\u5E76\\u4E14\\u63D0\\u5347\\u81EA\\u5DF1\\u3002\\u8C22\\u8C22\\u5404\\u4F4D\\u9762\\u8BD5\\u5B98`}),`\n`,(0,i.jsxs)(n.h3,{id:\"\\u4E00\\u4E9B\\u95EE\\u9898\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E00\\u4E9B\\u95EE\\u9898\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E00\\u4E9B\\u95EE\\u9898\"]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u6211\\u89C9\\u5F97\\u8981\\u53BB\\u5F3A\\u8C03\\uFF1A\"}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u56E2\\u961F\\u3001\\u9879\\u76EE\\u7684\\u7EC4\\u7EC7\\u7BA1\\u7406\\u80FD\\u529B\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u80FD\\u591F\\u5E26\\u6765\\u6709\\u5F88\\u9AD8\\u5E94\\u7528\\u4EF7\\u503C\\u7684\\u9879\\u76EE\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u80FD\\u591F\\u5E2E\\u52A9\\u56E2\\u961F\\u5FEB\\u901F\\u8DDF\\u8FDB\\u6700\\u65B0\\u6280\\u672F\\uFF0C\\u5C06\\u5176\\u8FDB\\u884C\\u5B9E\\u9645\\u5E94\\u7528\"}),`\n`]}),`\n`,(0,i.jsx)(n.hr,{}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:\"\\u4E3A\\u4EC0\\u4E48\\u79BB\\u5F00\\u963F\\u91CC\\uFF0C\\u4E3A\\u4EC0\\u4E48\\u79BB\\u5F00\\u82F1\\u7279\\u5C14\\u6765\"}),\"****\"]}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[\"\\u79BB\\u5F00\\u963F\\u91CC\\uFF1A\",`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u7EC4\\u7EC7\\u7ED3\\u6784\\u4E0A\\u7684\\u9891\\u7E41\\u53D8\\u52A8\\u4E0D\\u5229\\u4E8E\\u957F\\u8FDC\\u53D1\\u5C55\\uFF0C\\u4E5F\\u5F88\\u96BE\\u5C06\\u4E00\\u4EF6\\u4E8B\\u60C5\\u6301\\u7EED\\u505A\\u4E0B\\u53BB\\u5E76\\u505A\\u597D\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u611F\\u89C9\\u5230\\u4E92\\u8054\\u7F51\\u884C\\u4E1A\\u53D1\\u5C55\\u4E0D\\u50CF\\u4E4B\\u524D\\u90A3\\u6837\\u8FC5\\u901F\\uFF0C\\u800C\\u82AF\\u7247\\u662F\\u5F53\\u65F6\\u7684\\u70ED\\u70B9\\uFF0C\\u56E0\\u6B64\\u60F3\\u6362\\u4E2A\\u8D5B\\u9053\"}),`\n`,(0,i.jsx)(n.li,{children:`\\u5728\\u82F1\\u7279\\u5C14\\u505A\\u7684\\u662F\\u4EBA\\u5DE5\\u667A\\u80FD\\u7684\\u67B6\\u6784\\uFF0C\\u548C\\u6211\\u4E4B\\u524D\\u7684\\u5DE5\\u4F5C\\u5185\\u5BB9\\u533A\\u522B\\u6BD4\\u8F83\\u5927\\uFF0C\\u60F3\\u501F\\u6B64\\u62D3\\u5BBD\\u4E0B\\u81EA\\u5DF1\\u7684\\u77E5\\u8BC6\\u9762\n\\u540C\\u65F6\\u4E5F\\u60F3\\u4F53\\u9A8C\\u4E0B\\u5916\\u4F01\\u7684\\u516C\\u53F8\\u6587\\u5316\\u3001\\u7EC4\\u7EC7\\u67B6\\u6784\\u3001\\u4EFB\\u52A1\\u5206\\u914D\\u65B9\\u5F0F\n\\u56E0\\u6B64\\uFF0C\\u867D\\u7136\\u5F53\\u65F6\\u7F51\\u6613\\u7ED9\\u51FA\\u768486w\\u7684offer\\uFF0C\\u6211\\u4ECD\\u7136\\u9009\\u62E9\\u4E86intel`}),`\n`,(0,i.jsx)(n.li,{}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[\"\\u79BB\\u5F00\\u82F1\\u7279\\u5C14\\uFF1A\",`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:`\\u5BB6\\u5EAD\\u539F\\u56E0\\uFF1A\n\\u56E0\\u4E3A\\u5DE5\\u4F5C\\u5728\\u4E0A\\u6D77\\uFF0C\\u6240\\u4EE5\\u9700\\u8981\\u957F\\u671F\\u5954\\u6CE2\\uFF0C\\u5728\\u6709\\u4E86\\u5C0F\\u5B69\\u4E4B\\u540E\\u5E0C\\u671B\\u80FD\\u5B89\\u5B9A\\u4E0B\\u6765\\uFF0C\\u5E0C\\u671B\\u80FD\\u5728****\\u957F\\u671F\\u7A33\\u5B9A\\u53D1\\u5C55`}),`\n`,(0,i.jsx)(n.li,{}),`\n`,(0,i.jsxs)(n.li,{children:[\"**\",(0,i.jsx)(n.strong,{children:\"\\u7684\\u6838\\u5FC3\\u4E1A\\u52A1\\u5728\\u56FD\\u5185\\uFF0C\\u76F8\\u4FE1\\u53D1\\u5C55\\u7A7A\\u95F4\\u662F\\u5F88\\u5927\\u7684\\uFF0C\\u540C\\u65F6\\u62E5\\u6709\\u6D77\\u91CF\\u7684\\u6570\\u636E\\u4E0E\\u8BA1\\u7B97\\u8D44\\u6E90\\uFF0C\\u800C\\u6211\\u5BF9\\u7B97\\u6CD5\\u5E94\\u7528\\u90E8\\u7F72\\u7684\\u4E00\\u6574\\u5957\\u6D41\\u7A0B\\u90FD\\u975E\\u5E38\\u4E86\\u89E3\\uFF0C\\u57FA\\u4E8E\"}),\"****\\u63D0\\u4F9B\\u7684\\u201C\\u6570\\u636E+\\u7B97\\u529B\\u201D\\uFF0C\\u6211\\u5E0C\\u671B\\u80FD\\u591F\\u505A\\u4E00\\u4E9B\\u6709\\u4EF7\\u503C\\u7684\\u4EBA\\u5DE5\\u667A\\u80FD\\u5E94\\u7528\\uFF0C\\u5C06\\u4EBA\\u5DE5\\u667A\\u80FD\\u5E94\\u7528\\u5230\\u751F\\u6D3B\\u7684\\u65B9\\u65B9\\u9762\\u9762\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:\"\\u5728\\u963F\\u91CC\\u5B66\\u5230\\u4E86\\u4EC0\\u4E48\"})}),`\n`,(0,i.jsx)(n.p,{children:\"\\u6211\\u6240\\u5728\\u7684\\u90E8\\u95E8\\u662F\\uFF1A\"}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsxs)(n.p,{children:[\"\\u5728\\u963F\\u91CC\\uFF0C\\u6211\\u719F\\u6089\\u4E86\\u4E00\\u6574\\u5957\",(0,i.jsx)(n.strong,{children:\"\\u57FA\\u4E8E\\u6DF1\\u5EA6\\u5B66\\u4E60\\u7B97\\u6CD5\\u7684\\u5F00\\u53D1\\uFF0C\\u4F18\\u5316\\u4EE5\\u53CA\\u90E8\\u7F72\\u6D41\\u7A0B\"}),\"\\uFF0C\\u8BA9\\u6211\\u5BF9\\u6DF1\\u5EA6\\u5B66\\u4E60\\u6709\\u4E86\\u6BD4\\u8F83\\u6DF1\\u523B\\u7684\\u8BA4\\u8BC6\\uFF0C\\u5305\\u62EC\\uFF1A\"]}),`\n`,(0,i.jsxs)(n.p,{children:[\"1\\uFF09\",(0,i.jsx)(n.strong,{children:\"\\u5982\\u4F55\\u5BF9\\u6DF1\\u5EA6\\u5B66\\u4E60\\u7B97\\u6CD5\\u8FDB\\u884C\\u9009\\u578B\"}),\"\\uFF0C\\u540C\\u4E00\\u95EE\\u9898\\u5728\\u4E0D\\u540C\\u7684\\u5B9E\\u9645\\u6761\\u4EF6\\u4E0B\\uFF0C\\u6A21\\u578B\\u9009\\u62E9\\u548C\\u4F7F\\u7528\\u65B9\\u6848\\u90FD\\u4F1A\\u6709\\u6BD4\\u8F83\\u5927\\u7684\\u533A\\u522B\"]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u4F8B\\u5982\\uFF0C\\u5728\\u5DE5\\u4E1A\\u68C0\\u6D4B\\u3001\\u81EA\\u52A8\\u9A7E\\u9A76\\u7B49\\u9886\\u57DF\\uFF0C\\u5176\\u5BF9\\u6A21\\u578B\\u7684\\u901F\\u5EA6\\u8981\\u6C42\\u5F80\\u5F80\\u6BD4\\u8F83\\u9AD8\\uFF0C\\u5728\\u6A21\\u578B\\u7684\\u7AEF\\u4E0A\\u5E94\\u7528\\u65F6\\uFF0C\\u53EF\\u4EE5\\u9009\\u62E9\\u4E00\\u4E9B\\u8F7B\\u91CF\\u5316\\u7684\\u6A21\\u578B\\u67B6\\u6784\\uFF0C\\u5176\\u6B21\\u53EF\\u4EE5\\u5BF9\\u6A21\\u578B\\u8FDB\\u884C\\u91CF\\u5316\\u3001\\u526A\\u679D\\uFF0C\\u540C\\u65F6\\u4E3A\\u4E86\\u907F\\u514D\\u8FD9\\u4E9B\\u6A21\\u578B\\u6027\\u80FD\\u51FA\\u73B0\\u8F83\\u5927\\u4E0B\\uFF0C\\u5F80\\u5F80\\u9700\\u8981\\u505A\\u4E00\\u4E9B\\u5FAE\\u8C03\"}),`\n`,(0,i.jsx)(n.p,{children:\"\\u800C\\u5982\\u679C\\u6A21\\u578B\\u662F\\u5728\\u4E91\\u7AEF\\u90E8\\u7F72\\u7684\\uFF0C\\u7B97\\u529B\\u8D44\\u6E90\\u6BD4\\u8F83\\u4E30\\u5BCC\\uFF0C\\u90A3\\u6A21\\u578B\\u67B6\\u6784\\u53EF\\u4EE5\\u9009\\u62E9\\u4E00\\u4E9B\\u8F83\\u6DF1\\u7684\\u7F51\\u7EDC\\uFF0C\\u4F8B\\u5982\\u5BF9\\u56FE\\u50CF\\u89C6\\u9891\\u5206\\u7C7B\\u4EE5\\u53CA\\u68C0\\u6D4B\\u7684\\u4EFB\\u52A1\\u53EF\\u4EE5\\u9009\\u62E9\\u4E00\\u4E9BVIT\\u7684\\u67B6\\u6784\"}),`\n`,(0,i.jsxs)(n.p,{children:[\"2\\uFF09\\u5728\\u6DD8\\u5B9D\\uFF0C\\u6211\",(0,i.jsx)(n.strong,{children:\"\\u975E\\u5E38\\u5168\\u9762\\u7684\\u5B9E\\u73B0\\u4E86\\u7B97\\u6CD5\\u5E94\\u7528\\u7684\\u6574\\u6761\\u94FE\\u8DEF\"}),\"\\uFF0C\\u5305\\u62EC\\uFF1A\\u56FE\\u50CF\\u5206\\u5272\\uFF0C\\u4F4D\\u59FF\\u4F30\\u8BA1\\uFF0C3D\\u91CD\\u5EFA\\uFF0C\\u56FE\\u50CF\\u878D\\u5408\\u7B49\\u6A21\\u5757\\uFF0C\\u89E3\\u51B3\\u4E86\\u591A\\u6A21\\u5757\\u4E4B\\u95F4\\u7684\\u4F9D\\u8D56\\u3001\\u8C03\\u5EA6\\u7B49\\u95EE\\u9898\\uFF0C\\u8FC5\\u901F\\u5B9E\\u73B0\\u4E86Object Drawer\\u9879\\u76EE\\u7684\\u6784\\u5EFA\"]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u5BF9\\u4E8E\\u6DF1\\u5EA6\\u5B66\\u4E60\\u7684\\u57FA\\u7840\\u7B97\\u6CD5\\uFF0C\\u5305\\u62EC\\uFF1A\\u68C0\\u6D4B\\u3001\\u5206\\u7C7B\\u3001\\u5206\\u5272\\u7B49\\u4EFB\\u52A1\\uFF0C\\u5728\\u7814\\u7A76\\u751F\\u7684\\u751F\\u6DAF\\u4E2D\\uFF0C\\u6211\\u90FD\\u6709\\u7740\\u5B9E\\u9645\\u4F7F\\u7528\\u7684\\u7ECF\\u9A8C\\uFF0C\\u5728\\u8FDB\\u5165\\u963F\\u91CC\\u5DE5\\u4F5C\\u540E\\uFF0C\\u9762\\u5BF9\\u5546\\u54C1\\u6570\\u5B57\\u5316\\u7684\\u4E1A\\u52A1\\u9700\\u6C42\\uFF0C\\u6211\\u80FD\\u591F\\u57FA\\u4E8E\\u8FD9\\u4E9B\\u6210\\u719F\\u7684\\u57FA\\u7840\\u7B97\\u6CD5\\u6A21\\u5757\\uFF0C\\u5B9E\\u73B0\\u4E00\\u4E2A\\u4EBA\\u5DE5\\u667A\\u80FD\\u5E94\\u7528\\u7684\\u5B8C\\u6574\\u642D\\u5EFA\"}),`\n`,(0,i.jsxs)(n.p,{children:[\"\\u4EE5\\u56FE\\u50CF\\u5206\\u5272\\u4E3A\\u4F8B\\uFF0C\\u9009\\u53D6\\u4E86\\u5F53\\u65F6\\u6548\\u679C\\u6700\\u597D\\u7684\",(0,i.jsx)(n.strong,{children:\"U2Net\\u7F51\\u7EDC\"}),\"\\uFF0C\\u7136\\u800C\\u5176\\u5BF9\\u4E8E\\u7269\\u4F53\\u7684\",(0,i.jsx)(n.strong,{children:\"\\u7EC6\\u8282\\u5206\\u5272\\u6548\\u679C\\u4ECD\\u7136\\u96BE\\u4EE5\\u8FBE\\u5230\\u5B9E\\u9645\\u5E94\\u7528\\u6807\\u51C6\"}),\"\\uFF0C\\u5BF9\\u6B64\\uFF0C\\u6211\\u4EEC\\u57FA\\u4E8E\",(0,i.jsx)(n.strong,{children:\"\\u4FE1\\u566A\\u6BD4\"}),\"\\u53BB\\u9664\\u6A21\\u7CCA\\u56FE\\u7247\\uFF0C\\u7ED3\\u5408\",(0,i.jsx)(n.strong,{children:\"\\u6DF1\\u5EA6\\u4F30\\u8BA1\"}),\"\\u7B97\\u6CD5\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u4E86\\u5206\\u5272\\u6548\\u679C\"]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsxs)(n.p,{children:[\"\\u5728\\u963F\\u91CC\\uFF0C\\u6211\\u4E0D\\u4EC5\\u4EC5\\u6EE1\\u8DB3\\u4E8E\\u8C03\\u7528\\u5F00\\u6E90\\u4EE3\\u7801\\uFF0C\\u800C\\u662F\",(0,i.jsx)(n.strong,{children:\"\\u6DF1\\u5165\\u6DF1\\u5EA6\\u5B66\\u4E60\\u7B97\\u6CD5\\u7684\\u8BBE\\u8BA1\\u601D\\u60F3\\uFF0C\\u53BB\\u7075\\u6D3B\\u7684\\u89E3\\u51B3\\u5B9E\\u9645\\u95EE\\u9898\"})]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u6211\\u51E0\\u4E4E\\u6BCF\\u5929\\u90FD\\u4F1A\\u9605\\u8BFB\\u6700\\u65B0\\u7684\\u8BBA\\u6587\\uFF0C\\u5C06\\u4F18\\u79C0\\u7684\\u7B97\\u6CD5\\u601D\\u60F3\\u7EB3\\u5165\\u5230\\u81EA\\u5DF1\\u89E3\\u51B3\\u95EE\\u9898\\u7684\\u5DE5\\u5177\\u5E93\\u4E2D\\u6765\\uFF0C\\u6211\\u521A\\u8FDB\\u5165\\u5DE5\\u4F5C\\u65F6\\uFF0C\\u6DD8\\u5B9D\\u60F3\\u5B9E\\u73B0\\u4F4E\\u6210\\u672C\\u9AD8\\u8D28\\u91CF\\u7684\\u5546\\u54C1\\u6570\\u5B57\\u5316\\uFF0C\\u4F8B\\u5982\\u4F7F\\u7528\\u624B\\u673A\\u62CD\\u6444\\u4E00\\u5708\\u5546\\u54C1\\uFF0C\\u5C31\\u80FD\\u5F97\\u5230\\u5546\\u54C1\\u7684\\u6570\\u5B57\\u5316\\u6A21\\u578B\\uFF0C\\u5F53\\u65F6\\u6211\\u57FA\\u4E8E\\u53EF\\u5FAE\\u6E32\\u67D3\\u7684\\u4E00\\u7BC7\\u8BBA\\u6587\\uFF0C\\u5C06\\u5546\\u54C1\\u6A21\\u578B\\u8F6C\\u5316\\u4E3A\\u4E00\\u4E2A\\u5C0F\\u7684\\u795E\\u7ECF\\u7F51\\u7EDC\\uFF0C\\u5C06\\u5176\\u653E\\u5230\\u4E86\\u6DD8\\u5B9D\\u7684app\\u4E2D\"}),`\n`,(0,i.jsxs)(n.p,{children:[\"\\u8FD9\\u4E2D\\u95F4\\u9047\\u5230\\u4E86\\u5F88\\u591A\\u95EE\\u9898\\uFF0C\\u6BD4\\u5982\\u201C\\u6A21\\u578B\\u63A8\\u7406\\u592A\\u6162\\u201D\\uFF0C\\u90A3\\u4E48\\u5C31\\u5229\\u7528\",(0,i.jsx)(n.strong,{children:\"\\u7A7A\\u95F4\\u6362\\u65F6\\u95F4\"}),\"\\u7684\\u601D\\u60F3\\uFF0C\\u5C06\\u6A21\\u578B\\u7ED3\\u6784\\u62C9\\u5E73\\uFF0C\\u5927\\u5927\\u63D0\\u5347\\u4E86\\u63A8\\u7406\\u901F\\u5EA6\\uFF08\\u63A5\\u8FD11w\\u500D\\uFF09\\uFF0C\\u5B58\\u50A8\\u589E\\u5927\\u4EE5\\u540E\\u624B\\u673A\\u5F88\\u96BE\\u653E\\u7684\\u4E0B\\uFF0C\\u8FD9\\u65F6\\u5019\\u6211\\u4EEC\\u5229\\u7528\",(0,i.jsx)(n.strong,{children:\"\\u7A00\\u758F\\u6027\"}),\"\\u7684\\u601D\\u60F3\\uFF0C\\u5BF9\\u7EB9\\u7406\\u4EE5\\u53CA\\u51E0\\u4F55\\u8FDB\\u884C\\u538B\\u7F29\\uFF0C\\u8BA9\\u6BCF\\u4E00\\u4E2A\\u6A21\\u578B\\u5927\\u5C0F\\u4FDD\\u8BC1\\u57285m\\u4EE5\\u5185\\uFF0C\\u6700\\u7EC8\\u5B9E\\u73B0\\u4E86\\u624B\\u673A\\u7AEF\\u53EF\\u7528\"]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u5728\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u6211\\u6CA1\\u6709\\u523B\\u610F\\u8FFD\\u6C42\\u521B\\u65B0\\uFF0C\\u800C\\u662F\\u7075\\u6D3B\\u7684\\u89E3\\u51B3\\u5B9E\\u9645\\u95EE\\u9898\\uFF0C\\u6700\\u7EC8\\u6211\\u4E5F\\u5C06\\u76F8\\u5173\\u6210\\u679C\\u8FDB\\u884C\\u6574\\u7406\\uFF0C\\u53D1\\u8868\\u4E86\\u4E24\\u7BC7\\u9876\\u7EA7\\u7684\\u4EBA\\u5DE5\\u667A\\u80FD\\u8BBA\\u6587\\uFF0C\\u800C\\u4E14\\u6211\\u90FD\\u662F\\u7B2C\\u4E00\\u4F5C\\u8005\\uFF0C\\u6B64\\u5916\\u8FD8\\u6709\\u4E00\\u7BC7\\u4E13\\u5229\\uFF0C\\u8FD9\\u4E5F\\u8BA9\\u6211\\u5728\\u963F\\u91CC\\u6BCF\\u5E74\\u90FD\\u662F\\u56E2\\u961F\\u6700\\u597D\\u7684\\u7EE9\\u6548\\uFF08375\\uFF09\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsxs)(n.p,{children:[\"\\u5728\\u963F\\u91CC\\uFF0C\\u6211\\u4E5F\\u719F\\u6089\\u4E86\\u56FD\\u5185\\u9876\\u5C16\\u4E92\\u8054\\u7F51\\u516C\\u53F8\\u7684\",(0,i.jsx)(n.strong,{children:\"\\u4F01\\u4E1A\\u6587\\u5316\\u3001\\u7EC4\\u7EC7\\u67B6\\u6784\\u3001\\u56E2\\u961F\\u5408\\u4F5C\\u3001\\u4EFB\\u52A1\\u5206\\u914D\\u3001\\u7EE9\\u6548\\u7BA1\\u7406\"}),\"\\u7B49\\u65B9\\u9762\\u7684\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u867D\\u7136\\u963F\\u91CC\\u4F5C\\u4E3A\\u975E\\u5E38\\u5927\\u7684\\u4E92\\u8054\\u7F51\\u516C\\u53F8\\uFF0C\\u4F46\\u662F\\u5728\\u4E00\\u4E2A\\u5C0F\\u56E2\\u961F\\u5185\\u90E8\\u7684\\u6548\\u7387\\u8FD8\\u662F\\u975E\\u5E38\\u4E0D\\u9519\\u7684\\uFF0C\\u5C24\\u5176\\u5728\\u65B0\\u9879\\u76EE\\u4E0A\\u6709\\u70B9\\u7C7B\\u4F3C\\u4E8E\\u521B\\u4E1A\\u56E2\\u961F\\u7684\\u6C1B\\u56F4\\uFF0C\\u5927\\u5BB6\\u80FD\\u591F\\u5934\\u8111\\u98CE\\u66B4\\u51FA\\u5F88\\u591A\\u4E0D\\u540C\\u7684\\u65B9\\u6848\\u601D\\u8DEF\\uFF0C\\u5BF9\\u4E8E\\u6700\\u65B0\\u7684\\u6280\\u672F\\u6211\\u4EEC\\u4E5F\\u4F1A\\u4E92\\u76F8\\u4EA4\\u6D41\\u5B66\\u4E60\\uFF0C\\u8FDB\\u884C\\u4E00\\u4E9B\\u6280\\u672F\\u5206\\u4EAB\\u3002\"}),`\n`,(0,i.jsx)(n.p,{children:\"\\u9879\\u76EE\\u7EC4\\u7684\\u9886\\u5BFC\\u5BF9\\u6211\\u4EEC\\u4E5F\\u6709\\u7740\\u5F88\\u9AD8\\u7684\\u8981\\u6C42\\uFF0C\\u6BD4\\u5982\\u5F53\\u5B9E\\u73B0\\u4E00\\u4E2A\\u6DF1\\u5EA6\\u5B66\\u4E60\\u7B97\\u6CD5\\u6A21\\u5757\\u65F6\\uFF0C\\u6211\\u4EEC\\u4E0D\\u4EC5\\u4EC5\\u662F\\u53EA\\u4FDD\\u8BC1\\u7B97\\u6CD5\\u8DD1\\u51FA\\u6765\\u7684\\u7ED3\\u679C\\u770B\\u8D77\\u6765\\u6CA1\\u95EE\\u9898\\uFF0C\\u800C\\u662F\\u4F1A\\u8FDB\\u884C\\u975E\\u5E38\\u4E25\\u8C28\\u7684\\u6D4B\\u8BD5\\uFF0C\\u4FDD\\u8BC1\\u5176\\u80FD\\u591F\\u5728\\u591A\\u79CD\\u4E0D\\u540C\\u7684\\u6D4B\\u8BD5\\u96C6\\u4E0A\\u90FD\\u80FD\\u6709\\u6548\\u679C\\u4E0A\\u7684\\u63D0\\u5347\\u3002\\u540C\\u65F6\\uFF0C\\u6BCF\\u4E2A\\u6708\\u6211\\u4EEC\\u4E5F\\u4F1A\\u8FDB\\u884C\\u6DF1\\u523B\\u7684\\u603B\\u7ED3\\u601D\\u8003\\uFF0C\\u8FFD\\u6C42\\u6280\\u672F\\u4E0A\\u7684\\u63D0\\u5347\"}),`\n`,(0,i.jsx)(n.p,{children:\"\\u7136\\u800C\\uFF0C\\u80FD\\u8BA9\\u6211\\u4EEC\\u7684\\u9879\\u76EE\\u6700\\u7EC8\\u53D6\\u5F97\\u4E86\\u4E0D\\u9519\\u8FDB\\u5C55\\u5E76\\u4E14\\u6210\\u529F\\u4E0A\\u7EBF\\u624B\\u6DD8\\uFF0C\\u6211\\u89C9\\u5F97\\u6700\\u91CD\\u8981\\u7684\\u56E0\\u7D20\\u5E94\\u8BE5\\u662F\\uFF1A\\u5BF9\\u9879\\u76EE\\u826F\\u597D\\u7684\\u628A\\u63E1\\u548C\\u89C4\\u5212\\u3002\\u8FD9\\u5C31\\u9700\\u8981\\u5BF9\\u6DF1\\u5EA6\\u5B66\\u4E60\\u7B97\\u6CD5\\u6709\\u4E2A\\u6BD4\\u8F83\\u5168\\u9762\\u6DF1\\u523B\\u7684\\u8BA4\\u77E5\\uFF0C\\u800C\\u7ECF\\u8FC7\\u5728\\u963F\\u91CC\\u5DE5\\u4F5C\\u4E0A\\u7684\\u953B\\u70BC\\uFF0C\\u6211\\u5728\\u8FD9\\u65B9\\u9762\\u83B7\\u5F97\\u4E86\\u6BD4\\u8F83\\u5927\\u7684\\u6210\\u957F\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:\"\\u5728\\u82F1\\u7279\\u5C14\\u5B66\\u5230\\u4E86\\u4EC0\\u4E48\"})}),`\n`,(0,i.jsx)(n.p,{children:`\\u5728\\u82F1\\u7279\\u5C14\\u6211\\u5C31\\u804C\\u4E8E\\u4EBA\\u5DE5\\u667A\\u80FD\\u4E0E\\u6570\\u636E\\u5206\\u6790\\u56E2\\u961F\\uFF0C\\u6211\\u6240\\u5728\\u7684\\u5C0F\\u7EC4\\u8D1F\\u8D23\\uFF1A\\u4EBA\\u5DE5\\u667A\\u80FD\\u5E94\\u7528\\u7684\\u67B6\\u6784\\uFF0C\\u5305\\u62EC\n1)\\u9AD8\\u6548\\u7684\\u6570\\u636E\\u5904\\u7406 2)\\u5206\\u5E03\\u5F0F\\u7684\\u5927\\u6A21\\u578B\\u8BAD\\u7EC3 3)\\u9AD8\\u6027\\u80FD\\u7684\\u6A21\\u578B\\u90E8\\u7F72 4\\uFF09\\u57FA\\u4E8EGPT\\u7684\\u95EE\\u7B54\\u7CFB\\u7EDF\\u642D\\u5EFA\\uFF08RAG\\uFF09`}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[\"\\u76EE\\u524D\\uFF0C\\u6211\\u8D1F\\u8D23\\u7684\\u4E3B\\u8981\\u5185\\u5BB9\\u662F\\uFF1A\\u4E3Aintel\\u8BAD\\u7EC3\\u4E00\\u4E2A\\u81EA\\u5DF1\\u7684\\u5927\\u8BED\\u8A00\\u57FA\\u5EA7\\u6A21\\u578B\\uFF0C\\u5305\\u62EC\",(0,i.jsx)(n.strong,{children:\"\\u5927\\u6A21\\u578B\\u7684\\u9884\\u8BAD\\u7EC3\\uFF0C\\u5FAE\\u8C03\\u4EE5\\u53CA\\u57FA\\u4E8E\\u4EBA\\u7C7B\\u53CD\\u9988\\u7684\\u5F3A\\u5316\\u5B66\\u4E60\"}),\"\\u3002\\u76EE\\u524D\\uFF0C\\u5E02\\u9762\\u4E0A\\u7684\\u5F88\\u591A\\u6A21\\u578B\\u662F\\u57FA\\u4E8E\\u56FD\\u5916\\u6A21\\u578B\\u5FAE\\u8C03\\u5F97\\u5230\\u7684\\uFF0C\\u6280\\u672F\\u96BE\\u5EA6\\u8F83\\u4F4E\\uFF0C\\u4E14\\u5BF9\\u4E2D\\u6587\\u4EE5\\u53CA\\u4E2A\\u6027\\u5316\\u7684\\u5185\\u5BB9\\u652F\\u6301\\u8F83\\u5DEE\\uFF0C\\u800C\\u56FD\\u5185\\u6CD5\\u89C4\\u8981\\u6C42\\u5982\\u679C\\u8981\\u53D1\\u5E03\\u5927\\u6A21\\u578B\\uFF0C\\u5FC5\\u987B\\u5F97\\u662F\\u81EA\\u5DF1\\u4ECE\\u5934\\u8BAD\\u7EC3\\u7684\\uFF0C\\u56E0\\u6B64\\u62E5\\u6709\\u5BF9\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u7684\\u9884\\u8BAD\\u7EC3\\u80FD\\u529B\\u975E\\u5E38\\u91CD\\u8981\\u7684\\u3002\"]}),`\n`]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u6211\\u57FA\\u4E8E\\u5206\\u5E03\\u5F0F\\u6846\\u67B6Ray\\u5B9E\\u73B0\\u4E86\\u591A\\u673A\\u591A\\u5361\\u4E0B\\u7684\\u5927\\u6A21\\u578B\\u9884\\u8BAD\\u7EC3\\uFF0C\\u7ED3\\u5408megatron\\uFF0C\\u6211\\u5B9E\\u73B0\\u4E86\\u5BF9\\u4E8E\\u6A21\\u578B\\u7684\\u591A\\u7EF4\\u5EA6\\u5E76\\u884C\\uFF08\\u5305\\u62EC\\u6570\\u636E\\u5E76\\u884C\\uFF0C\\u6D41\\u6C34\\u7EBF\\u5E76\\u884C\\uFF0C\\u5F20\\u91CF\\u5E76\\u884C\\uFF09\\uFF0C\\u540C\\u65F6\\u57FA\\u4E8Edeepspeed\\uFF0C\\u5927\\u5927\\u51CF\\u5C11\\u4E86\\u6A21\\u578B\\u8BAD\\u7EC3\\u8FC7\\u7A0B\\u4E2D\\u7684\\u663E\\u5B58\\u5F00\\u9500\\uFF0C\\u6700\\u7EC8\\u5B9E\\u73B0\\u4E86\\u9AD8\\u6548\\u7684\\u5927\\u8BED\\u8A00\\u57FA\\u5EA7\\u6A21\\u578B\\u7684\\u9884\\u8BAD\\u7EC3\\u3002\"}),`\n`,(0,i.jsxs)(n.p,{children:[\"\\u5728\\u6B64\\u57FA\\u7840\\u4E0A\\uFF0C\\u6211\\u8FDB\\u4E00\\u6B65\\u5B9E\\u73B0\\u4E86\\uFF1A\",(0,i.jsx)(n.strong,{children:\"\\u9AD8\\u6548\\u7684\\u5927\\u6A21\\u578B\\u5FAE\\u8C03\"}),\"\\u4EE5\\u53CA\",(0,i.jsx)(n.strong,{children:\"\\u57FA\\u4E8E\\u4EBA\\u7C7B\\u53CD\\u9988\\u7684\\u5F3A\\u5316\\u5B66\\u4E60\"}),\"\\u3002\\u5FAE\\u8C03\\u7684\\u4E3B\\u8981\\u76EE\\u6807\\u662F\\u8BA9\\u6A21\\u578B\\u83B7\\u5F97\\u7279\\u5B9A\\u4EFB\\u52A1\\u4E0A\\u7684\\u6027\\u80FD\\u63D0\\u5347\\uFF0C\\u4F8B\\u5982\\u8BA9\\u8BED\\u8A00\\u6A21\\u578B\\u83B7\\u5F97\\u8F83\\u597D\\u7684\\u5BF9\\u8BDD\\u80FD\\u529B\\u3002\\u6211\\u4E3B\\u8981\\u5B9E\\u73B0\\u4E863\\u79CD\\u5F62\\u5F0F\\u7684\\u5FAE\\u8C03\\uFF0C\\u5168\\u53C2\\u6570\\uFF0C\\u90E8\\u5206\\u53C2\\u6570\\u4EE5\\u53CA\\u57FA\\u4E8Elora\\u7684\\u5FAE\\u8C03\\uFF0C\\u57FA\\u4E8Elora\\u6211\\u751A\\u81F3\\u80FD\\u591F\\u901A\\u8FC7CPU\\u5B9E\\u73B0\\u5BF9\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u7684\\u4F18\\u5316\"]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u901A\\u8FC7\\u9AD8\\u8D28\\u91CF\\u7684\\u5FAE\\u8C03\\uFF0C\\u53EF\\u4EE5\\u8BA9\\u5927\\u6A21\\u578B\\u5728\\u67D0\\u4E00\\u9886\\u57DF\\u83B7\\u5F97\\u7A81\\u51FA\\u8868\\u73B0\\uFF0C\\u4F8B\\u5982\\u53EF\\u4EE5\\u57FA\\u4E8E\\u4EBA\\u7C7B\\u7684\\u95EE\\u9898\\u76F4\\u63A5\\u751F\\u6210\\u6570\\u636E\\u5206\\u6790\\u7684\\u4EE3\\u7801\\uFF0C\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u5FEB\\u901F\\u5206\\u6790\\u7528\\u6237\\u7684\\u884C\\u4E3A\\uFF0C\\u65B9\\u4FBF\\u505A\\u51FA\\u5E02\\u573A\\u51B3\\u7B56\\u3002\\u800C\\u5F3A\\u5316\\u5B66\\u4E60\\u4E3B\\u8981\\u662F\\u53EF\\u4EE5\\u63D0\\u5347\\u5927\\u6A21\\u578B\\u7684\\u5B89\\u5168\\u6027\\uFF0C\\u907F\\u514D\\u5927\\u6A21\\u578B\\u8F93\\u51FA\\u53CD\\u4EBA\\u7C7B\\u7684\\u56DE\\u7B54\\u3002\"}),`\n`,(0,i.jsxs)(n.ol,{start:\"2\",children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsxs)(n.p,{children:[\"\\u6211\\u4E0D\\u4EC5\\u5BF9\\u6A21\\u578B\\u7684\\u8BAD\\u7EC3\\u4F18\\u5316\\u6BD4\\u8F83\\u4E86\\u89E3\\uFF0C\\u540C\\u65F6\\u5BF9\\u4E8E\",(0,i.jsx)(n.strong,{children:\"\\u6A21\\u578B\\u7684\\u63A8\\u7406\\u4F18\\u5316\"}),\"\\u4E5F\\u6BD4\\u8F83\\u719F\\u6089\\uFF0C\\u5305\\u62EC\\u5BF9\\u6A21\\u578B\\u7684\\u91CF\\u5316\\u3001\\u526A\\u679D\\u4E0E\\u84B8\\u998F\\u7B49\\u6280\\u672F\\u3002\\u6211\\u751A\\u81F3\\u5728\\u81EA\\u5BB6\\u4EC5\\u4EC5\\u53EA\\u6709CPU\\u7684\\u673A\\u5668\\u4E0A\\u90E8\\u7F72\\u4E86\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\uFF0C\\u76F8\\u5BF9\\u4E8E\\u4E1A\\u754C\\u52A8\\u8F84\\u4F7F\\u7528\\u6570\\u5341\\u4E07\\u5143\\u663E\\u5361\\u8FDB\\u884C\\u5927\\u6A21\\u578B\\u90E8\\u7F72\\u7684\\u65B9\\u6CD5\\uFF0C\\u6210\\u672C\\u5927\\u5927\\u964D\\u4F4E\\u3002\\u8FD9\\u4E5F\\u662F\\u6211\\u4F18\\u5316\\u4E86\\u6A21\\u578B\\u6027\\u80FD\\u7684\\u7ED3\\u679C\"]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsxs)(n.p,{children:[\"\\u57FA\\u4E8E\\u6211\\u4EEC\\u8FD9\\u4E00\\u5957\\u81EA\\u7814\\u7684\\u5927\\u6A21\\u578B\\u8BAD\\u7EC3\\u63A8\\u7406\\u6846\\u67B6\\uFF0C\\u6211\\u7814\\u53D1\\u4E86\\u4E00\\u5957\",(0,i.jsx)(n.strong,{children:\"\\u57FA\\u4E8E\\u6587\\u6863\\u589E\\u5F3A\\u7684\\u5927\\u6A21\\u578B\\u5E94\\u7528\"}),\"\\u3002\\u5728\\u5F88\\u591A\\u516C\\u53F8\\u4E2D\\uFF0C\\u90FD\\u4F1A\\u6709\\u81EA\\u5DF1\\u7684\\u5185\\u90E8\\u6587\\u6863\\uFF0C\\u6BD4\\u5982\\u5185\\u90E8\\u7684\\u6280\\u672F\\u6587\\u6863\\u3001\\u5458\\u5DE5\\u624B\\u518C\\u3001\\u8D22\\u62A5\\u7B49\\u7B49\\uFF0C\\u800C\\u5982\\u679C\\u60F3\\u8981\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u57FA\\u4E8E\\u8FD9\\u4E9B\\u6587\\u6863\\u5185\\u5BB9\\u8FDB\\u884C\\u56DE\\u7B54\\uFF0C\\u76F4\\u63A5\\u8BAD\\u7EC3\\u662F\\u4E0D\\u73B0\\u5B9E\\u7684\\uFF0C\\u56E0\\u4E3A\\u4E0D\\u53EF\\u80FD\\u6BCF\\u66F4\\u65B0\\u4E00\\u4E9B\\u6587\\u6863\\u5C31\\u8BAD\\u7EC3\\u4E00\\u904D\\uFF0C\\u8FD9\\u6837\\u6210\\u672C\\u592A\\u9AD8\\u3002\\u56E0\\u6B64\\uFF0C\\u6211\\u6784\\u5EFA\\u4E00\\u5957\\u57FA\\u4E8E\\u63D0\\u95EE\\u5185\\u5BB9\\u8FDB\\u884C\\u5411\\u91CF\\u68C0\\u7D22\\uFF0C\\u518D\\u57FA\\u4E8E\\u68C0\\u7D22\\u5185\\u5BB9\\u4F7F\\u7528\\u5927\\u6A21\\u578B\\u56DE\\u7B54\\u7684\\u5E94\\u7528\\u6846\\u67B6\\u3002\"]}),`\n`]}),`\n`]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u5206\\u6790\\u4E862019\\u5E74\\u81F32022\\u5E74\\u4E0A\\u5E02\\u516C\\u53F8\\u7684\\u6240\\u6709\\u8D22\\u62A5\\u4FE1\\u606F\\uFF0C\\u6784\\u5EFA\\u4E86\\u4E00\\u4E2A\\u91D1\\u878D\\u9886\\u57DF\\u7684\\u95EE\\u7B54\\u5927\\u6A21\\u578B\\uFF0C\\u5B8C\\u6210\\u4E86\\u4ECE\\u6570\\u636E\\u5904\\u7406\\u3001\\u591A\\u6A21\\u6001\\u6570\\u636E\\u5E93\\u6784\\u5EFA\\u3001\\u6A21\\u578B\\u5FAE\\u8C03\\u3001\\u76F8\\u5173\\u6570\\u636E\\u68C0\\u7D22\\u7B49\\u4E00\\u7CFB\\u5217\\u7684\\u5E94\\u7528\\u6A21\\u5757\\uFF0C\\u6700\\u7EC8\\u5B9E\\u73B0\\u4E86\\u5BF9\\u5404\\u516C\\u53F8\\u8D22\\u62A5\\u4FE1\\u606F\\u7684\\u5FEB\\u901F\\u51C6\\u786E\\u7684\\u56DE\\u7B54\\u3002\"}),`\n`,(0,i.jsxs)(n.ol,{start:\"4\",children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:\"\\u719F\\u6089\\u4E86\\u4E00\\u5957\\u9AD8\\u6548\\u4E14\\u56FD\\u9645\\u901A\\u7528\\u7684\\u591A\\u4EBA\\u534F\\u4F5C\\u4EE3\\u7801\\u5F00\\u53D1\\u6D41\\u7A0B\"}),\"\\uFF0C\\u5728\\u5F88\\u591A\\u56FD\\u5185\\u7684\\u5927\\u516C\\u53F8\\uFF0C\\u5305\\u62EC\\u963F\\u91CC\\u3001\\u534E\\u4E3A\\u7B49\\u7B49\\uFF0C\\u5F88\\u591A\\u90FD\\u4F7F\\u7528\\u7684\\u4E8B\\u5185\\u90E8\\u7684\\u5F00\\u53D1\\u5DE5\\u5177\\uFF0C\\u8FD9\\u5BFC\\u81F4\\u5230\\u4E86\\u4E00\\u4E2A\\u65B0\\u7684\\u56E2\\u961F\\u540E\\uFF0C\\u975E\\u5E38\\u4E0D\\u5229\\u4E8E\\u9879\\u76EE\\u7684\\u6574\\u4F53\\u628A\\u63E1\\u3002\\u800C\\u6211\\u4EEC\\u7684\\u5BA2\\u6237\\u5305\\u62EC\\u56FD\\u5185\\u5916\\u7684\\u77E5\\u540D\\u4F01\\u4E1A\\uFF0C\\u6BD4\\u5982\\u5B57\\u8282\\u3001\\u963F\\u91CC\\u3001\\u767E\\u5EA6\\u3001\\u5FAE\\u8F6F\\u7B49\\u7B49\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u7684\\u5F00\\u53D1\\u6D41\\u7A0B\\u662F\\u56FD\\u5185\\u5916\\u901A\\u7528\\u4E14\\u975E\\u5E38\\u9AD8\\u6548\\u7684\\uFF0C\\u5728\\u82F1\\u7279\\u5C14\\u7684\\u8FD9\\u6BB5\\u65F6\\u95F4\\uFF0C\\u6211\\u5B8C\\u5168\\u719F\\u6089\\u4E86\\u8FD9\\u5957\\u6D41\\u7A0B\\uFF0C\\u63D0\\u5347\\u4E86\\u5BF9\\u9879\\u76EE\\u6574\\u4F53\\u7684\\u628A\\u63E1\\u80FD\\u529B\"]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:\"\\u611F\\u53D7\\u5230\\u5E76\\u719F\\u6089\\u4E86\\u5927\\u578B\\u5916\\u4F01\\u7684\\u5DE5\\u4F5C\\u65B9\\u5F0F\"}),\"\\uFF0C\\u975E\\u5E38\\u6CE8\\u91CD\\u5DE5\\u4F5C\\u4E0E\\u751F\\u6D3B\\u7684\\u5E73\\u8861\\uFF0C\\u5728\\u8BA1\\u5212\\u7684\\u8BBE\\u5B9A\\u4E0A\\u975E\\u5E38\\u7EC6\\u81F4\\uFF0C\\u6307\\u5B9A\\u76EE\\u6807\\u4E4B\\u540E\\u5E76\\u4E0D\\u7740\\u6025\\u53BB\\u5B9E\\u73B0\\uFF0C\\u800C\\u662F\\u4F1A\\u53BB\\u60F3\\u597D\\u6BCF\\u4E00\\u6B65\\u7684\\u8BA1\\u5212\\uFF0C\\u5217\\u51FA\\u4E00\\u4E2A\\u6708\\u7684\\u5DE5\\u4F5C\\u7EC6\\u8282\\uFF0C\\u6BCF\\u5468\\u53BB\\u66F4\\u65B0\\u8FDB\\u5C55\\u3002\\u5982\\u679C\\u786E\\u5B9E\\u9047\\u5230\\u4E86\\u56F0\\u96BE\\u6216\\u8005\\u6709\\u4EF7\\u503C\\u7684\\u95EE\\u9898\\uFF0C\\u4E5F\\u4F1A\\u7ED9\\u5145\\u5206\\u7684\\u65F6\\u95F4\\u53BB\\u89E3\\u51B3\\u548C\\u63A2\\u7D22\\u3002\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:\"\\u81EA\\u8EAB\\u7684\\u4F18\\u52BF\\u662F\\u4EC0\\u4E48\\uFF0C\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981\\u6211\"})}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u5177\\u6709\\u9876\\u5C16\\u4E92\\u8054\\u7F51\\u516C\\u53F8\\u4E0E\\u4E00\\u6D41\\u5916\\u4F01\\u7684\\u5DE5\\u4F5C\\u7ECF\\u9A8C\\uFF0C\\u53EF\\u4EE5\\u4E3A******\\u5E26\\u6765\\u975E\\u5E38\\u6709\\u4EF7\\u503C\\u7684\\u4EBA\\u5458\\u5DE5\\u4F5C\\u5B89\\u6392\\u4E0E\\u9879\\u76EE\\u7BA1\\u7406\\u7ECF\\u9A8C\"}),`\n`,(0,i.jsxs)(n.li,{children:[\"\\u4EE3\\u7801\\u5F00\\u53D1\\u4E0A\\uFF1A\",`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u6709\\u4E00\\u5957\\u9AD8\\u6548\\u7684\\u591A\\u4EBA\\u534F\\u4F5C\\u4EE3\\u7801\\u5F00\\u53D1\\u7BA1\\u7406\\u7ECF\\u9A8C\\uFF0C\\u80FD\\u6700\\u5927\\u5316\\u56E2\\u961F\\u7684\\u6280\\u672F\\u4EA7\\u51FA\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u719F\\u6089\\u4EBA\\u5DE5\\u667A\\u80FD\\u7B97\\u6CD5\\u7684\\u7684\\u4E00\\u6574\\u5957\\u6D41\\u7A0B\\uFF0C\\u5305\\u62EC\\u6570\\u636E\\u5904\\u7406\\u3001\\u7B97\\u6CD5\\u8BBE\\u8BA1\\u3001\\u6A21\\u578B\\u8BAD\\u7EC3\\u3001\\u90E8\\u7F72\\u4EE5\\u53CA\\u6027\\u80FD\\u4F18\\u5316\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u4EB2\\u8EAB\\u5B9E\\u8DF5\\u4E86\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u7684\\u5168\\u5957\\u6D41\\u7A0B\\uFF0C\\u5305\\u62EC\\u9884\\u8BAD\\u7EC3\\u3001\\u5FAE\\u8C03\\u4EE5\\u53CA\\u5F3A\\u5316\\u5B66\\u4E60\\uFF0C\\u80FD\\u591F\\u5FEB\\u901F\\u5E2E\\u52A9******\\u6784\\u5EFA\\u81EA\\u5DF1\\u7684\\u5927\\u6A21\\u578B\\u5E94\\u7528\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[\"\\u6280\\u672F\\u6D89\\u730E\\u5E7F\\u6CDB\\uFF0C\",`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u719F\\u6089\\u5305\\u62EC\\uFF1A\\u56FE\\u50CF\\u5206\\u5272\\u3001\\u5206\\u7C7B\\u3001\\u68C0\\u6D4B\\u30013D\\u89C6\\u89C9\\u3001\\u81EA\\u7136\\u8BED\\u8A00\\u5904\\u7406\\u7B49\\u4EFB\\u52A1\\uFF0C\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u540C\\u65F6\\u5177\\u6709\\u81EA\\u52A8\\u9A7E\\u9A76\\u3001\\u4E92\\u8054\\u7F51\\u7535\\u5546\\u3001\\u5F71\\u89C6\\u6E38\\u620F\\u7B49\\u884C\\u4E1A\\u7ECF\\u9A8C\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsx)(n.li,{children:\"\\u901A\\u8FC7\\u4E09\\u5E74\\u591A\\u7684\\u5927\\u516C\\u53F8\\u7ECF\\u5386\\uFF0C\\u6C89\\u6DC0\\u4E86\\u81EA\\u5DF1\\u7684\\u4FE1\\u606F\\u6E20\\u9053\\uFF0C\\u80FD\\u83B7\\u53D6\\u5230\\u4E1A\\u5185\\u9886\\u5148\\u7684\\u7B97\\u6CD5\\u6280\\u672F\\u8FDB\\u5C55\\uFF0C\\u5E2E\\u52A9******\\u63D0\\u524D\\u8FDB\\u884C\\u6280\\u672F\\u50A8\\u5907\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u4EE5\\u4E0A\\u6761\\u4EF6\\uFF0C\\u6709\\u80FD\\u529B\\u5728\\u4EBA\\u5DE5\\u667A\\u80FD\\u65F6\\u4EE3\\u5E2E\\u52A9******\\u5728\\u5404\\u4E2A\\u884C\\u4E1A\\u9886\\u57DF\\u8FDB\\u884C\\u65B0\\u4E1A\\u52A1\\u7684\\u62D3\\u5C55\\uFF0C\\u521B\\u9020\\u4EA7\\u4E1A\\u4EF7\\u503C\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:\"\\u5728****\\u53EF\\u4EE5\\u505A\\u4E9B\\u4EC0\\u4E48\\uFF1F\"})}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u53EF\\u4EE5\\u57FA\\u4E8E\\u5927\\u8BED\\u8A00\\u6A21\\u578B\\u5B9E\\u73B0\\u7528\\u6237\\u6570\\u636E\\u7684\\u5206\\u6790\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u5B9E\\u73B0******\\u4E1A\\u52A1\\u667A\\u80FD\\u4ECB\\u7ECD\\u7684\\u5927\\u8BED\\u8A00\\u6A21\\u578B\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u5C06******\\u76EE\\u524D\\u6240\\u62E5\\u6709\\u7684\\u7B97\\u529B\\u5C01\\u88C5\\u6210\\u4E00\\u4E2A\\u4E2A\\u5782\\u76F4\\u9886\\u57DF\\u7684\\u4EBA\\u5DE5\\u667A\\u80FD\\u670D\\u52A1\\uFF0C\\u5B9E\\u73B0\\u66F4\\u5927\\u7684\\u4E1A\\u52A1\\u589E\\u91CF\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u5BF9\\u4E8E****\\u884C\\u4E1A\\u81EA\\u8EAB\\u4E1A\\u52A1\\u7684\\u63D0\\u6548\\uFF08ESG\\u4F01\\u4E1A\\u7684\\u5EFA\\u8BBE\\uFF09\\u30025G\\u7684\\u7F51\\u7EDC\\u9891\\u7387\\u9AD8\\uFF0C\\u8986\\u76D6\\u8303\\u56F4\\u5C0F\\uFF0C\\u5982\\u4F55\\u624D\\u80FD\\u4E3A\\u7528\\u6237\\u63D0\\u4F9B\\u9AD8\\u8D28\\u91CF\\u670D\\u52A1\\u7684\\u540C\\u65F6\\u964D\\u4F4E\\u8FD0\\u884C\\u6210\\u672C\\uFF0C\\u8FD9\\u5C31\\u6D89\\u53CA\\u5230\\u4E00\\u4E2A\\u57FA\\u672C\\u7684\\u7B97\\u6CD5\\u601D\\u60F3\\uFF1A\\u7A00\\u758F\\u6027\\u3002\\u505C\\u8F66\\u573A\\u4E2D\\u7684\\u706F\\u53EA\\u6709\\u5728\\u6709\\u4EBA\\u7684\\u65F6\\u5019\\u624D\\u5F00\\uFF0C\\u8FD9\\u65F6\\u65F6\\u95F4\\u4E0A\\u7684\\u7A00\\u758F\\u6027\\uFF1B\\u5728\\u6CA1\\u6709\\u4EBA\\u7684\\u8352\\u5730\\u4E0A\\u4E0D\\u4F1A\\u6709\\u706F\\uFF0C\\u8FD9\\u662F\\u7A7A\\u95F4\\u4E0A\\u7684\\u7A00\\u758F\\u6027\\u3002\\u540C\\u6837\\uFF0C\\u5728\\u5EFA\\u8BBE\\u6210\\u672C\\u8F83\\u9AD8\\u76845G\\u57FA\\u7AD9\\u65F6\\uFF0C\\u5728\\u4EBA\\u6D41\\u5BC6\\u96C6\\u7684\\u5730\\u65B9\\u591A\\u5EFA\\uFF0C\\u53CD\\u4E4B\\u5219\\u5C11\\u5EFA\\uFF0C\\u8FD9\\u662F\\u7A7A\\u95F4\\u4E0A\\u7684\\u7A00\\u758F\\u6027\\u3002\\u65F6\\u95F4\\u4E0A\\uFF0C\\u5F53\\u4EBA\\u4EEC\\u4E0B\\u73ED\\u56DE\\u5BB6\\uFF0C\\u5546\\u52A1\\u533A\\u7684\\u57FA\\u7AD9\\u5C31\\u53EF\\u4EE5\\u901A\\u8FC7\\u964D\\u4F4E\\u529F\\u7387\\u3001\\u51CF\\u5C11\\u4FE1\\u9053\\u6570\\u76EE\\u6765\\u964D\\u4F4E\\u6210\\u672C\\uFF0C\\u5373\\u65F6\\u95F4\\u4E0A\\u7684\\u7A00\\u758F\\u6027\\u3002\\u800C\\u8FD9\\u4E9B\\u5177\\u4F53\\u7684\\u5B9E\\u73B0\\uFF08\\u600E\\u4E48\\u5E03\\u5C40\\u57FA\\u7AD9\\uFF0C\\u4F55\\u65F6\\u964D\\u4F4E\\u57FA\\u7AD9\\u529F\\u7387\\uFF09\\uFF0C\\u90FD\\u9700\\u8981\\u4F9D\\u8D56\\u4E8E\\u7B97\\u6CD5\\u8FDB\\u884C\\u89E3\\u51B3\\u3002\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u5BF9\\u4E8E\\u5404\\u884C\\u5404\\u4E1A\\u7684\\u4FE1\\u606F\\u5316\\u8D4B\\u80FD\\uFF0C\\u4F8B\\u5982\\u81EA\\u52A8\\u9A7E\\u9A76\\u5728\\u8FD0\\u884C\\u65F6\\uFF0C\\u5BF9\\u65F6\\u5EF6\\uFF0C\\u4FE1\\u606F\\u4F20\\u8F93\\u8D28\\u91CF\\u90FD\\u5177\\u6709\\u6781\\u9AD8\\u7684\\u8981\\u6C42\\uFF0C\\u600E\\u4E48\\u624D\\u80FD\\u5728\\u5DF2\\u6709\\u786C\\u4EF6\\u6761\\u4EF6\\u4E0B\\u66F4\\u597D\\u7684\\u5E03\\u5C40\\u4FE1\\u606F\\u4F20\\u8F93\\u7CFB\\u7EDF\\uFF0C\\u964D\\u672C\\u589E\\u6548\\uFF0C\\u8FD9\\u662F\\u7B97\\u6CD5\\u9700\\u8981\\u89E3\\u51B3\\u7684\\u95EE\\u9898\\u3002\\u540C\\u65F6\\u81EA\\u52A8\\u9A7E\\u9A76\\u9700\\u8981\\u5927\\u91CF\\u7684\\u89C6\\u9891\\u6570\\u636E\\u4E0A\\u4F20\\uFF0C\\u8FD9\\u4E00\\u65B9\\u9762\\u4F1A\\u5B58\\u5728\\u6570\\u636E\\u6D41\\u91CF\\u7684\\u5DE8\\u5927\\u9700\\u6C42\\uFF0C\\u53E6\\u4E00\\u65B9\\u9762\\u4E5F\\u9700\\u8981\\u6CE8\\u610F\\u4FDD\\u62A4\\u7528\\u6237\\u9690\\u79C1\\uFF0C\\u505A\\u597D\\u6B3A\\u8BC8\\u68C0\\u6D4B\\u548C\\u98CE\\u9669\\u63A7\\u5236\\uFF0C\\u8FD9\\u4E5F\\u662F\\u7B97\\u6CD5\\u9700\\u8981\\u89E3\\u51B3\\u7684\\u4E8B\\u60C5\\u3002\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u5BF9\\u4E8E\\u672A\\u6765\\u91CD\\u8981\\u4EA7\\u4E1A\\u7684\\u63D0\\u524D\\u5E03\\u5C40\\uFF0C\\u4F8B\\u5982\\u901A\\u7528\\u4EBA\\u5DE5\\u667A\\u80FD\\uFF0C\\u76EE\\u524D\\u5DF2\\u7ECF\\u5D2D\\u9732\\u5934\\u89D2\\u7684chatgpt\\u4E5F\\u8BF4\\u660E\\u4E86\\u8FD9\\u4E00\\u70B9\\uFF0C****\\u5BF9\\u6B64\\u4E5F\\u540C\\u6837\\u53EF\\u4EE5\\u63D0\\u524D\\u5E03\\u5C40\\uFF0C\\u4F8B\\u5982\\u57FA\\u4E8E\\u81EA\\u8EAB\\u7684\\u6D41\\u91CF\\u4F18\\u52BF\\u63D0\\u4F9B\\u6570\\u636E\\u4EA4\\u6613\\u5E73\\u53F0\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\\u8054\\u90A6\\u5B66\\u4E60\\u6280\\u672F\\uFF08\\u4EC5\\u4EC5\\u53EA\\u5171\\u4EAB\\u6A21\\u578B\\u53C2\\u6570\\uFF09\\u6765\\u5B9E\\u73B0\\u5728\\u4FDD\\u62A4\\u7528\\u6237\\u9690\\u79C1\\u524D\\u63D0\\u6761\\u4EF6\\u4E0B\\u7684\\u6570\\u636E\\u4EA4\\u6613\\uFF0C\\u6B64\\u5916\\u5929\\u7FFC\\u4E91\\u53EF\\u4EE5\\u63D0\\u4F9B\\u5F3A\\u5927\\u7684\\u7B97\\u529B\\u652F\\u6491\\uFF0C\\u540C\\u6837\\u4E5F\\u53EF\\u4EE5\\u4E3A\\u4E2D\\u5C0F\\u4F01\\u4E1A\\u63D0\\u4F9B\\u7B97\\u529B\\u652F\\u6491\\u6A21\\u578B\\u7684\\u8BAD\\u7EC3\\uFF0C\\u800C\\u4F5C\\u4E3A\\u7B97\\u6CD5\\u5DE5\\u7A0B\\u5E08\\u53EF\\u4EE5\\u4E3A\\u7528\\u6237\\u63D0\\u4F9B\\u7B97\\u6CD5\\u4F18\\u5316\\uFF0C\\u63D0\\u5347\\u7528\\u6237\\u7C98\\u6027\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u4E3A\\u4EC0\\u4E48\\u8981\\u6295\\u8BBA\\u6587\"}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u5B9E\\u9645\\u95EE\\u9898\\u6709\\u4E86\\u7B97\\u6CD5\\u4E0A\\u7684\\u521B\\u65B0\\uFF08\\u4FDD\\u8BC1idea\\u7684\\u8D28\\u91CF\\uFF09\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u7B97\\u6CD5\\u7684\\u6548\\u679C\\u8981\\u4E25\\u8C28\\u5F97\\u901A\\u8FC7\\u7684\\u5B9E\\u9A8C\\u8FDB\\u884C\\u68C0\\u9A8C\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u53EF\\u4EE5\\u548C\\u540C\\u884C\\u8FDB\\u884C\\u6709\\u4EF7\\u503C\\u7684\\u4EA4\\u6D41\\uFF0C\\u5BA3\\u4F20\\uFF08\\u4E3A\\u4EC0\\u4E48\\u5F88\\u591A\\u5F00\\u6E90\\u9879\\u76EE\\u53D1\\u5C55\\u7684\\u597D\\uFF0C\\u56E0\\u4E3A\\u5927\\u5BB6\\u80FD\\u770B\\u5230\\uFF09\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u6700\\u4F18\\u79C0\\u7684\\u7B97\\u6CD5\\u516C\\u53F8\\u90FD\\u975E\\u5E38\\u6CE8\\u91CD\\u8FD9\\u4E9B\\uFF08OpenAI\\uFF0CDeepmind\\uFF0C\\u56FD\\u5185\\u7684\\u5FAE\\u8F6F\\u4E9A\\u7814\\u9662\\u7B49\\uFF09\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u8BBE\\u8BA1\\u7B97\\u6CD5\\u7684\\u4E00\\u822C\\u6D41\\u7A0B\\uFF08\\u65B9\\u6CD5\\u8BBA\\uFF09\"}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u7B97\\u6CD5\\u63CF\\u8FF0\\uFF08\\u6A21\\u7CCA\\u7684\\u8BF4\\uFF1A\\u7B97\\u6CD5\\u662F\\u5E72\\u4EC0\\u4E48\\u7684\\uFF0C\\u5177\\u4F53\\uFF1A\\u8F93\\u5165&\\u8F93\\u51FA\\u662F\\u4EC0\\u4E48\\uFF09\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u7B97\\u6CD5\\u8FB9\\u754C\\uFF08\\u9884\\u89C1\\u6027\\uFF0C\\u80FD\\u5426\\u89E3\\u51B3\\u95EE\\u9898\\uFF0C\\u5B9E\\u73B0\\u96BE\\u5EA6\\uFF09\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u7B97\\u6CD5\\u5B9E\\u73B0\\uFF08\\u76F8\\u5173\\u77E5\\u8BC6\\uFF0C\\u7B97\\u6CD5\\u6846\\u67B6-\\u4F2A\\u4EE3\\u7801\\uFF0C\\u6570\\u636E\\u51C6\\u5907\\uFF0C\\u5B9E\\u9645\\u7F16\\u5199\\uFF09\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u7B97\\u6CD5\\u6D4B\\u8BD5\\uFF08\\u591A\\u89D2\\u5EA6\\uFF09\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u7B97\\u6CD5\\u8BBE\\u8BA1\\u601D\\u60F3\\uFF08\\u7B97\\u6CD5\\u7684\\u672C\\u8D28\\u662F\\u89E3\\u51B3\\u95EE\\u9898\\u7684\\u65B9\\u6CD5\\uFF0C\\uFF09\"}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u5B83\\u5C71\\u4E4B\\u77F3\\u53EF\\u4EE5\\u653B\\u7389\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u7A00\\u758F\\u6027\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u7A7A\\u95F4\\u6362\\u65F6\\u95F4\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u5148\\u9A8C\\u4FE1\\u606F\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u5C40\\u90E8\\u6027\\uFF08\\u7A7A\\u95F4\\u5C40\\u90E8\\u6027\\uFF0C\\u65F6\\u95F4\\u5C40\\u90E8\\u6027\\uFF09\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u5BF9\\u95EE\\u9898\\u8FDB\\u884C\\u6570\\u5B66\\u5EFA\\u6A21\\uFF08\\u53EF\\u4EE5\\u4F7F\\u7528\\u5047\\u8BBE\\u7B80\\u5316\\u95EE\\u9898\\uFF09\"}),`\n`,(0,i.jsx)(n.li,{children:\"...\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u6838\\u5FC3\\u601D\\u60F3\\u662F\\uFF1A\\u4F7F\\u7528\\u5BC4\\u5B58\\u5668\\u5B9E\\u73B0\\u76F8\\u5BF9\\u4E8EL1\\u66F4\\u9AD8\\u4E00\\u7EA7\\u7684\\u7F13\\u5B58\\uFF0C\\u51CF\\u5C11\\u5185\\u5B58\\u7684\\u5B58\\u53D6\\u64CD\\u4F5C\"}),`\n`,(0,i.jsxs)(n.h2,{id:\"\\u9879\\u76EE\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u9879\\u76EE\\u7B80\\u4ECB\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u9879\\u76EE\\u7B80\\u4ECB\"]}),`\n`,(0,i.jsx)(n.p,{children:\"\\u4ECE\\u7B97\\u6CD5\"}),`\n`,(0,i.jsxs)(n.h3,{id:\"\\u68AF\\u5EA6\\u63D0\\u5347\\u51B3\\u7B56\\u6811\\u7684\\u52A0\\u901F\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u68AF\\u5EA6\\u63D0\\u5347\\u51B3\\u7B56\\u6811\\u7684\\u52A0\\u901F\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u68AF\\u5EA6\\u63D0\\u5347\\u51B3\\u7B56\\u6811\\u7684\\u52A0\\u901F\"]}),`\n`,(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:\"\\u9879\\u76EE\\u80CC\\u666F\"}),\"\\uFF1A\\u68AF\\u5EA6\\u63D0\\u5347\\u51B3\\u7B56\\u6811\\uFF08GBDT\\uFF09\\u662F\\u7ED3\\u5408\\u4E86\\u51B3\\u7B56\\u6811\\u4EE5\\u53CA boosting \\u7684\\u4E00\\u7C7B\\u7B97\\u6CD5\\uFF0C\\u5B83\\u7684\\u5E94\\u7528\\u975E\\u5E38\\u5E7F\\u6CDB\\uFF0C\\u5305\\u62EC\\u63A8\\u8350\\u7CFB\\u7EDF\\uFF0C\\u8BC8\\u9A97\\u68C0\\u6D4B\\u7B49\\uFF0C\\u8FD9\\u4E9B\\u573A\\u666F\\u5BF9\\u5B9E\\u65F6\\u6027\\u90FD\\u6709\\u5F88\\u9AD8\\u7684\\u8981\\u6C42\\uFF0C\\u56E0\\u6B64\\u7B97\\u6CD5\\u6027\\u80FD\\u7684\\u63D0\\u5347\\u662F\\u975E\\u5E38\\u91CD\\u8981\\u7684\\u3002\\u76EE\\u524D\\u5DF2\\u6709\\u7684\\u52A0\\u901F\\u65B9\\u6848\\uFF0C\\u90FD\\u53EA\\u662F\\u5728\\u6570\\u636E\\u7EF4\\u5EA6\\u4E0A\\u8FDB\\u884C\\u5E76\\u884C\\uFF0C\\u800C\\u6211\\u4ECE\\u591A\\u4E2A\\u7EF4\\u5EA6\\u8FDB\\u884C\\u4E86\\u5E76\\u884C\\u3002\"]}),`\n`,(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:\"\\u6280\\u672F\\u521B\\u65B0\"}),\"\\uFF1A\"]}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u4F20\\u7EDF\\u51B3\\u7B56\\u6811\\u7684\\u9884\\u6D4B\\u6D41\\u7A0B\\u662F\\u6BCF\\u4E2A\\u8282\\u70B9\\u505A\\u4E00\\u4E2A\\u5224\\u65AD\\uFF0C\\u8FD9\\u4E2A\\u8FC7\\u7A0B\\u5B58\\u5728\\u975E\\u5E38\\u591A\\u7684\\u5206\\u652F\\u9884\\u6D4B\\uFF0C\\u5982\\u679C\\u9884\\u6D4B\\u9519\\u8BEF\\uFF0C\\u4F1A\\u5BFC\\u81F4cpu\\u7684\\u6D41\\u6C34\\u7EBF\\u8FDB\\u884C\\u56DE\\u9000\\u5237\\u65B0\\uFF0C\\u5927\\u5927\\u964D\\u4F4E\\u8FD0\\u884C\\u901F\\u5EA6\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u57FA\\u4E8E\\u8FD9\\u4E2A\\u5047\\u8BBE\\uFF0C\\u6211\\u60F3\\u5230\\u5C06\\u591A\\u5C42\\u7684\\u6811\\u7ED3\\u6784\\u8FDB\\u884C\\u5408\\u5E76\\uFF0C\\u901A\\u8FC7\\u5411\\u91CF\\u5316\\u7684\\u4E00\\u6B21\\u6027\\u8BA1\\u7B97\\uFF0C\\u53EF\\u4EE5\\u76F4\\u63A5\\u5F97\\u52303/4\\u5C42\\u7684\\u9884\\u6D4B\\u7ED3\\u679C\\u3002\\u5177\\u4F53\\u5B9E\\u73B0\\u65B9\\u5F0F\\u5C31\\u662F\\uFF1Ablabla\\u3002\\u901A\\u8FC7\\u8FD9\\u79CD\\u65B9\\u5F0F\\uFF0C\\u6211\\u4EEC\\u538B\\u7F29\\u4E86\\u6811\\u7684\\u6DF1\\u5EA6\\uFF0C\\u5927\\u5927\\u51CF\\u5C11\\u4E86\\u5206\\u652F\\u9884\\u6D4B\\u7684\\u64CD\\u4F5C\\u3002\\uFF08\\u6838\\u5FC3\\u5B9E\\u73B0\\u91C7\\u7528c++\\uFF09\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u5B9E\\u73B0\\u8FD9\\u4E2Agroup\\u7684\\u8FC7\\u7A0B\\u5176\\u5B9E\\u9047\\u5230\\u4E86\\u5F88\\u591A\\u7684\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u4F7F\\u7528\\u4E86group\\u4E4B\\u540E\\uFF0Ctree\\u7684\\u7ED3\\u6784\\u600E\\u4E48\\u8BBE\\u8BA1\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u5982\\u4F55\\u5C3D\\u53EF\\u80FD\\u8DE8\\u8D8A\\u66F4\\u591A\\u7684\\u5C42\"}),`\n`,(0,i.jsx)(n.li,{children:\"lookup table\\u600E\\u4E48\\u751F\\u6210\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u8003\\u5BDF\\u7B97\\u6CD5\\u7684bottleneck\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u53D1\\u73B0\\u7B97\\u6CD5\\u65F6\\u95F4\\u6D88\\u8017\\u96C6\\u4E2D\\u5728\\u5185\\u5B58\\u8BBF\\u95EE\\uFF0C\\u6211\\u4E5F\\u8BBE\\u8BA1\\u4E86\\u5F88\\u591A\\u89E3\\u51B3\\u65B9\\u6848\\uFF08\\u5BF9\\u6570\\u636E\\u9884\\u5148\\u91CD\\u6392\\uFF0C\\uFF09\\u6700\\u7EC8\\u901A\\u8FC7\\u5206\\u6790\\u6C47\\u7F16\\u4EE3\\u7801\\uFF0C\\u60F3\\u5230\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528\\u5BC4\\u5B58\\u5668\\u4F5C\\u4E3A\\u9AD8\\u901F\\u7F13\\u5B58\\uFF0C\\u76F4\\u63A5\\u907F\\u514D\\u5185\\u5B58\\u7684\\u8BBF\\u95EE\"}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u4E3A\\u4E86\\u5B9E\\u73B0\\u8FD9\\u4E2A\\u76EE\\u7684\\uFF0C\\u6211\\u8BBE\\u8BA1\\u4E86\\u57FA\\u4E8Egroup\\u7684sharing\\u65B9\\u6848\\uFF0C\\u5E76\\u5EFA\\u7ACB\\u4E86\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u6570\\u5B66\\u6A21\\u578B\\u53BB\\u63D0\\u5347group\\u7684\\u5171\\u4EAB\\u7387\\u3002\\u5177\\u4F53\\u65B9\\u6CD5\\uFF1Ablabla\\u3002\\u6700\\u7EC8\\uFF0C\\u5728\\u4E4B\\u524D\\u7684\\u57FA\\u7840\\u4E0A\\u8FDB\\u4E00\\u6B65\\u63D0\\u5347\\u4E86\\u901F\\u5EA6\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.h3,{id:\"\\u9C81\\u68D2\\u7684\\u795E\\u7ECF\\u7F51\\u7EDC\\u91CD\\u5EFA\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u9C81\\u68D2\\u7684\\u795E\\u7ECF\\u7F51\\u7EDC\\u91CD\\u5EFA\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u9C81\\u68D2\\u7684\\u795E\\u7ECF\\u7F51\\u7EDC\\u91CD\\u5EFA\"]}),`\n`,(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:\"\\u9879\\u76EE\\u80CC\\u666F\"}),`\\uFF1A \\u968F\\u7740\\u624B\\u6DD8 3D \\u5316\\u7684\\u53D1\\u5C55\\uFF0C\\u201C\\u4F4E\\u6210\\u672C\\u3001\\u9AD8\\u8D28\\u91CF\\u7684 3D \\u5EFA\\u6A21\\u201D\\u6210\\u4E3A\\u4E3B\\u8981\\u7684\\u5236\\u7EA6\\u56E0\\u7D20\\uFF0C\n\\u800C\\u4F20\\u7EDF\\u91CD\\u5EFA\\u6280\\u672F\\uFF08SFM\\uFF09\\u8F83\\u6613\\u53D7\\u5230 mesh \\u8868\\u5F81\\uFF08\\u4E09\\u89D2\\u9762\\u7247\\uFF09\\u7684\\u7CBE\\u5EA6\\u9650\\u5236\\u4E14\\u9C81\\u68D2\\u6027\\u5DEE\\uFF0C\\u96BE\\u4EE5\\u5E94\\u7528\\u4E8E\\u5B9E\\u9645\\u4E1A\\u52A1\\u4E2D`]}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:`3D \\u6A21\\u578B\\u8868\\u5F81\\uFF1A \\u63D0\\u51FA\\u4E86\\u7C97\\u6A21 + \\u795E\\u7ECF\\u7F51\\u7EDC\\u7684 3D \\u6A21\\u578B\\u8868\\u5F81\\u5F62\\u5F0F\\u3002\\u795E\\u7ECF\\u7F51\\u7EDC\\u63D0\\u4F9B\\u9AD8\\u8D28\\u91CF\\u7684 2D \\u51FA\\u56FE\\u6548\\u679C\\uFF0C\\u7C97\\u6A21\\u4FDD\\u8BC1\n\\u795E\\u7ECF\\u7F51\\u7EDC\\u6A21\\u578B\\u7684\\u53EF\\u6269\\u5C55\\u6027\\uFF0C\\u89E3\\u51B3\\u4E86\\u795E\\u7ECF\\u7F51\\u7EDC\\u9690\\u5F0F\\u6A21\\u578B\\u4E0E\\u4F20\\u7EDF mesh \\u6A21\\u578B\\u7684\\u7EC4\\u5408\\u95EE\\u9898`}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:`\\u591A\\u89C6\\u89D2\\u9C81\\u68D2\\uFF1A\\u57FA\\u4E8E NeRF \\u7684\\u89C6\\u89D2\\u5408\\u6210\\u6781\\u6613\\u8FC7\\u62DF\\u5408\\uFF0C\\u5F53\\u6D4B\\u8BD5\\u89C6\\u89D2\\u4E0E\\u8BAD\\u7EC3\\u89C6\\u89D2\\u5DEE\\u5F02\\u8F83\\u5927\\u65F6\\uFF0C\\u6548\\u679C\\u8F83\\u5DEE\\u3002\\u63D0\\u51FA\\u4E86\\u89C6\n\\u89D2\\u9C81\\u68D2\\u7684 RapNeRF \\u65B9\\u6848\\uFF08Ray Priors through Reprojection\\uFF09\\uFF1A`}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u57FA\\u4E8E\\u968F\\u673A\\u89C6\\u7EBF\\u8FDB\\u884C\\u6570\\u636E\\u589E\\u5F3A\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u5229\\u7528\\u89C6\\u89D2\\u5148\\u9A8C\\u4FE1\\u606F\\u8FDB\\u884C\\u63A8\\u7406\"}),`\n`,(0,i.jsx)(n.li,{children:\"PSNR(\\u2191 4.)/SSIM/LPIPS \\u76F8\\u8F83\\u4E8E SOTA \\u5747\\u83B7\\u5F97\\u8F83\\u5927\\u63D0\\u5347\\uFF08CVPR 2022 ACCEPTED\\uFF0C\\u4E00\\u4F5C\\uFF09\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:`\\u91CD\\u5EFA\\u94FE\\u8DEF\\u5F00\\u53D1\\uFF1A \\u94FE\\u8DEF\\u6838\\u5FC3\\u5F00\\u53D1\\u8005\\uFF0870% commit\\uFF09\\uFF0C\\u5B8C\\u6210\\u7B2C\\u4E00\\u7248\\u7684\\u94FE\\u8DEF\\u5404\\u6A21\\u5757\\u642D\\u5EFA\\uFF08\\u5305\\u62EC\\u4F4D\\u59FF\\u4F30\\u8BA1\\uFF0C\\u56FE\\u50CF\\u5206\n\\u5272\\uFF0C\\u7269\\u4F53\\u91CD\\u5EFA\\uFF0C2D \\u56FE\\u50CF\\u5408\\u6210\\u7B49\\uFF09\\u53CA\\u540E\\u7EED\\u7248\\u672C\\u7684\\u8FED\\u4EE3\\u4F18\\u5316`}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.h3,{id:\"3d\\u795E\\u7ECF\\u7F51\\u7EDC\\u6A21\\u578B\\u7684\\u624B\\u6DD8\\u7AEF\\u4E0A\\u5E94\\u7528adasrg\",className:\"content-header\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#3d\\u795E\\u7ECF\\u7F51\\u7EDC\\u6A21\\u578B\\u7684\\u624B\\u6DD8\\u7AEF\\u4E0A\\u5E94\\u7528adasrg\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"3D\\u795E\\u7ECF\\u7F51\\u7EDC\\u6A21\\u578B\\u7684\\u624B\\u6DD8\\u7AEF\\u4E0A\\u5E94\\u7528\\uFF08AdaSRG\\uFF09\"]}),`\n`,(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:\"\\u9879\\u76EE\\u80CC\\u666F\"}),\"\\uFF1A\"]}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:`\\u4F20\\u7EDF MLP \\u7684\\u7F51\\u7EDC\\u7ED3\\u6784\\uFF08NeRF\\uFF09\\u65E0\\u6CD5\\u8868\\u5F81\\u7269\\u4F53\\u7684\\u9AD8\\u9891\\u7EB9\\u7406\\u7EC6\\u8282\\uFF08\\u5982\\u5E03\\u6599\\u7EB9\\u7406\\u7B49\\uFF09\\uFF0C\\u800C\\u4E1A\\u52A1\\u5E94\\u7528\\u5BF9\n\\u7269\\u4F53\\u7EC6\\u8282\\u8981\\u6C42\\u8F83\\u9AD8\\uFF08\\u9700 1 \\u6BD4 1 \\u8FD8\\u539F\\uFF09`}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u7AEF\\u4E0A\\u63A8\\u7406\\u5BF9\\u6A21\\u578B\\u5927\\u5C0F\\u8981\\u6C42\\u8F83\\u9AD8\\uFF085MB \\u4EE5\\u5185\\uFF09\\uFF0C\\u4FDD\\u8BC1\\u6750\\u8D28\\u3001\\u5149\\u7167\\u6548\\u679C\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:\"\\u7B97\\u6CD5\\u7EC6\\u8282\"})}),`\n`,(0,i.jsx)(n.p,{children:\"\\uFF08\\u60F3\\u8981\\u5C06\\u56FE\\u50CF\\u7EA7\\u522B\\u7684loss\\u7528\\u4E8E3D\\uFF0C\\u63D0\\u9AD8\\u6A21\\u578B\\u7CBE\\u5EA6\\uFF09\"}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:`\\u7EB9\\u7406\\u7EC6\\u8282\\u8FD8\\u539F\\uFF1A \\u63D0\\u51FA\\u4E86\\u57FA\\u4E8E image level loss\\uFF08\\u611F\\u77E5\\u635F\\u5931\\uFF09\\u7684\\u4F53\\u7D20\\u5316\\u91CD\\u5EFA\\u65B9\\u6848\\uFF0C\\u5927\\u5927\\u63D0\\u5347\\u4E86\\u7EB9\\u7406\\u7EC6\\u8282\\u6548\\u679C\\uFF0C\nSSIM/LPIPS \\u6307\\u6807\\u5747\\u8FBE\\u5230 SOTA`}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:`\\u4F53\\u7D20\\u6A21\\u578B\\u538B\\u7F29\\uFF1A\\u4F20\\u7EDF\\u4F53\\u7D20\\u5316\\u91CD\\u5EFA\\u65B9\\u6848\\uFF08PlenOctree/SNeRG\\uFF09\\u6A21\\u578B\\u5927\\u5C0F\\u4E3A GB \\u7EA7\\u522B\\uFF0C\\u65E0\\u6CD5\\u6EE1\\u8DB3\\u7AEF\\u4E0A\\u5E94\\u7528\\u7684\\u9700\\u6C42\\u3002\n\\u63D0\\u51FA Adaptive Sparse Radiance Grid (AdaSRG) \\u65B9\\u6848\\uFF0C`}),`\n`,(0,i.jsxs)(n.ol,{children:[`\n`,(0,i.jsx)(n.li,{children:\"\\u5728\\u7EB9\\u7406\\u7EC6\\u8282\\u7684\\u9AD8\\u9891\\u533A\\u57DF\\u4F7F\\u7528\\u8F83\\u9AD8\\u4F53\\u7D20\\u7C92\\u5EA6\\uFF0C\\u4F4E\\u9891\\u533A\\u57DF\\u4F7F\\u7528\\u8F83\\u4F4E\\u4F53\\u7D20\\u7C92\\u5EA6\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u5BF9 \\u{1D70E}\\uFF08\\u7269\\u8D28\\u5BC6\\u5EA6\\uFF09\\u8FDB\\u884C\\u6B63\\u5219\\uFF0C\\u53BB\\u9664\\u968F\\u673A\\u566A\\u58F0\"}),`\n`,(0,i.jsx)(n.li,{children:\"\\u57FA\\u4E8E PNG \\u7B97\\u6CD5\\u5BF9\\u4F53\\u7D20\\u7EB9\\u7406\\u8FDB\\u884C\\u538B\\u7F29\"}),`\n`]}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:`\\u6A21\\u578B\\u5149\\u7167\\u8FD8\\u539F\\uFF1A 1. \\u91C7\\u7528 Deferred Light \\u7ED3\\u6784\\u89E3\\u8026\\u91CD\\u5EFA\\u6A21\\u578B\\u7684 specular&diffuse color\\uFF0C\\u4FDD\\u8BC1\\u5149\\u7167\\u6548\\u679C 2. \\u7F16\\u5199\\u57FA\n\\u4E8E CUDA \\u7684\\u5B9E\\u65F6\\u53EF\\u89C6\\u5316\\u6E32\\u67D3\\u7A0B\\u5E8F`}),`\n`]}),`\n`,(0,i.jsxs)(n.li,{children:[`\n`,(0,i.jsx)(n.p,{children:\"\\u4E1A\\u52A1\\u5E94\\u7528\\uFF1A \\u91CD\\u5EFA\\u7684\\u5C0F\\u7269\\u4F53\\u6A21\\u578B\\u6210\\u529F\\u4E0A\\u7EBF\\u624B\\u6DD8\\uFF0C\\u5B9E\\u73B0\\u4E86\\u7B97\\u6CD5\\u3001\\u5DE5\\u7A0B\\u81F3\\u5E94\\u7528\\u7684\\u6253\\u901A\"}),`\n`]}),`\n`]})]})}function s(e={}){let{wrapper:n}=e.components||{};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}return N(I);})();\n;return Component;"
    },
    "_id": "blog/Personal/zhangjian.md",
    "_raw": {
      "sourceFilePath": "blog/Personal/zhangjian.md",
      "sourceFileName": "zhangjian.md",
      "sourceFileDir": "blog/Personal",
      "contentType": "markdown",
      "flattenedPath": "blog/Personal/zhangjian"
    },
    "type": "Blog",
    "readingTime": {
      "text": "34 min read",
      "minutes": 33.72,
      "time": 2023200,
      "words": 6744
    },
    "slug": "zhangjian",
    "path": "blog/Personal/zhangjian",
    "toc": [
      {
        "value": "自我介绍",
        "url": "#自我介绍",
        "depth": 1
      },
      {
        "value": "参考资料",
        "url": "#参考资料",
        "depth": 2
      },
      {
        "value": "报名",
        "url": "#报名",
        "depth": 3
      },
      {
        "value": "个人简介",
        "url": "#个人简介",
        "depth": 2
      },
      {
        "value": "一些问题",
        "url": "#一些问题",
        "depth": 3
      },
      {
        "value": "项目简介",
        "url": "#项目简介",
        "depth": 2
      },
      {
        "value": "梯度提升决策树的加速",
        "url": "#梯度提升决策树的加速",
        "depth": 3
      },
      {
        "value": "鲁棒的神经网络重建",
        "url": "#鲁棒的神经网络重建",
        "depth": 3
      },
      {
        "value": "3D神经网络模型的手淘端上应用（AdaSRG）",
        "url": "#3d神经网络模型的手淘端上应用adasrg",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "My Interview Documentation",
      "datePublished": "2023-02-08T00:00:00.000Z",
      "dateModified": "2023-02-08T00:00:00.000Z",
      "description": "My Interview Documentation",
      "url": "https://zhangjian94cn.github.io/blog/zhangjian"
    }
  },
  {
    "title": "AVX 指令入门",
    "date": "2022-11-19T00:00:00.000Z",
    "tags": [
      "HPC",
      "C++"
    ],
    "draft": false,
    "summary": "介绍 SIMD 向量化指令的基础概念，包括自动向量化与手动向量化的实现方式和性能对比。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 简介\n\nSIMD（Single Instruction Multiple Data）是指一条指令能够操作多个数据，是对 CPU 指令的扩展，主要用来进行小数据的并行操作。\n\n> Intel 最初支持 SIMD 的指令集是 1996 年集成在 Pentium 里的 MMX（Multi-Media Extension，多媒体扩展），它的主要目标是为了支持 MPEG 视频解码。Intel 在 1999 年 Pentium3 中推出了 SSE（Streaming SIMD Extensions，流式SIMD扩展），是继 MMX 的扩展指令集，主要用于 3D 图形计算。Intel 在 2008 年 3 月份提出了 AVX 指令集（Advanced Vector Extension，高级向量扩展），它是 SSE 延伸架构，将 SSE 中的 16 个 128 位 XMM 寄存器扩展为 16 个 256 位 YMM 寄存器，增加了一倍的运算效率。 (CSAPP)\n\n## 实现\n\n使用 AVX 指令加速代码主要有两种方式：\n\n**自动向量化**：intel C++ 编译器进行自动向量化，需要使用 `-xhost` 编译选项。在 gcc 编译器中的对应选项为 `-march=native`。开启该选项后，编译器会自动根据 CPU 支持的指令集进行向量化。\n\n**手动向量化**：主要使用 [Intel Intrinsics](https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html) 中的指令进行代码程序的编写。\n\n### 自动向量化\n\n对于代码的指定部分进行向量化可以加上编译宏：\n\n```cpp\nvoid auto_vec(float* a, float* b, int* idx) {\n    #pragma ivdep\n    #pragma vector always\n    for (int j = 0; j < 1024; ++ j) {\n        a[idx[j]] += b[j];\n    }\n}\n```\n\n**速度比较**：当使用 `icc -O3 -xhost` 的编译指令时，运行 100m 次，相较于 `g++ -O3`，向量化的编译方式能够获得 2 倍左右的速度提升。\n\n观察输出文件的汇编代码，可以看到向量化指令的使用：\n\n```asm\n402ee0:       c4 81 7c 10 14 88       vmovups (%r8,%r9,4),%ymm2\n402ee6:       c4 81 7c 10 64 88 20    vmovups 0x20(%r8,%r9,4),%ymm4\n402eed:       c5 fc 57 c0             vxorps %ymm0,%ymm0,%ymm0\n402ef1:       62 f1 7d 08 74 c8       vpcmpeqb %xmm0,%xmm0,%k1\n402ef7:       c5 f4 57 c9             vxorps %ymm1,%ymm1,%ymm1\n402efb:       62 f2 7d 29 92 04 97    vgatherdps (%rdi,%ymm2,4),%ymm0\n```\n\n### 手动向量化\n\n下面是相同代码的手动向量化实现：\n\n```cpp\nvoid core_intrinsics(std::vector<float>& a, std::vector<float>& b, int* idx) {\n    for (int j = 0; j < 1024; j += 16) {\n        __m512i _idx = _mm512_load_epi32(idx + j);\n        __m512 _b512 = _mm512_load_ps(b.data() + j);\n        __m512 _a512 = _mm512_i32gather_ps(_idx, a.data(), 4);\n\n        __m512 _res = _mm512_add_ps(_a512, _b512);\n        _mm512_i32scatter_ps(a.data(), _idx, _res, 4);\n    }\n}\n```\n\n有兴趣的可以自己尝试，比较两种方法的速度以及背后的原因。\n\n## 结论\n\n通过上面的简单实验，我们初步认知了向量化的两种实现方式。但是如何能更好地利用 AVX 指令的优势，需要考虑具体的代码。影响性能的核心因素是 memory bound 还是 compute bound，代码程序是否能实现指令上的并行，代码的关键路径是什么等等都是我们需要考虑的。\n",
      "code": "var Component=(()=>{var m=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var _=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),f=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},o=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=h(n,c))||t.enumerable});return a};var x=(a,n,s)=>(s=a!=null?m(N(a)):{},o(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),g=a=>o(l({},\"__esModule\",{value:!0}),a);var r=_((v,i)=>{i.exports=_jsx_runtime});var b={};f(b,{default:()=>p,frontmatter:()=>y});var e=x(r()),y={title:\"AVX \\u6307\\u4EE4\\u5165\\u95E8\",date:\"2022-11-19\",tags:[\"HPC\",\"C++\"],draft:!1,summary:\"\\u4ECB\\u7ECD SIMD \\u5411\\u91CF\\u5316\\u6307\\u4EE4\\u7684\\u57FA\\u7840\\u6982\\u5FF5\\uFF0C\\u5305\\u62EC\\u81EA\\u52A8\\u5411\\u91CF\\u5316\\u4E0E\\u624B\\u52A8\\u5411\\u91CF\\u5316\\u7684\\u5B9E\\u73B0\\u65B9\\u5F0F\\u548C\\u6027\\u80FD\\u5BF9\\u6BD4\\u3002\",authors:[\"default\"]};function d(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,e.jsx)(n.p,{children:\"SIMD\\uFF08Single Instruction Multiple Data\\uFF09\\u662F\\u6307\\u4E00\\u6761\\u6307\\u4EE4\\u80FD\\u591F\\u64CD\\u4F5C\\u591A\\u4E2A\\u6570\\u636E\\uFF0C\\u662F\\u5BF9 CPU \\u6307\\u4EE4\\u7684\\u6269\\u5C55\\uFF0C\\u4E3B\\u8981\\u7528\\u6765\\u8FDB\\u884C\\u5C0F\\u6570\\u636E\\u7684\\u5E76\\u884C\\u64CD\\u4F5C\\u3002\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"Intel \\u6700\\u521D\\u652F\\u6301 SIMD \\u7684\\u6307\\u4EE4\\u96C6\\u662F 1996 \\u5E74\\u96C6\\u6210\\u5728 Pentium \\u91CC\\u7684 MMX\\uFF08Multi-Media Extension\\uFF0C\\u591A\\u5A92\\u4F53\\u6269\\u5C55\\uFF09\\uFF0C\\u5B83\\u7684\\u4E3B\\u8981\\u76EE\\u6807\\u662F\\u4E3A\\u4E86\\u652F\\u6301 MPEG \\u89C6\\u9891\\u89E3\\u7801\\u3002Intel \\u5728 1999 \\u5E74 Pentium3 \\u4E2D\\u63A8\\u51FA\\u4E86 SSE\\uFF08Streaming SIMD Extensions\\uFF0C\\u6D41\\u5F0FSIMD\\u6269\\u5C55\\uFF09\\uFF0C\\u662F\\u7EE7 MMX \\u7684\\u6269\\u5C55\\u6307\\u4EE4\\u96C6\\uFF0C\\u4E3B\\u8981\\u7528\\u4E8E 3D \\u56FE\\u5F62\\u8BA1\\u7B97\\u3002Intel \\u5728 2008 \\u5E74 3 \\u6708\\u4EFD\\u63D0\\u51FA\\u4E86 AVX \\u6307\\u4EE4\\u96C6\\uFF08Advanced Vector Extension\\uFF0C\\u9AD8\\u7EA7\\u5411\\u91CF\\u6269\\u5C55\\uFF09\\uFF0C\\u5B83\\u662F SSE \\u5EF6\\u4F38\\u67B6\\u6784\\uFF0C\\u5C06 SSE \\u4E2D\\u7684 16 \\u4E2A 128 \\u4F4D XMM \\u5BC4\\u5B58\\u5668\\u6269\\u5C55\\u4E3A 16 \\u4E2A 256 \\u4F4D YMM \\u5BC4\\u5B58\\u5668\\uFF0C\\u589E\\u52A0\\u4E86\\u4E00\\u500D\\u7684\\u8FD0\\u7B97\\u6548\\u7387\\u3002 (CSAPP)\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u5B9E\\u73B0\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B9E\\u73B0\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B9E\\u73B0\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4F7F\\u7528 AVX \\u6307\\u4EE4\\u52A0\\u901F\\u4EE3\\u7801\\u4E3B\\u8981\\u6709\\u4E24\\u79CD\\u65B9\\u5F0F\\uFF1A\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u81EA\\u52A8\\u5411\\u91CF\\u5316\"}),\"\\uFF1Aintel C++ \\u7F16\\u8BD1\\u5668\\u8FDB\\u884C\\u81EA\\u52A8\\u5411\\u91CF\\u5316\\uFF0C\\u9700\\u8981\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"-xhost\"}),\" \\u7F16\\u8BD1\\u9009\\u9879\\u3002\\u5728 gcc \\u7F16\\u8BD1\\u5668\\u4E2D\\u7684\\u5BF9\\u5E94\\u9009\\u9879\\u4E3A \",(0,e.jsx)(n.code,{children:\"-march=native\"}),\"\\u3002\\u5F00\\u542F\\u8BE5\\u9009\\u9879\\u540E\\uFF0C\\u7F16\\u8BD1\\u5668\\u4F1A\\u81EA\\u52A8\\u6839\\u636E CPU \\u652F\\u6301\\u7684\\u6307\\u4EE4\\u96C6\\u8FDB\\u884C\\u5411\\u91CF\\u5316\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u624B\\u52A8\\u5411\\u91CF\\u5316\"}),\"\\uFF1A\\u4E3B\\u8981\\u4F7F\\u7528 \",(0,e.jsx)(n.a,{href:\"https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html\",children:\"Intel Intrinsics\"}),\" \\u4E2D\\u7684\\u6307\\u4EE4\\u8FDB\\u884C\\u4EE3\\u7801\\u7A0B\\u5E8F\\u7684\\u7F16\\u5199\\u3002\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u81EA\\u52A8\\u5411\\u91CF\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u81EA\\u52A8\\u5411\\u91CF\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u81EA\\u52A8\\u5411\\u91CF\\u5316\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5BF9\\u4E8E\\u4EE3\\u7801\\u7684\\u6307\\u5B9A\\u90E8\\u5206\\u8FDB\\u884C\\u5411\\u91CF\\u5316\\u53EF\\u4EE5\\u52A0\\u4E0A\\u7F16\\u8BD1\\u5B8F\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"auto_vec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token macro property\",children:[(0,e.jsx)(n.span,{className:\"token directive-hash\",children:\"#\"}),(0,e.jsx)(n.span,{className:\"token directive keyword\",children:\"pragma\"}),\" \",(0,e.jsx)(n.span,{className:\"token expression\",children:\"ivdep\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token macro property\",children:[(0,e.jsx)(n.span,{className:\"token directive-hash\",children:\"#\"}),(0,e.jsx)(n.span,{className:\"token directive keyword\",children:\"pragma\"}),\" \",(0,e.jsx)(n.span,{className:\"token expression\",children:\"vector always\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1024\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),\" j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\u901F\\u5EA6\\u6BD4\\u8F83\"}),\"\\uFF1A\\u5F53\\u4F7F\\u7528 \",(0,e.jsx)(n.code,{children:\"icc -O3 -xhost\"}),\" \\u7684\\u7F16\\u8BD1\\u6307\\u4EE4\\u65F6\\uFF0C\\u8FD0\\u884C 100m \\u6B21\\uFF0C\\u76F8\\u8F83\\u4E8E \",(0,e.jsx)(n.code,{children:\"g++ -O3\"}),\"\\uFF0C\\u5411\\u91CF\\u5316\\u7684\\u7F16\\u8BD1\\u65B9\\u5F0F\\u80FD\\u591F\\u83B7\\u5F97 2 \\u500D\\u5DE6\\u53F3\\u7684\\u901F\\u5EA6\\u63D0\\u5347\\u3002\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u89C2\\u5BDF\\u8F93\\u51FA\\u6587\\u4EF6\\u7684\\u6C47\\u7F16\\u4EE3\\u7801\\uFF0C\\u53EF\\u4EE5\\u770B\\u5230\\u5411\\u91CF\\u5316\\u6307\\u4EE4\\u7684\\u4F7F\\u7528\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"language-asm code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`402ee0:       c4 81 7c 10 14 88       vmovups (%r8,%r9,4),%ymm2\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402ee6:       c4 81 7c 10 64 88 20    vmovups 0x20(%r8,%r9,4),%ymm4\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402eed:       c5 fc 57 c0             vxorps %ymm0,%ymm0,%ymm0\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402ef1:       62 f1 7d 08 74 c8       vpcmpeqb %xmm0,%xmm0,%k1\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402ef7:       c5 f4 57 c9             vxorps %ymm1,%ymm1,%ymm1\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`402efb:       62 f2 7d 29 92 04 97    vgatherdps (%rdi,%ymm2,4),%ymm0\n`})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u624B\\u52A8\\u5411\\u91CF\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u624B\\u52A8\\u5411\\u91CF\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u624B\\u52A8\\u5411\\u91CF\\u5316\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4E0B\\u9762\\u662F\\u76F8\\u540C\\u4EE3\\u7801\\u7684\\u624B\\u52A8\\u5411\\u91CF\\u5316\\u5B9E\\u73B0\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"core_intrinsics\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"vector\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"vector\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1024\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" j \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        __m512i _idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_load_epi32\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        __m512 _b512 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_load_ps\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" j\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        __m512 _a512 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_i32gather_ps\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"_idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        __m512 _res \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_add_ps\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"_a512\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" _b512\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_mm512_i32scatter_ps\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" _idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" _res\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6709\\u5174\\u8DA3\\u7684\\u53EF\\u4EE5\\u81EA\\u5DF1\\u5C1D\\u8BD5\\uFF0C\\u6BD4\\u8F83\\u4E24\\u79CD\\u65B9\\u6CD5\\u7684\\u901F\\u5EA6\\u4EE5\\u53CA\\u80CC\\u540E\\u7684\\u539F\\u56E0\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u7ED3\\u8BBA\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BBA\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BBA\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u901A\\u8FC7\\u4E0A\\u9762\\u7684\\u7B80\\u5355\\u5B9E\\u9A8C\\uFF0C\\u6211\\u4EEC\\u521D\\u6B65\\u8BA4\\u77E5\\u4E86\\u5411\\u91CF\\u5316\\u7684\\u4E24\\u79CD\\u5B9E\\u73B0\\u65B9\\u5F0F\\u3002\\u4F46\\u662F\\u5982\\u4F55\\u80FD\\u66F4\\u597D\\u5730\\u5229\\u7528 AVX \\u6307\\u4EE4\\u7684\\u4F18\\u52BF\\uFF0C\\u9700\\u8981\\u8003\\u8651\\u5177\\u4F53\\u7684\\u4EE3\\u7801\\u3002\\u5F71\\u54CD\\u6027\\u80FD\\u7684\\u6838\\u5FC3\\u56E0\\u7D20\\u662F memory bound \\u8FD8\\u662F compute bound\\uFF0C\\u4EE3\\u7801\\u7A0B\\u5E8F\\u662F\\u5426\\u80FD\\u5B9E\\u73B0\\u6307\\u4EE4\\u4E0A\\u7684\\u5E76\\u884C\\uFF0C\\u4EE3\\u7801\\u7684\\u5173\\u952E\\u8DEF\\u5F84\\u662F\\u4EC0\\u4E48\\u7B49\\u7B49\\u90FD\\u662F\\u6211\\u4EEC\\u9700\\u8981\\u8003\\u8651\\u7684\\u3002\"})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(d,{...a})}):d(a)}return g(b);})();\n;return Component;"
    },
    "_id": "blog/Systems/avx-intro.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/avx-intro.md",
      "sourceFileName": "avx-intro.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/avx-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "4 min read",
      "minutes": 3.38,
      "time": 202800,
      "words": 676
    },
    "slug": "avx-intro",
    "path": "blog/Systems/avx-intro",
    "toc": [
      {
        "value": "简介",
        "url": "#简介",
        "depth": 2
      },
      {
        "value": "实现",
        "url": "#实现",
        "depth": 2
      },
      {
        "value": "自动向量化",
        "url": "#自动向量化",
        "depth": 3
      },
      {
        "value": "手动向量化",
        "url": "#手动向量化",
        "depth": 3
      },
      {
        "value": "结论",
        "url": "#结论",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "AVX 指令入门",
      "datePublished": "2022-11-19T00:00:00.000Z",
      "dateModified": "2022-11-19T00:00:00.000Z",
      "description": "介绍 SIMD 向量化指令的基础概念，包括自动向量化与手动向量化的实现方式和性能对比。",
      "url": "https://zhangjian94cn.github.io/blog/avx-intro"
    }
  },
  {
    "title": "CUDA 性能优化技巧",
    "date": "2026-01-15T00:00:00.000Z",
    "tags": [
      "HPC"
    ],
    "draft": false,
    "summary": "深入探讨 CUDA 编程中的性能优化策略，包括内存访问模式、线程组织和性能分析工具。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 为什么需要 CUDA 优化\n\nGPU 并行计算能力强大，但要充分发挥性能需要了解硬件特性。优化得当可以获得 10-100 倍加速。\n\n## 核心优化策略\n\n### 1. 内存合并访问\n\nGPU 内存以 128 字节为单位读取，相邻线程访问相邻内存效率最高：\n\n```cpp\n// ❌ 慢：跨步访问\n__global__ void bad_kernel(float* data, int stride) {\n    int idx = threadIdx.x * stride;\n    float val = data[idx];  // 非合并访问\n}\n\n// ✅ 快：连续访问\n__global__ void good_kernel(float* data) {\n    int idx = threadIdx.x;\n    float val = data[idx];  // 合并访问\n}\n```\n\n### 2. 共享内存使用\n\n共享内存速度比全局内存快 100 倍：\n\n```cpp\n__global__ void matrix_mul(float* A, float* B, float* C) {\n    __shared__ float tile_A[16][16];\n    __shared__ float tile_B[16][16];\n\n    // 分块加载到共享内存\n    tile_A[ty][tx] = A[row * N + tx];\n    tile_B[ty][tx] = B[ty * N + col];\n    __syncthreads();\n\n    // 在共享内存中计算\n    for (int k = 0; k < 16; k++) {\n        sum += tile_A[ty][k] * tile_B[k][tx];\n    }\n}\n```\n\n### 3. 避免分支分歧\n\n同一个 warp 内的线程应执行相同指令：\n\n```cpp\n// ❌ 分支分歧\nif (threadIdx.x % 2 == 0) {\n    // 一半线程执行这里\n} else {\n    // 另一半线程执行这里\n}\n\n// ✅ 无分歧\nint offset = (threadIdx.x % 2) * stride;\ndata[threadIdx.x + offset] = value;\n```\n\n## 性能分析工具\n\n### Nsight Compute\n\n```bash\nncu --target-processes all ./my_cuda_app\n```\n\n关注指标：\n\n- **SM 利用率**: 应 > 80%\n- **内存带宽利用率**: 应 > 60%\n- **Occupancy**: 活跃 warp 比例\n\n### nvprof (旧版)\n\n```bash\nnvprof --print-gpu-trace ./my_cuda_app\n```\n\n## 性能对比\n\n优化前后的矩阵乘法性能：\n\n| 版本        | 耗时   | 加速比 |\n| ----------- | ------ | ------ |\n| CPU 基线    | 1200ms | 1x     |\n| 朴素 CUDA   | 45ms   | 27x    |\n| 共享内存    | 8ms    | 150x   |\n| Tensor Core | 2ms    | 600x   |\n\n## 总结\n\nCUDA 优化需要理解硬件架构。善用性能分析工具，找到瓶颈再针对性优化。\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),x=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},i=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=m(n,c))||t.enumerable});return a};var _=(a,n,s)=>(s=a!=null?h(N(a)):{},i(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>i(l({},\"__esModule\",{value:!0}),a);var r=g((I,o)=>{o.exports=_jsx_runtime});var y={};x(y,{default:()=>p,frontmatter:()=>b});var e=_(r()),b={title:\"CUDA \\u6027\\u80FD\\u4F18\\u5316\\u6280\\u5DE7\",date:\"2026-01-15\",tags:[\"HPC\"],draft:!1,summary:\"\\u6DF1\\u5165\\u63A2\\u8BA8 CUDA \\u7F16\\u7A0B\\u4E2D\\u7684\\u6027\\u80FD\\u4F18\\u5316\\u7B56\\u7565\\uFF0C\\u5305\\u62EC\\u5185\\u5B58\\u8BBF\\u95EE\\u6A21\\u5F0F\\u3001\\u7EBF\\u7A0B\\u7EC4\\u7EC7\\u548C\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\\u3002\",authors:[\"default\"]};function d(a){let n={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-cuda-\\u4F18\\u5316\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-cuda-\\u4F18\\u5316\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981 CUDA \\u4F18\\u5316\"]}),`\n`,(0,e.jsx)(n.p,{children:\"GPU \\u5E76\\u884C\\u8BA1\\u7B97\\u80FD\\u529B\\u5F3A\\u5927\\uFF0C\\u4F46\\u8981\\u5145\\u5206\\u53D1\\u6325\\u6027\\u80FD\\u9700\\u8981\\u4E86\\u89E3\\u786C\\u4EF6\\u7279\\u6027\\u3002\\u4F18\\u5316\\u5F97\\u5F53\\u53EF\\u4EE5\\u83B7\\u5F97 10-100 \\u500D\\u52A0\\u901F\\u3002\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6838\\u5FC3\\u4F18\\u5316\\u7B56\\u7565\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6838\\u5FC3\\u4F18\\u5316\\u7B56\\u7565\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6838\\u5FC3\\u4F18\\u5316\\u7B56\\u7565\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"1-\\u5185\\u5B58\\u5408\\u5E76\\u8BBF\\u95EE\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#1-\\u5185\\u5B58\\u5408\\u5E76\\u8BBF\\u95EE\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"1. \\u5185\\u5B58\\u5408\\u5E76\\u8BBF\\u95EE\"]}),`\n`,(0,e.jsx)(n.p,{children:\"GPU \\u5185\\u5B58\\u4EE5 128 \\u5B57\\u8282\\u4E3A\\u5355\\u4F4D\\u8BFB\\u53D6\\uFF0C\\u76F8\\u90BB\\u7EBF\\u7A0B\\u8BBF\\u95EE\\u76F8\\u90BB\\u5185\\u5B58\\u6548\\u7387\\u6700\\u9AD8\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u274C \\u6162\\uFF1A\\u8DE8\\u6B65\\u8BBF\\u95EE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"__global__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"bad_kernel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" stride\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" stride\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),\" val \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u975E\\u5408\\u5E76\\u8BBF\\u95EE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u2705 \\u5FEB\\uFF1A\\u8FDE\\u7EED\\u8BBF\\u95EE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"__global__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"good_kernel\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),\" val \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5408\\u5E76\\u8BBF\\u95EE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"2-\\u5171\\u4EAB\\u5185\\u5B58\\u4F7F\\u7528\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#2-\\u5171\\u4EAB\\u5185\\u5B58\\u4F7F\\u7528\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"2. \\u5171\\u4EAB\\u5185\\u5B58\\u4F7F\\u7528\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5171\\u4EAB\\u5185\\u5B58\\u901F\\u5EA6\\u6BD4\\u5168\\u5C40\\u5185\\u5B58\\u5FEB 100 \\u500D\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"__global__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"matrix_mul\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" C\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    __shared__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),\" tile_A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    __shared__ \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),\" tile_B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5206\\u5757\\u52A0\\u8F7D\\u5230\\u5171\\u4EAB\\u5185\\u5B58\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tile_A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"ty\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"tx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"row \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" N \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" tx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tile_B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"ty\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"tx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"ty \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" N \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" col\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"__syncthreads\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5728\\u5171\\u4EAB\\u5185\\u5B58\\u4E2D\\u8BA1\\u7B97\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" k \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" k \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" k\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        sum \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" tile_A\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"ty\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"k\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" tile_B\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"k\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"tx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h3,{id:\"3-\\u907F\\u514D\\u5206\\u652F\\u5206\\u6B67\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#3-\\u907F\\u514D\\u5206\\u652F\\u5206\\u6B67\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"3. \\u907F\\u514D\\u5206\\u652F\\u5206\\u6B67\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u540C\\u4E00\\u4E2A warp \\u5185\\u7684\\u7EBF\\u7A0B\\u5E94\\u6267\\u884C\\u76F8\\u540C\\u6307\\u4EE4\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u274C \\u5206\\u652F\\u5206\\u6B67\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u4E00\\u534A\\u7EBF\\u7A0B\\u6267\\u884C\\u8FD9\\u91CC\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u53E6\\u4E00\\u534A\\u7EBF\\u7A0B\\u6267\\u884C\\u8FD9\\u91CC\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u2705 \\u65E0\\u5206\\u6B67\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" offset \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"%\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" stride\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"threadIdx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"x \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" offset\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" value\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"nsight-compute\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#nsight-compute\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Nsight Compute\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`ncu --target-processes all ./my_cuda_app\n`})})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5173\\u6CE8\\u6307\\u6807\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"SM \\u5229\\u7528\\u7387\"}),\": \\u5E94 > 80%\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"\\u5185\\u5B58\\u5E26\\u5BBD\\u5229\\u7528\\u7387\"}),\": \\u5E94 > 60%\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Occupancy\"}),\": \\u6D3B\\u8DC3 warp \\u6BD4\\u4F8B\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"nvprof-\\u65E7\\u7248\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#nvprof-\\u65E7\\u7248\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"nvprof (\\u65E7\\u7248)\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"language-bash code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`nvprof --print-gpu-trace ./my_cuda_app\n`})})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u6027\\u80FD\\u5BF9\\u6BD4\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u6027\\u80FD\\u5BF9\\u6BD4\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u6027\\u80FD\\u5BF9\\u6BD4\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u4F18\\u5316\\u524D\\u540E\\u7684\\u77E9\\u9635\\u4E58\\u6CD5\\u6027\\u80FD\\uFF1A\"}),`\n`,(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\u7248\\u672C\"}),(0,e.jsx)(n.th,{children:\"\\u8017\\u65F6\"}),(0,e.jsx)(n.th,{children:\"\\u52A0\\u901F\\u6BD4\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"CPU \\u57FA\\u7EBF\"}),(0,e.jsx)(n.td,{children:\"1200ms\"}),(0,e.jsx)(n.td,{children:\"1x\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u6734\\u7D20 CUDA\"}),(0,e.jsx)(n.td,{children:\"45ms\"}),(0,e.jsx)(n.td,{children:\"27x\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\u5171\\u4EAB\\u5185\\u5B58\"}),(0,e.jsx)(n.td,{children:\"8ms\"}),(0,e.jsx)(n.td,{children:\"150x\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Tensor Core\"}),(0,e.jsx)(n.td,{children:\"2ms\"}),(0,e.jsx)(n.td,{children:\"600x\"})]})]})]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u603B\\u7ED3\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u603B\\u7ED3\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u603B\\u7ED3\"]}),`\n`,(0,e.jsx)(n.p,{children:\"CUDA \\u4F18\\u5316\\u9700\\u8981\\u7406\\u89E3\\u786C\\u4EF6\\u67B6\\u6784\\u3002\\u5584\\u7528\\u6027\\u80FD\\u5206\\u6790\\u5DE5\\u5177\\uFF0C\\u627E\\u5230\\u74F6\\u9888\\u518D\\u9488\\u5BF9\\u6027\\u4F18\\u5316\\u3002\"})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(d,{...a})}):d(a)}return f(y);})();\n;return Component;"
    },
    "_id": "blog/Systems/cuda-optimization-tips.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/cuda-optimization-tips.md",
      "sourceFileName": "cuda-optimization-tips.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/cuda-optimization-tips"
    },
    "type": "Blog",
    "readingTime": {
      "text": "3 min read",
      "minutes": 2.225,
      "time": 133500,
      "words": 445
    },
    "slug": "cuda-optimization-tips",
    "path": "blog/Systems/cuda-optimization-tips",
    "toc": [
      {
        "value": "为什么需要 CUDA 优化",
        "url": "#为什么需要-cuda-优化",
        "depth": 2
      },
      {
        "value": "核心优化策略",
        "url": "#核心优化策略",
        "depth": 2
      },
      {
        "value": "1. 内存合并访问",
        "url": "#1-内存合并访问",
        "depth": 3
      },
      {
        "value": "2. 共享内存使用",
        "url": "#2-共享内存使用",
        "depth": 3
      },
      {
        "value": "3. 避免分支分歧",
        "url": "#3-避免分支分歧",
        "depth": 3
      },
      {
        "value": "性能分析工具",
        "url": "#性能分析工具",
        "depth": 2
      },
      {
        "value": "Nsight Compute",
        "url": "#nsight-compute",
        "depth": 3
      },
      {
        "value": "nvprof (旧版)",
        "url": "#nvprof-旧版",
        "depth": 3
      },
      {
        "value": "性能对比",
        "url": "#性能对比",
        "depth": 2
      },
      {
        "value": "总结",
        "url": "#总结",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "CUDA 性能优化技巧",
      "datePublished": "2026-01-15T00:00:00.000Z",
      "dateModified": "2026-01-15T00:00:00.000Z",
      "description": "深入探讨 CUDA 编程中的性能优化策略，包括内存访问模式、线程组织和性能分析工具。",
      "url": "https://zhangjian94cn.github.io/blog/cuda-optimization-tips"
    }
  },
  {
    "title": "Introducing Intel LLM-on-Ray: A New Era for Large Language Models",
    "date": "2023-12-09T00:00:00.000Z",
    "tags": [
      "LLM",
      "Intel"
    ],
    "draft": false,
    "summary": "Pretrain, finetune and serve LLMs on Intel platforms with Ray distributed framework.",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\nWe are thrilled to announce the launch of the [Intel LLM-on-Ray project](https://github.com/intel/llm-on-ray), a groundbreaking initiative designed to revolutionize the way large language models (LLMs) are pretrained, finetuned, and served on Intel platforms using the Ray framework.\n\n## Empowering LLMs with Intel and Ray\n\nThe Intel LLM-on-Ray project brings together the scalability of Ray with the robustness of Intel's hardware, delivering an unparalleled environment for working with LLMs. Researchers and developers can now leverage this powerful combination to train and deploy some of the most advanced AI models with greater ease and efficiency.\n\n## Key Features\n\n- **Scalability**: Handle massive datasets and model sizes without compromising on performance.\n- **Flexibility**: Pretrain and finetune models with custom workflows tailored to specific needs.\n- **Efficiency**: Optimize resource utilization on Intel platforms, reducing operational costs.\n- **Ease of Use**: Simplified APIs and tools make it easier to get started and scale up.\n\n## Get Started\n\nThe project is open-source and ready for contributions. We encourage you to join us in this journey and help shape the future of LLMs. For more information, visit the [Intel LLM-on-Ray GitHub repository](https://github.com/intel/llm-on-ray).\n\n## Join the Community\n\nBecome part of a growing community of developers and researchers passionate about the potential of LLMs. Share your insights, collaborate on projects, and learn from the expertise of others in the field.\n",
      "code": "var Component=(()=>{var m=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),L=(t,e)=>{for(var a in e)i(t,a,{get:e[a],enumerable:!0})},s=(t,e,a,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of f(e))!g.call(t,r)&&r!==a&&i(t,r,{get:()=>e[r],enumerable:!(o=u(e,r))||o.enumerable});return t};var w=(t,e,a)=>(a=t!=null?m(p(t)):{},s(e||!t||!t.__esModule?i(a,\"default\",{value:t,enumerable:!0}):a,t)),b=t=>s(i({},\"__esModule\",{value:!0}),t);var d=y((j,l)=>{l.exports=_jsx_runtime});var x={};L(x,{default:()=>h,frontmatter:()=>I});var n=w(d()),I={title:\"Introducing Intel LLM-on-Ray: A New Era for Large Language Models\",date:\"2023-12-09\",tags:[\"LLM\",\"Intel\"],draft:!1,summary:\"Pretrain, finetune and serve LLMs on Intel platforms with Ray distributed framework.\",authors:[\"default\"]};function c(t){let e={a:\"a\",h2:\"h2\",li:\"li\",p:\"p\",span:\"span\",strong:\"strong\",ul:\"ul\",...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"We are thrilled to announce the launch of the \",(0,n.jsx)(e.a,{href:\"https://github.com/intel/llm-on-ray\",children:\"Intel LLM-on-Ray project\"}),\", a groundbreaking initiative designed to revolutionize the way large language models (LLMs) are pretrained, finetuned, and served on Intel platforms using the Ray framework.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"empowering-llms-with-intel-and-ray\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#empowering-llms-with-intel-and-ray\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Empowering LLMs with Intel and Ray\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The Intel LLM-on-Ray project brings together the scalability of Ray with the robustness of Intel's hardware, delivering an unparalleled environment for working with LLMs. Researchers and developers can now leverage this powerful combination to train and deploy some of the most advanced AI models with greater ease and efficiency.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"key-features\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#key-features\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Key Features\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Scalability\"}),\": Handle massive datasets and model sizes without compromising on performance.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Flexibility\"}),\": Pretrain and finetune models with custom workflows tailored to specific needs.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Efficiency\"}),\": Optimize resource utilization on Intel platforms, reducing operational costs.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Ease of Use\"}),\": Simplified APIs and tools make it easier to get started and scale up.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"get-started\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#get-started\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Get Started\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The project is open-source and ready for contributions. We encourage you to join us in this journey and help shape the future of LLMs. For more information, visit the \",(0,n.jsx)(e.a,{href:\"https://github.com/intel/llm-on-ray\",children:\"Intel LLM-on-Ray GitHub repository\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"join-the-community\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#join-the-community\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Join the Community\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Become part of a growing community of developers and researchers passionate about the potential of LLMs. Share your insights, collaborate on projects, and learn from the expertise of others in the field.\"})]})}function h(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(c,{...t})}):c(t)}return b(x);})();\n;return Component;"
    },
    "_id": "blog/Systems/llm-on-ray.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/llm-on-ray.md",
      "sourceFileName": "llm-on-ray.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/llm-on-ray"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.1,
      "time": 66000,
      "words": 220
    },
    "slug": "llm-on-ray",
    "path": "blog/Systems/llm-on-ray",
    "toc": [
      {
        "value": "Empowering LLMs with Intel and Ray",
        "url": "#empowering-llms-with-intel-and-ray",
        "depth": 2
      },
      {
        "value": "Key Features",
        "url": "#key-features",
        "depth": 2
      },
      {
        "value": "Get Started",
        "url": "#get-started",
        "depth": 2
      },
      {
        "value": "Join the Community",
        "url": "#join-the-community",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Introducing Intel LLM-on-Ray: A New Era for Large Language Models",
      "datePublished": "2023-12-09T00:00:00.000Z",
      "dateModified": "2023-12-09T00:00:00.000Z",
      "description": "Pretrain, finetune and serve LLMs on Intel platforms with Ray distributed framework.",
      "url": "https://zhangjian94cn.github.io/blog/llm-on-ray"
    }
  },
  {
    "title": "Learn Makefiles (2)",
    "date": "2022-12-13T00:00:00.000Z",
    "tags": [
      "C++"
    ],
    "draft": false,
    "summary": "Getting Advanced: Targets, Automatic Variables and Wildcards, Fancy Rules",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n本文是对[Makefile Cookbook](https://makefiletutorial.com/#makefile-cookbook)的简要翻译\n\n## Targets\n\n### The `all` target\n\n如果想要同时运行所有的`target`，可以使用`all` target。之所以可以这样，原因是：如果不指定target，make总是运行第一条rule。\n\n```makefile\nall: one two three\n\none:\n\ttouch one\ntwo:\n\ttouch two\nthree:\n\ttouch three\n\nclean:\n\trm -f one two three\n```\n\n### Multiple targets\n\n当多个targets对应同一个rule时，那么每一个target都会执行此rule的commands（参考下面的例子）。其中，`$@`是[automatic variable](https://makefiletutorial.com/#automatic-variables)，其包含了target name。\n\n```makefile\nall: f1.o f2.o\n\nf1.o f2.o:\n\techo $@\n# Equivalent to:\n# f1.o:\n#\t echo f1.o\n# f2.o:\n#\t echo f2.o\n```\n\n## Automatic Variables and Wildcards\n\n`*`和`%`在make中被称为wildcards（通配符）。\n\n### 通配符 `*`\n\n`*`含义基本和正则表达式一致。在使用`*`的同时，最好也使用`wildcard `function，要不然可能会出现一些问题。\n\n```makefile\n# Print out file information about every .c file\nprint: $(wildcard *.c)\n\tls -la  $?\n```\n\n- `*`可以在target，prerequisites，`wildcard` function中使用\n- 注意：`*`不可以直接用于变量的定义\n- 注意：如果`*`没有和任何文件匹配，那么就会直接变成字符`*`（除非你使用`wildcard` function）\n\n\n```makefile\nthing_wrong := *.o # Don't do this! '*' will not get expanded\nthing_right := $(wildcard *.o)\n\nall: one two three four\n\n# Fails, because $(thing_wrong) is the string \"*.o\"\none: $(thing_wrong)\n\n# Stays as *.o if there are no files that match this pattern :(\ntwo: *.o \n\n# Works as you would expect! In this case, it does nothing.\nthree: $(thing_right)\n\n# Same as rule three\nfour: $(wildcard *.o)\n```\n\n### 通配符 `%`\n\n`%`是非常有用的，但是在某些情况下，它的用法会让人感到困惑。\n\n- 匹配模式：`%`会匹配字符串中一个或多个字符。This match is called the stem.\n- 替换模式：将匹配上的stem进行替换。\n- `%`通常被使用在`rule definitions`中，此外还会被用于一些函数。\n\n下面几节讲了一些替换的例子：\n\n- Static Pattern Rules\n- Pattern Rules\n- String Substitution\n- The vpath Directive\n\n### 自动变量（Automatic Variables）\n\n[automatic variables](https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html)有很多，下面几个是比较常用的：\n\n```makefile\nhey: one two\n\t# Outputs \"hey\", since this is the target name\n\techo $@\n\n\t# Outputs all prerequisites newer than the target\n\techo $?\n\n\t# Outputs all prerequisites\n\techo $^\n\n\ttouch hey\n\none:\n\ttouch one\n\ntwo:\n\ttouch two\n\nclean:\n\trm -f hey one two\n```\n\n## Fancy Rules\n\n### Implicit Rules\n\n下面的几个命令都是make中的隐式命令：\n- C程序的编译：blah.o自动由blah.c编译得到，其命令如下：`$(CC) -c $(CPPFLAGS) $(CFLAGS) $^ -o $@`\n- C++程序的编译：blah.o自动由blah.cc/blah.cpp编译得到，其命令如下：`$(CXX) -c $(CPPFLAGS) $(CXXFLAGS) $^ -o $@`\n- 目标文件的链接：可执行文件blah自动由blah.o生成，其命令如下`$(CC) $(LDFLAGS) $^ $(LOADLIBES) $(LDLIBS) -o $@`\n\n下面是一个编译C程序的例子，仔细观察其Implicit Rules的使用。\n```makefile\nCC = gcc # Flag for implicit rules\nCFLAGS = -g # Flag for implicit rules. Turn on debug info\n\n# Implicit rule #1: blah is built via the C linker implicit rule\n# Implicit rule #2: blah.o is built via the C compilation implicit rule, because blah.c exists\nblah: blah.o\n\nblah.c:\n\techo \"int main() { return 0; }\" > blah.c\n\nclean:\n\trm -f blah*\n```\n\n其中，有一些比较重要的变量：\n\n- CC: Program for compiling C programs; default cc\n- CXX: Program for compiling C++ programs; default g++\n- CFLAGS: Extra flags to give to the C compiler\n- CXXFLAGS: Extra flags to give to the C++ compiler\n- CPPFLAGS: Extra flags to give to the C preprocessor\n- LDFLAGS: Extra flags to give to compilers when they are supposed to invoke the linker\n\n### Static Pattern Rules\n\n形式如下：\n```makefile\ntargets...: target-pattern: prereq-patterns ...\n   commands\n```\n\n通过target-pattern（使用通配符`%`）来匹配target，符合的target会对应于prereq-patterns\n\n接下来，让我们通过一个例子来比较下是否使用Static Pattern Rules的区别：\n\n```makefile\n# 未使用的\nobjects = foo.o bar.o all.o\nall: $(objects)\n\n# These files compile via implicit rules\nfoo.o: foo.c\nbar.o: bar.c\nall.o: all.c\n\nall.c:\n\techo \"int main() { return 0; }\" > all.c\n\n%.c:\n\ttouch $@\n\nclean:\n\trm -f *.c *.o all\n```\n\n\n```makefile\n# 使用了static pattern rule的，Makefile会更加简洁\nobjects = foo.o bar.o all.o\nall: $(objects)\n\n# These files compile via implicit rules\n# Syntax - targets ...: target-pattern: prereq-patterns ...\n# In the case of the first target, foo.o, the target-pattern matches foo.o and sets the \"stem\" to be \"foo\".\n# It then replaces the '%' in prereq-patterns with that stem\n$(objects): %.o: %.c\n\nall.c:\n\techo \"int main() { return 0; }\" > all.c\n\n%.c:\n\ttouch $@\n\nclean:\n\trm -f *.c *.o all\n```\n\n### Static Pattern Rules and Filter\n\n（target-pattern不是已经起到filter作用吗？为什么还需要filter function？）\n\n```makefile\nobj_files = foo.result bar.o lose.o\nsrc_files = foo.raw bar.c lose.c\n\nall: $(obj_files)\n# Note: PHONY is important here. Without it, implicit rules will try to build the executable \"all\", since the prereqs are \".o\" files.\n.PHONY: all \n\n# Ex 1: .o files depend on .c files. Though we don't actually make the .o file.\n$(filter %.o,$(obj_files)): %.o: %.c\n\techo \"target: $@ prereq: $<\"\n\n# Ex 2: .result files depend on .raw files. Though we don't actually make the .result file.\n$(filter %.result,$(obj_files)): %.result: %.raw\n\techo \"target: $@ prereq: $<\" \n\n%.c %.raw:\n\ttouch $@\n\nclean:\n\trm -f $(src_files)\n```\n\n\n\n### Pattern Rules\n\nPattern rules一般会在下面两种情况下出现：\n1. 定义自己的implicit rules\n2. 形式更简单的static pattern rules\n\n下面是两个简单的例子：\n```makefile\n# Define a pattern rule that compiles every .c file into a .o file\n%.o : %.c\n\t\t$(CC) -c $(CFLAGS) $(CPPFLAGS) $< -o $@\n```\n\n```makefile\n# Define a pattern rule that has no pattern in the prerequisites.\n# This just creates empty .c files when needed.\n%.c:\n   touch $@\n```\n\n### Double-Colon Rules\n\n双冒号规则很少被使用，它可以允许对一个target定义多个rule。而如果你直接对一个target使用单引号定义多个规则，那么会出现警告（and only the second set of commands would run.）。\n\n```makefile\nall: blah\n\nblah::\n\techo \"hello\"\n\nblah::\n\techo \"hello again\"\n```\n\n",
      "code": "var Component=(()=>{var m=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var l in e)c(a,l,{get:e[l],enumerable:!0})},t=(a,e,l,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of N(e))!k.call(a,s)&&s!==l&&c(a,s,{get:()=>e[s],enumerable:!(i=p(e,s))||i.enumerable});return a};var f=(a,e,l)=>(l=a!=null?m(u(a)):{},t(e||!a||!a.__esModule?c(l,\"default\",{value:a,enumerable:!0}):l,a)),y=a=>t(c({},\"__esModule\",{value:!0}),a);var o=g((C,r)=>{r.exports=_jsx_runtime});var $={};b($,{default:()=>h,frontmatter:()=>v});var n=f(o()),v={title:\"Learn Makefiles (2)\",date:\"2022-12-13\",tags:[\"C++\"],draft:!1,summary:\"Getting Advanced: Targets, Automatic Variables and Wildcards, Fancy Rules\",authors:[\"default\"]};function d(a){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u662F\\u5BF9\",(0,n.jsx)(e.a,{href:\"https://makefiletutorial.com/#makefile-cookbook\",children:\"Makefile Cookbook\"}),\"\\u7684\\u7B80\\u8981\\u7FFB\\u8BD1\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"targets\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#targets\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Targets\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"the-all-target\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-all-target\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"The \",(0,n.jsx)(e.code,{children:\"all\"}),\" target\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u60F3\\u8981\\u540C\\u65F6\\u8FD0\\u884C\\u6240\\u6709\\u7684\",(0,n.jsx)(e.code,{children:\"target\"}),\"\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"all\"}),\" target\\u3002\\u4E4B\\u6240\\u4EE5\\u53EF\\u4EE5\\u8FD9\\u6837\\uFF0C\\u539F\\u56E0\\u662F\\uFF1A\\u5982\\u679C\\u4E0D\\u6307\\u5B9Atarget\\uFF0Cmake\\u603B\\u662F\\u8FD0\\u884C\\u7B2C\\u4E00\\u6761rule\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` one two three\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"one\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch one\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"two\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch two\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"three\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch three\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f one two three\n`})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"multiple-targets\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#multiple-targets\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Multiple targets\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u591A\\u4E2Atargets\\u5BF9\\u5E94\\u540C\\u4E00\\u4E2Arule\\u65F6\\uFF0C\\u90A3\\u4E48\\u6BCF\\u4E00\\u4E2Atarget\\u90FD\\u4F1A\\u6267\\u884C\\u6B64rule\\u7684commands\\uFF08\\u53C2\\u8003\\u4E0B\\u9762\\u7684\\u4F8B\\u5B50\\uFF09\\u3002\\u5176\\u4E2D\\uFF0C\",(0,n.jsx)(e.code,{children:\"$@\"}),\"\\u662F\",(0,n.jsx)(e.a,{href:\"https://makefiletutorial.com/#automatic-variables\",children:\"automatic variable\"}),\"\\uFF0C\\u5176\\u5305\\u542B\\u4E86target name\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` f1.o f2.o\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"f1.o f2.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Equivalent to:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# f1.o:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#\t echo f1.o\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# f2.o:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#\t echo f2.o\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"automatic-variables-and-wildcards\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#automatic-variables-and-wildcards\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Automatic Variables and Wildcards\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"*\"}),\"\\u548C\",(0,n.jsx)(e.code,{children:\"%\"}),\"\\u5728make\\u4E2D\\u88AB\\u79F0\\u4E3Awildcards\\uFF08\\u901A\\u914D\\u7B26\\uFF09\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u901A\\u914D\\u7B26-\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u901A\\u914D\\u7B26-\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u901A\\u914D\\u7B26 \",(0,n.jsx)(e.code,{children:\"*\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"*\"}),\"\\u542B\\u4E49\\u57FA\\u672C\\u548C\\u6B63\\u5219\\u8868\\u8FBE\\u5F0F\\u4E00\\u81F4\\u3002\\u5728\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"*\"}),\"\\u7684\\u540C\\u65F6\\uFF0C\\u6700\\u597D\\u4E5F\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"wildcard \"}),\"function\\uFF0C\\u8981\\u4E0D\\u7136\\u53EF\\u80FD\\u4F1A\\u51FA\\u73B0\\u4E00\\u4E9B\\u95EE\\u9898\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Print out file information about every .c file\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"wildcard\"}),\" *.c\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\tls -la  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$?\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"*\"}),\"\\u53EF\\u4EE5\\u5728target\\uFF0Cprerequisites\\uFF0C\",(0,n.jsx)(e.code,{children:\"wildcard\"}),\" function\\u4E2D\\u4F7F\\u7528\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6CE8\\u610F\\uFF1A\",(0,n.jsx)(e.code,{children:\"*\"}),\"\\u4E0D\\u53EF\\u4EE5\\u76F4\\u63A5\\u7528\\u4E8E\\u53D8\\u91CF\\u7684\\u5B9A\\u4E49\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6CE8\\u610F\\uFF1A\\u5982\\u679C\",(0,n.jsx)(e.code,{children:\"*\"}),\"\\u6CA1\\u6709\\u548C\\u4EFB\\u4F55\\u6587\\u4EF6\\u5339\\u914D\\uFF0C\\u90A3\\u4E48\\u5C31\\u4F1A\\u76F4\\u63A5\\u53D8\\u6210\\u5B57\\u7B26\",(0,n.jsx)(e.code,{children:\"*\"}),\"\\uFF08\\u9664\\u975E\\u4F60\\u4F7F\\u7528\",(0,n.jsx)(e.code,{children:\"wildcard\"}),\" function\\uFF09\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"thing_wrong \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" *.o \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Don't do this! '*' will not get expanded\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"thing_right \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"wildcard\"}),\" *.o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` one two three four\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'# Fails, because $(thing_wrong) is the string \"*.o\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"one\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"thing_wrong\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Stays as *.o if there are no files that match this pattern :(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"two\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` *.o \n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Works as you would expect! In this case, it does nothing.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"three\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"thing_right\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Same as rule three\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"four\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"wildcard\"}),\" *.o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u901A\\u914D\\u7B26--1\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u901A\\u914D\\u7B26--1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u901A\\u914D\\u7B26 \",(0,n.jsx)(e.code,{children:\"%\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"%\"}),\"\\u662F\\u975E\\u5E38\\u6709\\u7528\\u7684\\uFF0C\\u4F46\\u662F\\u5728\\u67D0\\u4E9B\\u60C5\\u51B5\\u4E0B\\uFF0C\\u5B83\\u7684\\u7528\\u6CD5\\u4F1A\\u8BA9\\u4EBA\\u611F\\u5230\\u56F0\\u60D1\\u3002\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5339\\u914D\\u6A21\\u5F0F\\uFF1A\",(0,n.jsx)(e.code,{children:\"%\"}),\"\\u4F1A\\u5339\\u914D\\u5B57\\u7B26\\u4E32\\u4E2D\\u4E00\\u4E2A\\u6216\\u591A\\u4E2A\\u5B57\\u7B26\\u3002This match is called the stem.\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u66FF\\u6362\\u6A21\\u5F0F\\uFF1A\\u5C06\\u5339\\u914D\\u4E0A\\u7684stem\\u8FDB\\u884C\\u66FF\\u6362\\u3002\"}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"%\"}),\"\\u901A\\u5E38\\u88AB\\u4F7F\\u7528\\u5728\",(0,n.jsx)(e.code,{children:\"rule definitions\"}),\"\\u4E2D\\uFF0C\\u6B64\\u5916\\u8FD8\\u4F1A\\u88AB\\u7528\\u4E8E\\u4E00\\u4E9B\\u51FD\\u6570\\u3002\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u51E0\\u8282\\u8BB2\\u4E86\\u4E00\\u4E9B\\u66FF\\u6362\\u7684\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Static Pattern Rules\"}),`\n`,(0,n.jsx)(e.li,{children:\"Pattern Rules\"}),`\n`,(0,n.jsx)(e.li,{children:\"String Substitution\"}),`\n`,(0,n.jsx)(e.li,{children:\"The vpath Directive\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u81EA\\u52A8\\u53D8\\u91CFautomatic-variables\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u81EA\\u52A8\\u53D8\\u91CFautomatic-variables\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u81EA\\u52A8\\u53D8\\u91CF\\uFF08Automatic Variables\\uFF09\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html\",children:\"automatic variables\"}),\"\\u6709\\u5F88\\u591A\\uFF0C\\u4E0B\\u9762\\u51E0\\u4E2A\\u662F\\u6BD4\\u8F83\\u5E38\\u7528\\u7684\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"hey\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` one two\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:'# Outputs \"hey\", since this is the target name'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Outputs all prerequisites newer than the target\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$?\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Outputs all prerequisites\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$^\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch hey\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"one\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch one\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"two\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch two\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f hey one two\n`})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"fancy-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#fancy-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Fancy Rules\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"implicit-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#implicit-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Implicit Rules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u7684\\u51E0\\u4E2A\\u547D\\u4EE4\\u90FD\\u662Fmake\\u4E2D\\u7684\\u9690\\u5F0F\\u547D\\u4EE4\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"C\\u7A0B\\u5E8F\\u7684\\u7F16\\u8BD1\\uFF1Ablah.o\\u81EA\\u52A8\\u7531blah.c\\u7F16\\u8BD1\\u5F97\\u5230\\uFF0C\\u5176\\u547D\\u4EE4\\u5982\\u4E0B\\uFF1A\",(0,n.jsx)(e.code,{children:\"$(CC) -c $(CPPFLAGS) $(CFLAGS) $^ -o $@\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"C++\\u7A0B\\u5E8F\\u7684\\u7F16\\u8BD1\\uFF1Ablah.o\\u81EA\\u52A8\\u7531blah.cc/blah.cpp\\u7F16\\u8BD1\\u5F97\\u5230\\uFF0C\\u5176\\u547D\\u4EE4\\u5982\\u4E0B\\uFF1A\",(0,n.jsx)(e.code,{children:\"$(CXX) -c $(CPPFLAGS) $(CXXFLAGS) $^ -o $@\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u76EE\\u6807\\u6587\\u4EF6\\u7684\\u94FE\\u63A5\\uFF1A\\u53EF\\u6267\\u884C\\u6587\\u4EF6blah\\u81EA\\u52A8\\u7531blah.o\\u751F\\u6210\\uFF0C\\u5176\\u547D\\u4EE4\\u5982\\u4E0B\",(0,n.jsx)(e.code,{children:\"$(CC) $(LDFLAGS) $^ $(LOADLIBES) $(LDLIBS) -o $@\"})]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u662F\\u4E00\\u4E2A\\u7F16\\u8BD1C\\u7A0B\\u5E8F\\u7684\\u4F8B\\u5B50\\uFF0C\\u4ED4\\u7EC6\\u89C2\\u5BDF\\u5176Implicit Rules\\u7684\\u4F7F\\u7528\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"CC \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gcc \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Flag for implicit rules\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"CFLAGS \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" -g \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Flag for implicit rules. Turn on debug info\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Implicit rule #1: blah is built via the C linker implicit rule\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Implicit rule #2: blah.o is built via the C compilation implicit rule, because blah.c exists\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah.o\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"int main() { return 0; }\"'}),` > blah.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f blah*\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5176\\u4E2D\\uFF0C\\u6709\\u4E00\\u4E9B\\u6BD4\\u8F83\\u91CD\\u8981\\u7684\\u53D8\\u91CF\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"CC: Program for compiling C programs; default cc\"}),`\n`,(0,n.jsx)(e.li,{children:\"CXX: Program for compiling C++ programs; default g++\"}),`\n`,(0,n.jsx)(e.li,{children:\"CFLAGS: Extra flags to give to the C compiler\"}),`\n`,(0,n.jsx)(e.li,{children:\"CXXFLAGS: Extra flags to give to the C++ compiler\"}),`\n`,(0,n.jsx)(e.li,{children:\"CPPFLAGS: Extra flags to give to the C preprocessor\"}),`\n`,(0,n.jsx)(e.li,{children:\"LDFLAGS: Extra flags to give to compilers when they are supposed to invoke the linker\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"static-pattern-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#static-pattern-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Static Pattern Rules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F62\\u5F0F\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"targets...\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" target-pattern\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` prereq-patterns ...\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`   commands\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7target-pattern\\uFF08\\u4F7F\\u7528\\u901A\\u914D\\u7B26\",(0,n.jsx)(e.code,{children:\"%\"}),\"\\uFF09\\u6765\\u5339\\u914Dtarget\\uFF0C\\u7B26\\u5408\\u7684target\\u4F1A\\u5BF9\\u5E94\\u4E8Eprereq-patterns\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u8BA9\\u6211\\u4EEC\\u901A\\u8FC7\\u4E00\\u4E2A\\u4F8B\\u5B50\\u6765\\u6BD4\\u8F83\\u4E0B\\u662F\\u5426\\u4F7F\\u7528Static Pattern Rules\\u7684\\u533A\\u522B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u672A\\u4F7F\\u7528\\u7684\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"objects \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` foo.o bar.o all.o\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"objects\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# These files compile via implicit rules\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"foo.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` foo.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"bar.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` bar.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` all.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"int main() { return 0; }\"'}),` > all.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\ttouch \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f *.c *.o all\n`})]})}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u4F7F\\u7528\\u4E86static pattern rule\\u7684\\uFF0CMakefile\\u4F1A\\u66F4\\u52A0\\u7B80\\u6D01\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"objects \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` foo.o bar.o all.o\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"objects\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# These files compile via implicit rules\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Syntax - targets ...: target-pattern: prereq-patterns ...\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'# In the case of the first target, foo.o, the target-pattern matches foo.o and sets the \"stem\" to be \"foo\".'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# It then replaces the '%' in prereq-patterns with that stem\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token target symbol\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(objects)\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" %.o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` %.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"int main() { return 0; }\"'}),` > all.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\ttouch \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f *.c *.o all\n`})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"static-pattern-rules-and-filter\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#static-pattern-rules-and-filter\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Static Pattern Rules and Filter\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\uFF08target-pattern\\u4E0D\\u662F\\u5DF2\\u7ECF\\u8D77\\u5230filter\\u4F5C\\u7528\\u5417\\uFF1F\\u4E3A\\u4EC0\\u4E48\\u8FD8\\u9700\\u8981filter function\\uFF1F\\uFF09\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"obj_files \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` foo.result bar.o lose.o\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"src_files \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` foo.raw bar.c lose.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"obj_files\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:'# Note: PHONY is important here. Without it, implicit rules will try to build the executable \"all\", since the prereqs are \".o\" files.'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin-target builtin\",children:\".PHONY\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` all \n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Ex 1: .o files depend on .c files. Though we don't actually make the .o file.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token target symbol\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(filter %.o,\",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(obj_files))\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" %.o\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` %.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"target: $@ prereq: $<\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Ex 2: .result files depend on .raw files. Though we don't actually make the .result file.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token target symbol\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(filter %.result,\",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),\"(obj_files))\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" %.result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` %.raw\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"target: $@ prereq: $<\"'}),` \n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.c %.raw\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\ttouch \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\trm -f \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"src_files\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"pattern-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#pattern-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Pattern Rules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Pattern rules\\u4E00\\u822C\\u4F1A\\u5728\\u4E0B\\u9762\\u4E24\\u79CD\\u60C5\\u51B5\\u4E0B\\u51FA\\u73B0\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u5B9A\\u4E49\\u81EA\\u5DF1\\u7684implicit rules\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5F62\\u5F0F\\u66F4\\u7B80\\u5355\\u7684static pattern rules\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u662F\\u4E24\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Define a pattern rule that compiles every .c file into a .o file\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.o\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` %.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"CC\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" -c \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"CFLAGS\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"CPPFLAGS\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$<\"}),\" -o \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Define a pattern rule that has no pattern in the prerequisites.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# This just creates empty .c files when needed.\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"%.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"   touch \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$@\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"double-colon-rules\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#double-colon-rules\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Double-Colon Rules\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u53CC\\u5192\\u53F7\\u89C4\\u5219\\u5F88\\u5C11\\u88AB\\u4F7F\\u7528\\uFF0C\\u5B83\\u53EF\\u4EE5\\u5141\\u8BB8\\u5BF9\\u4E00\\u4E2Atarget\\u5B9A\\u4E49\\u591A\\u4E2Arule\\u3002\\u800C\\u5982\\u679C\\u4F60\\u76F4\\u63A5\\u5BF9\\u4E00\\u4E2Atarget\\u4F7F\\u7528\\u5355\\u5F15\\u53F7\\u5B9A\\u4E49\\u591A\\u4E2A\\u89C4\\u5219\\uFF0C\\u90A3\\u4E48\\u4F1A\\u51FA\\u73B0\\u8B66\\u544A\\uFF08and only the second set of commands would run.\\uFF09\\u3002\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"hello\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"hello again\"'}),`\n`]})]})})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return y($);})();\n;return Component;"
    },
    "_id": "blog/Systems/makefile-advance.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/makefile-advance.md",
      "sourceFileName": "makefile-advance.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/makefile-advance"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.49,
      "time": 389400,
      "words": 1298
    },
    "slug": "makefile-advance",
    "path": "blog/Systems/makefile-advance",
    "toc": [
      {
        "value": "Targets",
        "url": "#targets",
        "depth": 2
      },
      {
        "value": "The all target",
        "url": "#the-all-target",
        "depth": 3
      },
      {
        "value": "Multiple targets",
        "url": "#multiple-targets",
        "depth": 3
      },
      {
        "value": "Automatic Variables and Wildcards",
        "url": "#automatic-variables-and-wildcards",
        "depth": 2
      },
      {
        "value": "通配符 *",
        "url": "#通配符-",
        "depth": 3
      },
      {
        "value": "通配符 %",
        "url": "#通配符--1",
        "depth": 3
      },
      {
        "value": "自动变量（Automatic Variables）",
        "url": "#自动变量automatic-variables",
        "depth": 3
      },
      {
        "value": "Fancy Rules",
        "url": "#fancy-rules",
        "depth": 2
      },
      {
        "value": "Implicit Rules",
        "url": "#implicit-rules",
        "depth": 3
      },
      {
        "value": "Static Pattern Rules",
        "url": "#static-pattern-rules",
        "depth": 3
      },
      {
        "value": "Static Pattern Rules and Filter",
        "url": "#static-pattern-rules-and-filter",
        "depth": 3
      },
      {
        "value": "Pattern Rules",
        "url": "#pattern-rules",
        "depth": 3
      },
      {
        "value": "Double-Colon Rules",
        "url": "#double-colon-rules",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Learn Makefiles (2)",
      "datePublished": "2022-12-13T00:00:00.000Z",
      "dateModified": "2022-12-13T00:00:00.000Z",
      "description": "Getting Advanced: Targets, Automatic Variables and Wildcards, Fancy Rules",
      "url": "https://zhangjian94cn.github.io/blog/makefile-advance"
    }
  },
  {
    "title": "Makefile 入门指南",
    "date": "2022-12-06T00:00:00.000Z",
    "tags": [
      "C++"
    ],
    "draft": false,
    "summary": "Makefile 基础教程：理解 targets、prerequisites 和 commands，掌握增量编译核心原理。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n本文是对 [Makefile Cookbook](https://makefiletutorial.com/#makefile-cookbook) 的简要翻译。\n\n## 为什么需要 Makefile\n\nMakefile 用于决定一个大型程序的哪一部分需要被重新编译。在大部分情况下，其被用来编译 C 或 C++ 文件。其他语言通常有自己的工具，其用途与 make 类似。\n\n## 运行样例\n\n让我们运行一个最简单的样例：新建文件夹，在其中创建 `Makefile` 文件：\n\n> **需要注意：makefile 中必须使用 tab 进行缩进**\n\n```makefile\nhello:\n\techo \"Hello, World\"\n```\n\n运行结果：\n\n```bash\n$ make\necho \"Hello, World\"\nHello, World\n```\n\n## Makefile 的语法\n\nMakefile 由一系列的 rule 构成，一个 rule 的范式如下：\n\n```makefile\ntargets: prerequisites\n\tcommand\n\tcommand\n\tcommand\n```\n\n- **targets**: 文件名，通过空格分隔。通常，一个 rule 只有一个 target\n- **commands**: 用于编译 targets 的指令，需要使用 tab 缩进\n- **prerequisites**: 也是文件名，代表\"运行命令时的依赖项\"\n\n## Make 的本质\n\n来看一个简单的例子：\n\n```makefile\nhello:\n\techo \"Hello, World\"\n\techo \"This line will always print, because the file hello does not exist.\"\n```\n\n让我们来运行 `make`。只要 **hello** 不存在，这些 command 就会运行，反之则不运行。\n\n需要认识到的是：**hello** 同时代表了 target hello 和 file hello，这两者的联系非常紧密。\n\n### 编译 C 文件示例\n\n创建 `blah.c`：\n\n```c\n// blah.c\nint main() { return 0; }\n```\n\n创建 `Makefile`：\n\n```makefile\nblah: blah.c\n\tcc blah.c -o blah\n```\n\n当运行 make 时，下面的步骤将会被执行：\n\n1. 第一个 target 将会被选中（默认 target）\n2. 检查 prerequisite `blah.c` 是否存在\n3. 决定是否需要运行此 target：只有当 `blah.c` 的文件修改时间在 `blah` 之后时才会运行\n\n这就是 **make 的本质**：当 prerequisites 在上次编译之后出现变化，就需要重新编译，反之则不需要。\n\n## 更多的例子\n\n下面的 `Makefile` 最终运行了 3 个 target：\n\n```makefile\nblah: blah.o\n\tcc blah.o -o blah # Runs third\n\nblah.o: blah.c\n\tcc -c blah.c -o blah.o # Runs second\n\nblah.c:\n\techo \"int main() { return 0; }\" > blah.c # Runs first\n```\n\n执行步骤：\n\n1. 首先选择 `blah` target\n2. `blah` 需要 `blah.o`，搜索 `blah.o` target\n3. `blah.o` 需要 `blah.c`，搜索 `blah.c` target\n4. `blah.c` 没有依赖，运行 echo\n5. 运行 `cc -c`\n6. 运行 `cc`\n7. 最终，`blah` 生成\n\n## Make Clean\n\nclean 的语法如下：\n\n```makefile\nsome_file:\n\ttouch some_file\n\nclean:\n\trm -f some_file\n```\n\n运行 `make clean` 时，clean 中的内容就会生效。\n\n## 变量\n\n变量只能是 strings，一般使用 `:=`：\n\n```makefile\nfiles := file1 file2\nsome_file: $(files)\n\techo \"Look at this variable: \" $(files)\n\ttouch some_file\n\nfile1:\n\ttouch file1\nfile2:\n\ttouch file2\n\nclean:\n\trm -f file1 file2 some_file\n```\n\n引用变量可以使用：`${}` 或 `$()`\n\n```makefile\nx := dude\n\nall:\n\techo $(x)\n\techo ${x}\n```\n",
      "code": "var Component=(()=>{var m=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),f=(a,e)=>{for(var l in e)s(a,l,{get:e[l],enumerable:!0})},d=(a,e,l,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of N(e))!u.call(a,c)&&c!==l&&s(a,c,{get:()=>e[c],enumerable:!(i=p(e,c))||i.enumerable});return a};var b=(a,e,l)=>(l=a!=null?m(k(a)):{},d(e||!a||!a.__esModule?s(l,\"default\",{value:a,enumerable:!0}):l,a)),x=a=>d(s({},\"__esModule\",{value:!0}),a);var h=g((q,r)=>{r.exports=_jsx_runtime});var M={};f(M,{default:()=>t,frontmatter:()=>y});var n=b(h()),y={title:\"Makefile \\u5165\\u95E8\\u6307\\u5357\",date:\"2022-12-06\",tags:[\"C++\"],draft:!1,summary:\"Makefile \\u57FA\\u7840\\u6559\\u7A0B\\uFF1A\\u7406\\u89E3 targets\\u3001prerequisites \\u548C commands\\uFF0C\\u638C\\u63E1\\u589E\\u91CF\\u7F16\\u8BD1\\u6838\\u5FC3\\u539F\\u7406\\u3002\",authors:[\"default\"]};function o(a){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u662F\\u5BF9 \",(0,n.jsx)(e.a,{href:\"https://makefiletutorial.com/#makefile-cookbook\",children:\"Makefile Cookbook\"}),\" \\u7684\\u7B80\\u8981\\u7FFB\\u8BD1\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-makefile\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981-makefile\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4E3A\\u4EC0\\u4E48\\u9700\\u8981 Makefile\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Makefile \\u7528\\u4E8E\\u51B3\\u5B9A\\u4E00\\u4E2A\\u5927\\u578B\\u7A0B\\u5E8F\\u7684\\u54EA\\u4E00\\u90E8\\u5206\\u9700\\u8981\\u88AB\\u91CD\\u65B0\\u7F16\\u8BD1\\u3002\\u5728\\u5927\\u90E8\\u5206\\u60C5\\u51B5\\u4E0B\\uFF0C\\u5176\\u88AB\\u7528\\u6765\\u7F16\\u8BD1 C \\u6216 C++ \\u6587\\u4EF6\\u3002\\u5176\\u4ED6\\u8BED\\u8A00\\u901A\\u5E38\\u6709\\u81EA\\u5DF1\\u7684\\u5DE5\\u5177\\uFF0C\\u5176\\u7528\\u9014\\u4E0E make \\u7C7B\\u4F3C\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u8FD0\\u884C\\u6837\\u4F8B\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8FD0\\u884C\\u6837\\u4F8B\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8FD0\\u884C\\u6837\\u4F8B\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BA9\\u6211\\u4EEC\\u8FD0\\u884C\\u4E00\\u4E2A\\u6700\\u7B80\\u5355\\u7684\\u6837\\u4F8B\\uFF1A\\u65B0\\u5EFA\\u6587\\u4EF6\\u5939\\uFF0C\\u5728\\u5176\\u4E2D\\u521B\\u5EFA \",(0,n.jsx)(e.code,{children:\"Makefile\"}),\" \\u6587\\u4EF6\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u9700\\u8981\\u6CE8\\u610F\\uFF1Amakefile \\u4E2D\\u5FC5\\u987B\\u4F7F\\u7528 tab \\u8FDB\\u884C\\u7F29\\u8FDB\"})}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"hello\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello, World\"'}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8FD0\\u884C\\u7ED3\\u679C\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"$ \",(0,n.jsx)(e.span,{className:\"token function\",children:\"make\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello, World\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`Hello, World\n`})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"makefile-\\u7684\\u8BED\\u6CD5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#makefile-\\u7684\\u8BED\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Makefile \\u7684\\u8BED\\u6CD5\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Makefile \\u7531\\u4E00\\u7CFB\\u5217\\u7684 rule \\u6784\\u6210\\uFF0C\\u4E00\\u4E2A rule \\u7684\\u8303\\u5F0F\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"targets\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` prerequisites\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\tcommand\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\tcommand\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\tcommand\n`})]})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"targets\"}),\": \\u6587\\u4EF6\\u540D\\uFF0C\\u901A\\u8FC7\\u7A7A\\u683C\\u5206\\u9694\\u3002\\u901A\\u5E38\\uFF0C\\u4E00\\u4E2A rule \\u53EA\\u6709\\u4E00\\u4E2A target\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"commands\"}),\": \\u7528\\u4E8E\\u7F16\\u8BD1 targets \\u7684\\u6307\\u4EE4\\uFF0C\\u9700\\u8981\\u4F7F\\u7528 tab \\u7F29\\u8FDB\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"prerequisites\"}),': \\u4E5F\\u662F\\u6587\\u4EF6\\u540D\\uFF0C\\u4EE3\\u8868\"\\u8FD0\\u884C\\u547D\\u4EE4\\u65F6\\u7684\\u4F9D\\u8D56\\u9879\"']}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"make-\\u7684\\u672C\\u8D28\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#make-\\u7684\\u672C\\u8D28\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Make \\u7684\\u672C\\u8D28\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6765\\u770B\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"hello\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello, World\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"This line will always print, because the file hello does not exist.\"'}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BA9\\u6211\\u4EEC\\u6765\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"make\"}),\"\\u3002\\u53EA\\u8981 \",(0,n.jsx)(e.strong,{children:\"hello\"}),\" \\u4E0D\\u5B58\\u5728\\uFF0C\\u8FD9\\u4E9B command \\u5C31\\u4F1A\\u8FD0\\u884C\\uFF0C\\u53CD\\u4E4B\\u5219\\u4E0D\\u8FD0\\u884C\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9700\\u8981\\u8BA4\\u8BC6\\u5230\\u7684\\u662F\\uFF1A\",(0,n.jsx)(e.strong,{children:\"hello\"}),\" \\u540C\\u65F6\\u4EE3\\u8868\\u4E86 target hello \\u548C file hello\\uFF0C\\u8FD9\\u4E24\\u8005\\u7684\\u8054\\u7CFB\\u975E\\u5E38\\u7D27\\u5BC6\\u3002\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u7F16\\u8BD1-c-\\u6587\\u4EF6\\u793A\\u4F8B\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7F16\\u8BD1-c-\\u6587\\u4EF6\\u793A\\u4F8B\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F16\\u8BD1 C \\u6587\\u4EF6\\u793A\\u4F8B\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u521B\\u5EFA \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-c\",children:(0,n.jsxs)(e.code,{className:\"language-c code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// blah.c\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u521B\\u5EFA \",(0,n.jsx)(e.code,{children:\"Makefile\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah.c\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\tcc blah.c -o blah\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5F53\\u8FD0\\u884C make \\u65F6\\uFF0C\\u4E0B\\u9762\\u7684\\u6B65\\u9AA4\\u5C06\\u4F1A\\u88AB\\u6267\\u884C\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u7B2C\\u4E00\\u4E2A target \\u5C06\\u4F1A\\u88AB\\u9009\\u4E2D\\uFF08\\u9ED8\\u8BA4 target\\uFF09\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u68C0\\u67E5 prerequisite \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\" \\u662F\\u5426\\u5B58\\u5728\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u51B3\\u5B9A\\u662F\\u5426\\u9700\\u8981\\u8FD0\\u884C\\u6B64 target\\uFF1A\\u53EA\\u6709\\u5F53 \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\" \\u7684\\u6587\\u4EF6\\u4FEE\\u6539\\u65F6\\u95F4\\u5728 \",(0,n.jsx)(e.code,{children:\"blah\"}),\" \\u4E4B\\u540E\\u65F6\\u624D\\u4F1A\\u8FD0\\u884C\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u5C31\\u662F \",(0,n.jsx)(e.strong,{children:\"make \\u7684\\u672C\\u8D28\"}),\"\\uFF1A\\u5F53 prerequisites \\u5728\\u4E0A\\u6B21\\u7F16\\u8BD1\\u4E4B\\u540E\\u51FA\\u73B0\\u53D8\\u5316\\uFF0C\\u5C31\\u9700\\u8981\\u91CD\\u65B0\\u7F16\\u8BD1\\uFF0C\\u53CD\\u4E4B\\u5219\\u4E0D\\u9700\\u8981\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u66F4\\u591A\\u7684\\u4F8B\\u5B50\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u66F4\\u591A\\u7684\\u4F8B\\u5B50\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u66F4\\u591A\\u7684\\u4F8B\\u5B50\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E0B\\u9762\\u7684 \",(0,n.jsx)(e.code,{children:\"Makefile\"}),\" \\u6700\\u7EC8\\u8FD0\\u884C\\u4E86 3 \\u4E2A target\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah.o\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\tcc blah.o -o blah \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Runs third\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah.o\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` blah.c\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\tcc -c blah.c -o blah.o \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Runs second\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"blah.c\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"int main() { return 0; }\"'}),\" > blah.c \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# Runs first\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6267\\u884C\\u6B65\\u9AA4\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9996\\u5148\\u9009\\u62E9 \",(0,n.jsx)(e.code,{children:\"blah\"}),\" target\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"blah\"}),\" \\u9700\\u8981 \",(0,n.jsx)(e.code,{children:\"blah.o\"}),\"\\uFF0C\\u641C\\u7D22 \",(0,n.jsx)(e.code,{children:\"blah.o\"}),\" target\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"blah.o\"}),\" \\u9700\\u8981 \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\"\\uFF0C\\u641C\\u7D22 \",(0,n.jsx)(e.code,{children:\"blah.c\"}),\" target\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"blah.c\"}),\" \\u6CA1\\u6709\\u4F9D\\u8D56\\uFF0C\\u8FD0\\u884C echo\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"cc -c\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"cc\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u6700\\u7EC8\\uFF0C\",(0,n.jsx)(e.code,{children:\"blah\"}),\" \\u751F\\u6210\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"make-clean\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#make-clean\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Make Clean\"]}),`\n`,(0,n.jsx)(e.p,{children:\"clean \\u7684\\u8BED\\u6CD5\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"some_file\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch some_file\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f some_file\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"make clean\"}),\" \\u65F6\\uFF0Cclean \\u4E2D\\u7684\\u5185\\u5BB9\\u5C31\\u4F1A\\u751F\\u6548\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u53D8\\u91CF\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53D8\\u91CF\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53D8\\u91CF\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u53D8\\u91CF\\u53EA\\u80FD\\u662F strings\\uFF0C\\u4E00\\u822C\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\":=\"}),\"\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"files \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),` file1 file2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"some_file\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"files\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Look at this variable: \"'}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"files\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch some_file\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"file1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch file1\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"file2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\ttouch file2\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"clean\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\trm -f file1 file2 some_file\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5F15\\u7528\\u53D8\\u91CF\\u53EF\\u4EE5\\u4F7F\\u7528\\uFF1A\",(0,n.jsx)(e.code,{children:\"${}\"}),\" \\u6216 \",(0,n.jsx)(e.code,{children:\"$()\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-makefile\",children:(0,n.jsxs)(e.code,{className:\"language-makefile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":=\"}),` dude\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token target symbol\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\techo \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})})]})}function t(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(o,{...a})}):o(a)}return x(M);})();\n;return Component;"
    },
    "_id": "blog/Systems/makefile-intro.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/makefile-intro.md",
      "sourceFileName": "makefile-intro.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/makefile-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "4 min read",
      "minutes": 3.19,
      "time": 191400,
      "words": 638
    },
    "slug": "makefile-intro",
    "path": "blog/Systems/makefile-intro",
    "toc": [
      {
        "value": "为什么需要 Makefile",
        "url": "#为什么需要-makefile",
        "depth": 2
      },
      {
        "value": "运行样例",
        "url": "#运行样例",
        "depth": 2
      },
      {
        "value": "Makefile 的语法",
        "url": "#makefile-的语法",
        "depth": 2
      },
      {
        "value": "Make 的本质",
        "url": "#make-的本质",
        "depth": 2
      },
      {
        "value": "编译 C 文件示例",
        "url": "#编译-c-文件示例",
        "depth": 3
      },
      {
        "value": "更多的例子",
        "url": "#更多的例子",
        "depth": 2
      },
      {
        "value": "Make Clean",
        "url": "#make-clean",
        "depth": 2
      },
      {
        "value": "变量",
        "url": "#变量",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Makefile 入门指南",
      "datePublished": "2022-12-06T00:00:00.000Z",
      "dateModified": "2022-12-06T00:00:00.000Z",
      "description": "Makefile 基础教程：理解 targets、prerequisites 和 commands，掌握增量编译核心原理。",
      "url": "https://zhangjian94cn.github.io/blog/makefile-intro"
    }
  },
  {
    "title": "oneDAL 入门指南",
    "date": "2022-12-14T00:00:00.000Z",
    "tags": [
      "Intel",
      "deep-learning"
    ],
    "draft": false,
    "summary": "Intel oneDAL 高性能数据分析库入门：介绍 oneDAL 的基本概念、安装方法及示例编译运行。",
    "authors": [
      "default"
    ],
    "subtitle": "getting started",
    "body": {
      "raw": "\n> 本文是对 oneDAL 的一个简单介绍，主要参考 [onedal 官方文档](https://oneapi-src.github.io/oneDAL/index.html)\n\n## 简介\n\noneDAL 是一个高性能的数据分析库，其包含了数据分析的所有阶段（preprocessing, transformation, analysis, modeling, validation, and decision making）。oneDAL 支持批量、在线以及分布式的计算模式，主要提供两组 C++ 接口：\n\n- **oneAPI Interfaces**：基于开放的 oneDAL 规范，目前正在积极开发中，可以在各种硬件上工作\n- **DAAL Interfaces**：仅限于 CPU 的接口，提供了各种算法的实现\n\n## 安装\n\n### oneAPI\n\n安装 oneDAL 需要的 oneAPI 依赖，包括 intel-basekit intel-hpckit：\n\n```bash\napt-get install -y --no-install-recommends curl ca-certificates gpg-agent software-properties-common\n\n# download the key to system keyring\nwget -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB | \\\n  gpg --dearmor | tee /usr/share/keyrings/oneapi-archive-keyring.gpg > /dev/null\n\n# add signed entry to apt sources\necho \"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\" | \\\n  tee /etc/apt/sources.list.d/oneAPI.list\n\napt update && apt install intel-basekit intel-hpckit -y\n\necho \"source /opt/intel/oneapi/compiler/latest/env/vars.sh\" >> ~/.bashrc\necho \"source /opt/intel/oneapi/tbb/latest/env/vars.sh\" >> ~/.bashrc\nsource ~/.bashrc\n```\n\n### oneDAL\n\n如果想从源码编译 oneDAL，官网提供了在不同系统环境下的 [安装教程](https://github.com/oneapi-src/oneDAL/blob/master/INSTALL.md)\n\n## 例程\n\n### 编译运行\n\noneDAL 提供了两种方式编译 example：使用 cmake 或者 make。\n\n#### 使用 make\n\n如果你已经添加了 tbb、icc 等的环境变量，可以直接 make 得到可执行文件：\n\n```bash\nsource /opt/intel/oneapi/compiler/latest/env/vars.sh\nsource /opt/intel/oneapi/tbb/latest/env/vars.sh\n```\n\n#### 使用 cmake\n\n在使用 cmake 前，先设置 cmake 使用的编译器，在 CMakeLists.txt 下添加：\n\n```cmake\nSET(CMAKE_C_COMPILER \"icc\")\nSET(CMAKE_CXX_COMPILER \"icpc\")\n```\n\n使用如下命令进行编译：\n\n```bash\ncd <onedal_dir>/__release_lnx/daal/latest/examples/daal/cpp\nmkdir build && cd build\ncmake .. -DEXAMPLES_LIST=gbt_cls_dense_batch\nmake -j$(nproc)\n```\n\n这样你就会在 `_cmake_results/` 下获得可执行文件。\n\n## 结语\n\n本文带您了解了 oneDAL 的基本概念，并使用一个简单的示例进行编译和运行。然而，真正有趣的部分在于 oneDAL 的内部实现技巧和思想，敬请期待后续内容。\n",
      "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var s in e)l(a,s,{get:e[s],enumerable:!0})},r=(a,e,s,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of N(e))!u.call(a,c)&&c!==s&&l(a,c,{get:()=>e[c],enumerable:!(i=m(e,c))||i.enumerable});return a};var f=(a,e,s)=>(s=a!=null?p(k(a)):{},r(e||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),A=a=>r(l({},\"__esModule\",{value:!0}),a);var o=g((v,t)=>{t.exports=_jsx_runtime});var x={};b(x,{default:()=>h,frontmatter:()=>L});var n=f(o()),L={title:\"oneDAL \\u5165\\u95E8\\u6307\\u5357\",date:\"2022-12-14\",tags:[\"Intel\",\"deep-learning\"],draft:!1,subtitle:\"getting started\",summary:\"Intel oneDAL \\u9AD8\\u6027\\u80FD\\u6570\\u636E\\u5206\\u6790\\u5E93\\u5165\\u95E8\\uFF1A\\u4ECB\\u7ECD oneDAL \\u7684\\u57FA\\u672C\\u6982\\u5FF5\\u3001\\u5B89\\u88C5\\u65B9\\u6CD5\\u53CA\\u793A\\u4F8B\\u7F16\\u8BD1\\u8FD0\\u884C\\u3002\",authors:[\"default\"]};function d(a){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u662F\\u5BF9 oneDAL \\u7684\\u4E00\\u4E2A\\u7B80\\u5355\\u4ECB\\u7ECD\\uFF0C\\u4E3B\\u8981\\u53C2\\u8003 \",(0,n.jsx)(e.a,{href:\"https://oneapi-src.github.io/oneDAL/index.html\",children:\"onedal \\u5B98\\u65B9\\u6587\\u6863\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,n.jsx)(e.p,{children:\"oneDAL \\u662F\\u4E00\\u4E2A\\u9AD8\\u6027\\u80FD\\u7684\\u6570\\u636E\\u5206\\u6790\\u5E93\\uFF0C\\u5176\\u5305\\u542B\\u4E86\\u6570\\u636E\\u5206\\u6790\\u7684\\u6240\\u6709\\u9636\\u6BB5\\uFF08preprocessing, transformation, analysis, modeling, validation, and decision making\\uFF09\\u3002oneDAL \\u652F\\u6301\\u6279\\u91CF\\u3001\\u5728\\u7EBF\\u4EE5\\u53CA\\u5206\\u5E03\\u5F0F\\u7684\\u8BA1\\u7B97\\u6A21\\u5F0F\\uFF0C\\u4E3B\\u8981\\u63D0\\u4F9B\\u4E24\\u7EC4 C++ \\u63A5\\u53E3\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"oneAPI Interfaces\"}),\"\\uFF1A\\u57FA\\u4E8E\\u5F00\\u653E\\u7684 oneDAL \\u89C4\\u8303\\uFF0C\\u76EE\\u524D\\u6B63\\u5728\\u79EF\\u6781\\u5F00\\u53D1\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u5728\\u5404\\u79CD\\u786C\\u4EF6\\u4E0A\\u5DE5\\u4F5C\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"DAAL Interfaces\"}),\"\\uFF1A\\u4EC5\\u9650\\u4E8E CPU \\u7684\\u63A5\\u53E3\\uFF0C\\u63D0\\u4F9B\\u4E86\\u5404\\u79CD\\u7B97\\u6CD5\\u7684\\u5B9E\\u73B0\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u5B89\\u88C5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B89\\u88C5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"oneapi\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#oneapi\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"oneAPI\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5B89\\u88C5 oneDAL \\u9700\\u8981\\u7684 oneAPI \\u4F9D\\u8D56\\uFF0C\\u5305\\u62EC intel-basekit intel-hpckit\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt-get\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),\" --no-install-recommends \",(0,n.jsx)(e.span,{className:\"token function\",children:\"curl\"}),` ca-certificates gpg-agent software-properties-common\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# download the key to system keyring\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"wget\"}),\" -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gpg \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--dearmor\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),\" /usr/share/keyrings/oneapi-archive-keyring.gpg \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),` /dev/null\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# add signed entry to apt sources\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),` /etc/apt/sources.list.d/oneAPI.list\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" update \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" intel-basekit intel-hpckit \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"source /opt/intel/oneapi/compiler/latest/env/vars.sh\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>\"}),` ~/.bashrc\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"source /opt/intel/oneapi/tbb/latest/env/vars.sh\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>\"}),` ~/.bashrc\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` ~/.bashrc\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"onedal\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#onedal\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"oneDAL\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u60F3\\u4ECE\\u6E90\\u7801\\u7F16\\u8BD1 oneDAL\\uFF0C\\u5B98\\u7F51\\u63D0\\u4F9B\\u4E86\\u5728\\u4E0D\\u540C\\u7CFB\\u7EDF\\u73AF\\u5883\\u4E0B\\u7684 \",(0,n.jsx)(e.a,{href:\"https://github.com/oneapi-src/oneDAL/blob/master/INSTALL.md\",children:\"\\u5B89\\u88C5\\u6559\\u7A0B\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u4F8B\\u7A0B\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F8B\\u7A0B\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F8B\\u7A0B\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"\\u7F16\\u8BD1\\u8FD0\\u884C\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7F16\\u8BD1\\u8FD0\\u884C\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F16\\u8BD1\\u8FD0\\u884C\"]}),`\n`,(0,n.jsx)(e.p,{children:\"oneDAL \\u63D0\\u4F9B\\u4E86\\u4E24\\u79CD\\u65B9\\u5F0F\\u7F16\\u8BD1 example\\uFF1A\\u4F7F\\u7528 cmake \\u6216\\u8005 make\\u3002\"}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u4F7F\\u7528-make\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F7F\\u7528-make\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528 make\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u679C\\u4F60\\u5DF2\\u7ECF\\u6DFB\\u52A0\\u4E86 tbb\\u3001icc \\u7B49\\u7684\\u73AF\\u5883\\u53D8\\u91CF\\uFF0C\\u53EF\\u4EE5\\u76F4\\u63A5 make \\u5F97\\u5230\\u53EF\\u6267\\u884C\\u6587\\u4EF6\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` /opt/intel/oneapi/compiler/latest/env/vars.sh\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"source\"}),` /opt/intel/oneapi/tbb/latest/env/vars.sh\n`]})]})}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u4F7F\\u7528-cmake\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F7F\\u7528-cmake\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528 cmake\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u4F7F\\u7528 cmake \\u524D\\uFF0C\\u5148\\u8BBE\\u7F6E cmake \\u4F7F\\u7528\\u7684\\u7F16\\u8BD1\\u5668\\uFF0C\\u5728 CMakeLists.txt \\u4E0B\\u6DFB\\u52A0\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-cmake\",children:(0,n.jsxs)(e.code,{className:\"language-cmake code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"SET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"CMAKE_C_COMPILER\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"icc\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"SET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"CMAKE_CXX_COMPILER\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"icpc\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528\\u5982\\u4E0B\\u547D\\u4EE4\\u8FDB\\u884C\\u7F16\\u8BD1\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"cd\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"onedal_dir\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`/__release_lnx/daal/latest/examples/daal/cpp\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"mkdir\"}),\" build \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"cd\"}),` build\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"cmake \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"..\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-DEXAMPLES_LIST\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`gbt_cls_dense_batch\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"make\"}),\" -j\",(0,n.jsxs)(e.span,{className:\"token variable\",children:[(0,n.jsx)(e.span,{className:\"token variable\",children:\"$(\"}),\"nproc\",(0,n.jsx)(e.span,{className:\"token variable\",children:\")\"})]}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u6837\\u4F60\\u5C31\\u4F1A\\u5728 \",(0,n.jsx)(e.code,{children:\"_cmake_results/\"}),\" \\u4E0B\\u83B7\\u5F97\\u53EF\\u6267\\u884C\\u6587\\u4EF6\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u672C\\u6587\\u5E26\\u60A8\\u4E86\\u89E3\\u4E86 oneDAL \\u7684\\u57FA\\u672C\\u6982\\u5FF5\\uFF0C\\u5E76\\u4F7F\\u7528\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u793A\\u4F8B\\u8FDB\\u884C\\u7F16\\u8BD1\\u548C\\u8FD0\\u884C\\u3002\\u7136\\u800C\\uFF0C\\u771F\\u6B63\\u6709\\u8DA3\\u7684\\u90E8\\u5206\\u5728\\u4E8E oneDAL \\u7684\\u5185\\u90E8\\u5B9E\\u73B0\\u6280\\u5DE7\\u548C\\u601D\\u60F3\\uFF0C\\u656C\\u8BF7\\u671F\\u5F85\\u540E\\u7EED\\u5185\\u5BB9\\u3002\"})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return A(x);})();\n;return Component;"
    },
    "_id": "blog/Systems/onedal-intro.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/onedal-intro.md",
      "sourceFileName": "onedal-intro.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/onedal-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "3 min read",
      "minutes": 2.185,
      "time": 131100,
      "words": 437
    },
    "slug": "onedal-intro",
    "path": "blog/Systems/onedal-intro",
    "toc": [
      {
        "value": "简介",
        "url": "#简介",
        "depth": 2
      },
      {
        "value": "安装",
        "url": "#安装",
        "depth": 2
      },
      {
        "value": "oneAPI",
        "url": "#oneapi",
        "depth": 3
      },
      {
        "value": "oneDAL",
        "url": "#onedal",
        "depth": 3
      },
      {
        "value": "例程",
        "url": "#例程",
        "depth": 2
      },
      {
        "value": "编译运行",
        "url": "#编译运行",
        "depth": 3
      },
      {
        "value": "使用 make",
        "url": "#使用-make",
        "depth": 4
      },
      {
        "value": "使用 cmake",
        "url": "#使用-cmake",
        "depth": 4
      },
      {
        "value": "结语",
        "url": "#结语",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "oneDAL 入门指南",
      "datePublished": "2022-12-14T00:00:00.000Z",
      "dateModified": "2022-12-14T00:00:00.000Z",
      "description": "Intel oneDAL 高性能数据分析库入门：介绍 oneDAL 的基本概念、安装方法及示例编译运行。",
      "url": "https://zhangjian94cn.github.io/blog/onedal-intro"
    }
  },
  {
    "title": "SSH Connect Docker Container",
    "date": "2022-12-08T00:00:00.000Z",
    "tags": [
      "dev-tools"
    ],
    "draft": false,
    "summary": "SSH Connect Docker Container",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 简介\n\n使用ssh直接连接到docker的容器中是一件很有价值的事情，例如你在部署vscode远程服务时，可以在保证容器与宿主机环境隔离同时，使得vscode对容器的存在完全无感。接下来，我们简单介绍下如何实现ssh直连docker容器。\n\n## 方法\n\n如何实现ssh连接container？其步骤主要可以分为：获取宿主机IP，安装docker，运行容器（设置端口转发，容器自启动），在容器中安装ssh服务。\n\n#### 宿主机IP\n\n首先，你需要知道运行docker服务的IP地址，如果你没有公网IP（公有云服务器，腾讯云、阿里云都会提供），可以自己搭建一个设备的局域网（可使用zerotier）。\n\n#### docker安装\n\n**安装步骤如下：**\n\n1. 首先根据自己的系统选择对应的安装方式，[官方安装的教程](https://docs.docker.com/engine/install/)。\n\n2. 如果需要安装支持nvidia显卡的docker，还需要参考[nvidia的官方教程](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html)：\n\n3. 设置非root账号不用sudo直接执行docker命令，[参考blog](https://blog.csdn.net/boling_cavalry/article/details/106590784)\n\n   ```bash\n   # 创建名为docker的组\n   sudo groupadd docker\n   # 将当前用户加入组docker\n   sudo gpasswd -a ${USER} docker\n   # 重启docker服务(生产环境请慎用)：\n   sudo systemctl restart docker\n   # 添加访问和执行权限：\n   sudo chmod a+rw /var/run/docker.sock\n   ```\n\n#### 运行容器\n\n在运行容器之前，你需要想好：\n\n1. 选用什么样的docker image，容器名称是什么。例如，这里使用的是：`ubuntu:22.04`，容器名称：`ssh-container`\n2. 使用宿主机的什么端口，来转发容器的22端口。例如，这里使用50001端口\n3. 容器目录的映射，`-v 宿主机目录:容器目录`。例如，这里挂载服务器的`/home/zhangjian`目录到容器的`/workspace`目录\n\n操作步骤如下：\n\n1. 首先，创建Dockerfile，其内容为：\n\n   ```dockerfile\n   FROM ubuntu:22.04\n   RUN apt-get update --fix-missing && apt-get install openssh-server sudo -y\n   ENTRYPOINT service ssh restar && bash\n   ```\n\n2. 生成对应image\n\n   ```bash\n   docker build . -t ssh-image\n   ```\n\n3. 生成容器的具体的命令如下（如果其中还有一些参数让你感到困惑，你可以参考[docker run doc](https://docs.docker.com/engine/reference/commandline/run/)\n\n   ```bash\n   docker run -itd -p 50001:22 --name=\"ssh-container\"  -v /home/zhangjian:/workspace ssh-image /bin/bash\n   ```\n\n#### 设置容器自启动\n\n将正在运行的容器设为自启动\n\n```bash\n# docker update --restart=always 容器名或容器ID\ndocker update --restart=always <CONTAINER ID>\n```\n\n将自启动的容器取消自启动\n\n```bash\n# docker update --restart=no 容器名或容器ID\ndocker update --restart=no <CONTAINER ID>\n```\n\n#### 配置容器\n\n设置登录用户\n\n```bash\n# 添加登录用户：zhangjian\nadduser zhangjian\n# 添加sudo权限\napt install sudo && usermod -aG sudo zhangjian\n```\n\n如此，你就可以使用ssh命令直接连接container了：\n\n```bash\nssh zhangjian@<your IP> -p 50001\n```\n\n## 结语\n\n至此，我们获得了一个相对完整的ssh直连容器的方案。但是更进一步，如何避免端口转发，指定容器的资源使用等等，有机会再进行分享:)\n",
      "code": "var Component=(()=>{var m=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var c in e)l(a,c,{get:e[c],enumerable:!0})},i=(a,e,c,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of N(e))!u.call(a,s)&&s!==c&&l(a,s,{get:()=>e[s],enumerable:!(r=p(e,s))||r.enumerable});return a};var f=(a,e,c)=>(c=a!=null?m(k(a)):{},i(e||!a||!a.__esModule?l(c,\"default\",{value:a,enumerable:!0}):c,a)),v=a=>i(l({},\"__esModule\",{value:!0}),a);var o=g((y,d)=>{d.exports=_jsx_runtime});var x={};b(x,{default:()=>t,frontmatter:()=>I});var n=f(o()),I={title:\"SSH Connect Docker Container\",date:\"2022-12-08\",tags:[\"dev-tools\"],draft:!1,summary:\"SSH Connect Docker Container\",authors:[\"default\"]};function h(a){let e={a:\"a\",code:\"code\",h2:\"h2\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4F7F\\u7528ssh\\u76F4\\u63A5\\u8FDE\\u63A5\\u5230docker\\u7684\\u5BB9\\u5668\\u4E2D\\u662F\\u4E00\\u4EF6\\u5F88\\u6709\\u4EF7\\u503C\\u7684\\u4E8B\\u60C5\\uFF0C\\u4F8B\\u5982\\u4F60\\u5728\\u90E8\\u7F72vscode\\u8FDC\\u7A0B\\u670D\\u52A1\\u65F6\\uFF0C\\u53EF\\u4EE5\\u5728\\u4FDD\\u8BC1\\u5BB9\\u5668\\u4E0E\\u5BBF\\u4E3B\\u673A\\u73AF\\u5883\\u9694\\u79BB\\u540C\\u65F6\\uFF0C\\u4F7F\\u5F97vscode\\u5BF9\\u5BB9\\u5668\\u7684\\u5B58\\u5728\\u5B8C\\u5168\\u65E0\\u611F\\u3002\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u7B80\\u5355\\u4ECB\\u7ECD\\u4E0B\\u5982\\u4F55\\u5B9E\\u73B0ssh\\u76F4\\u8FDEdocker\\u5BB9\\u5668\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u65B9\\u6CD5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u65B9\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65B9\\u6CD5\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u4F55\\u5B9E\\u73B0ssh\\u8FDE\\u63A5container\\uFF1F\\u5176\\u6B65\\u9AA4\\u4E3B\\u8981\\u53EF\\u4EE5\\u5206\\u4E3A\\uFF1A\\u83B7\\u53D6\\u5BBF\\u4E3B\\u673AIP\\uFF0C\\u5B89\\u88C5docker\\uFF0C\\u8FD0\\u884C\\u5BB9\\u5668\\uFF08\\u8BBE\\u7F6E\\u7AEF\\u53E3\\u8F6C\\u53D1\\uFF0C\\u5BB9\\u5668\\u81EA\\u542F\\u52A8\\uFF09\\uFF0C\\u5728\\u5BB9\\u5668\\u4E2D\\u5B89\\u88C5ssh\\u670D\\u52A1\\u3002\"}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u5BBF\\u4E3B\\u673Aip\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5BBF\\u4E3B\\u673Aip\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5BBF\\u4E3B\\u673AIP\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u9996\\u5148\\uFF0C\\u4F60\\u9700\\u8981\\u77E5\\u9053\\u8FD0\\u884Cdocker\\u670D\\u52A1\\u7684IP\\u5730\\u5740\\uFF0C\\u5982\\u679C\\u4F60\\u6CA1\\u6709\\u516C\\u7F51IP\\uFF08\\u516C\\u6709\\u4E91\\u670D\\u52A1\\u5668\\uFF0C\\u817E\\u8BAF\\u4E91\\u3001\\u963F\\u91CC\\u4E91\\u90FD\\u4F1A\\u63D0\\u4F9B\\uFF09\\uFF0C\\u53EF\\u4EE5\\u81EA\\u5DF1\\u642D\\u5EFA\\u4E00\\u4E2A\\u8BBE\\u5907\\u7684\\u5C40\\u57DF\\u7F51\\uFF08\\u53EF\\u4F7F\\u7528zerotier\\uFF09\\u3002\"}),`\n`,(0,n.jsxs)(e.h4,{id:\"docker\\u5B89\\u88C5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#docker\\u5B89\\u88C5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"docker\\u5B89\\u88C5\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u5B89\\u88C5\\u6B65\\u9AA4\\u5982\\u4E0B\\uFF1A\"})}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\u6839\\u636E\\u81EA\\u5DF1\\u7684\\u7CFB\\u7EDF\\u9009\\u62E9\\u5BF9\\u5E94\\u7684\\u5B89\\u88C5\\u65B9\\u5F0F\\uFF0C\",(0,n.jsx)(e.a,{href:\"https://docs.docker.com/engine/install/\",children:\"\\u5B98\\u65B9\\u5B89\\u88C5\\u7684\\u6559\\u7A0B\"}),\"\\u3002\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u9700\\u8981\\u5B89\\u88C5\\u652F\\u6301nvidia\\u663E\\u5361\\u7684docker\\uFF0C\\u8FD8\\u9700\\u8981\\u53C2\\u8003\",(0,n.jsx)(e.a,{href:\"https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html\",children:\"nvidia\\u7684\\u5B98\\u65B9\\u6559\\u7A0B\"}),\"\\uFF1A\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8BBE\\u7F6E\\u975Eroot\\u8D26\\u53F7\\u4E0D\\u7528sudo\\u76F4\\u63A5\\u6267\\u884Cdocker\\u547D\\u4EE4\\uFF0C\",(0,n.jsx)(e.a,{href:\"https://blog.csdn.net/boling_cavalry/article/details/106590784\",children:\"\\u53C2\\u8003blog\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u521B\\u5EFA\\u540D\\u4E3Adocker\\u7684\\u7EC4\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"groupadd\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u5C06\\u5F53\\u524D\\u7528\\u6237\\u52A0\\u5165\\u7EC4docker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" gpasswd \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-a\"}),\" \",(0,n.jsxs)(e.span,{className:\"token variable\",children:[\"${\",(0,n.jsx)(e.span,{className:\"token environment constant\",children:\"USER\"}),\"}\"]}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u91CD\\u542Fdocker\\u670D\\u52A1(\\u751F\\u4EA7\\u73AF\\u5883\\u8BF7\\u614E\\u7528)\\uFF1A\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" systemctl restart \",(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u6DFB\\u52A0\\u8BBF\\u95EE\\u548C\\u6267\\u884C\\u6743\\u9650\\uFF1A\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"chmod\"}),` a+rw /var/run/docker.sock\n`]})]})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u8FD0\\u884C\\u5BB9\\u5668\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8FD0\\u884C\\u5BB9\\u5668\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8FD0\\u884C\\u5BB9\\u5668\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5728\\u8FD0\\u884C\\u5BB9\\u5668\\u4E4B\\u524D\\uFF0C\\u4F60\\u9700\\u8981\\u60F3\\u597D\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u9009\\u7528\\u4EC0\\u4E48\\u6837\\u7684docker image\\uFF0C\\u5BB9\\u5668\\u540D\\u79F0\\u662F\\u4EC0\\u4E48\\u3002\\u4F8B\\u5982\\uFF0C\\u8FD9\\u91CC\\u4F7F\\u7528\\u7684\\u662F\\uFF1A\",(0,n.jsx)(e.code,{children:\"ubuntu:22.04\"}),\"\\uFF0C\\u5BB9\\u5668\\u540D\\u79F0\\uFF1A\",(0,n.jsx)(e.code,{children:\"ssh-container\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u4F7F\\u7528\\u5BBF\\u4E3B\\u673A\\u7684\\u4EC0\\u4E48\\u7AEF\\u53E3\\uFF0C\\u6765\\u8F6C\\u53D1\\u5BB9\\u5668\\u768422\\u7AEF\\u53E3\\u3002\\u4F8B\\u5982\\uFF0C\\u8FD9\\u91CC\\u4F7F\\u752850001\\u7AEF\\u53E3\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5BB9\\u5668\\u76EE\\u5F55\\u7684\\u6620\\u5C04\\uFF0C\",(0,n.jsx)(e.code,{children:\"-v \\u5BBF\\u4E3B\\u673A\\u76EE\\u5F55:\\u5BB9\\u5668\\u76EE\\u5F55\"}),\"\\u3002\\u4F8B\\u5982\\uFF0C\\u8FD9\\u91CC\\u6302\\u8F7D\\u670D\\u52A1\\u5668\\u7684\",(0,n.jsx)(e.code,{children:\"/home/zhangjian\"}),\"\\u76EE\\u5F55\\u5230\\u5BB9\\u5668\\u7684\",(0,n.jsx)(e.code,{children:\"/workspace\"}),\"\\u76EE\\u5F55\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u64CD\\u4F5C\\u6B65\\u9AA4\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u9996\\u5148\\uFF0C\\u521B\\u5EFADockerfile\\uFF0C\\u5176\\u5185\\u5BB9\\u4E3A\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-dockerfile\",children:(0,n.jsxs)(e.code,{className:\"language-dockerfile code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"FROM\"}),\" ubuntu:22.04\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"RUN\"}),\" apt-get update --fix-missing && apt-get install openssh-server sudo -y\"]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token instruction\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"ENTRYPOINT\"}),\" service ssh restar && bash\"]}),`\n`]})]})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\u751F\\u6210\\u5BF9\\u5E94image\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),\" build \",(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-t\"}),` ssh-image\n`]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\u751F\\u6210\\u5BB9\\u5668\\u7684\\u5177\\u4F53\\u7684\\u547D\\u4EE4\\u5982\\u4E0B\\uFF08\\u5982\\u679C\\u5176\\u4E2D\\u8FD8\\u6709\\u4E00\\u4E9B\\u53C2\\u6570\\u8BA9\\u4F60\\u611F\\u5230\\u56F0\\u60D1\\uFF0C\\u4F60\\u53EF\\u4EE5\\u53C2\\u8003\",(0,n.jsx)(e.a,{href:\"https://docs.docker.com/engine/reference/commandline/run/\",children:\"docker run doc\"})]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),\" run \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-itd\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-p\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50001\"}),\":22 \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--name\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"ssh-container\"'}),\"  \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-v\"}),` /home/zhangjian:/workspace ssh-image /bin/bash\n`]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u8BBE\\u7F6E\\u5BB9\\u5668\\u81EA\\u542F\\u52A8\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u8BBE\\u7F6E\\u5BB9\\u5668\\u81EA\\u542F\\u52A8\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u8BBE\\u7F6E\\u5BB9\\u5668\\u81EA\\u542F\\u52A8\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C06\\u6B63\\u5728\\u8FD0\\u884C\\u7684\\u5BB9\\u5668\\u8BBE\\u4E3A\\u81EA\\u542F\\u52A8\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# docker update --restart=always \\u5BB9\\u5668\\u540D\\u6216\\u5BB9\\u5668ID\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),\" update \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--restart\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"always \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"CONTAINER ID\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5C06\\u81EA\\u542F\\u52A8\\u7684\\u5BB9\\u5668\\u53D6\\u6D88\\u81EA\\u542F\\u52A8\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# docker update --restart=no \\u5BB9\\u5668\\u540D\\u6216\\u5BB9\\u5668ID\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"docker\"}),\" update \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--restart\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"no \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"CONTAINER ID\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h4,{id:\"\\u914D\\u7F6E\\u5BB9\\u5668\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u914D\\u7F6E\\u5BB9\\u5668\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\\u5BB9\\u5668\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u8BBE\\u7F6E\\u767B\\u5F55\\u7528\\u6237\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u6DFB\\u52A0\\u767B\\u5F55\\u7528\\u6237\\uFF1Azhangjian\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`adduser zhangjian\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# \\u6DFB\\u52A0sudo\\u6743\\u9650\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"usermod\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-aG\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"sudo\"}),` zhangjian\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5982\\u6B64\\uFF0C\\u4F60\\u5C31\\u53EF\\u4EE5\\u4F7F\\u7528ssh\\u547D\\u4EE4\\u76F4\\u63A5\\u8FDE\\u63A5container\\u4E86\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"ssh\"}),\" zhangjian@\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"your IP\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-p\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50001\"}),`\n`]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u81F3\\u6B64\\uFF0C\\u6211\\u4EEC\\u83B7\\u5F97\\u4E86\\u4E00\\u4E2A\\u76F8\\u5BF9\\u5B8C\\u6574\\u7684ssh\\u76F4\\u8FDE\\u5BB9\\u5668\\u7684\\u65B9\\u6848\\u3002\\u4F46\\u662F\\u66F4\\u8FDB\\u4E00\\u6B65\\uFF0C\\u5982\\u4F55\\u907F\\u514D\\u7AEF\\u53E3\\u8F6C\\u53D1\\uFF0C\\u6307\\u5B9A\\u5BB9\\u5668\\u7684\\u8D44\\u6E90\\u4F7F\\u7528\\u7B49\\u7B49\\uFF0C\\u6709\\u673A\\u4F1A\\u518D\\u8FDB\\u884C\\u5206\\u4EAB:)\"})]})}function t(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(h,{...a})}):h(a)}return v(x);})();\n;return Component;"
    },
    "_id": "blog/Systems/ssh-connect-container.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/ssh-connect-container.md",
      "sourceFileName": "ssh-connect-container.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/ssh-connect-container"
    },
    "type": "Blog",
    "readingTime": {
      "text": "4 min read",
      "minutes": 3.72,
      "time": 223200,
      "words": 744
    },
    "slug": "ssh-connect-container",
    "path": "blog/Systems/ssh-connect-container",
    "toc": [
      {
        "value": "简介",
        "url": "#简介",
        "depth": 2
      },
      {
        "value": "方法",
        "url": "#方法",
        "depth": 2
      },
      {
        "value": "宿主机IP",
        "url": "#宿主机ip",
        "depth": 4
      },
      {
        "value": "docker安装",
        "url": "#docker安装",
        "depth": 4
      },
      {
        "value": "运行容器",
        "url": "#运行容器",
        "depth": 4
      },
      {
        "value": "设置容器自启动",
        "url": "#设置容器自启动",
        "depth": 4
      },
      {
        "value": "配置容器",
        "url": "#配置容器",
        "depth": 4
      },
      {
        "value": "结语",
        "url": "#结语",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "SSH Connect Docker Container",
      "datePublished": "2022-12-08T00:00:00.000Z",
      "dateModified": "2022-12-08T00:00:00.000Z",
      "description": "SSH Connect Docker Container",
      "url": "https://zhangjian94cn.github.io/blog/ssh-connect-container"
    }
  },
  {
    "title": "TBB 入门教程",
    "date": "2022-11-22T00:00:00.000Z",
    "tags": [
      "HPC",
      "C++"
    ],
    "draft": false,
    "summary": "Intel oneTBB 入门：介绍 TBB 的优势、安装方法及简单的 parallel_for 使用示例。",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 简介\n\n### oneTBB 的优势\n\n1. oneTBB enables you to specify logical paralleism instead of threads.\n2. oneTBB targets threading for performance.\n3. oneTBB is compatible with other threading packages.\n4. oneTBB emphasizes scalable, data parallel programming.\n5. oneTBB relies on generic programming.\n\n### 并行开发中的常见问题\n\n几种在并行开发中常见的问题：\n\n1. Interface correspondence to specification\n2. Memory errors\n3. Data race\n4. Race conditions and deadlocks\n\n其中比较复杂的是：Race conditions 和 deadlocks。可以使用下面的测试方法：\n\n1. **Unit tests**：能力有限但基础重要\n2. **Integration tests**：组合多种功能模拟用户场景\n3. **Stress testing**：确保很少触发的错误条件也能被捕获\n\n## 安装\n\n```bash\n# Clone oneTBB repository\ngit clone https://github.com/oneapi-src/oneTBB.git\ncd oneTBB\n\n# Create binary directory for out-of-source build\nmkdir build && cd build\n\n# Configure and build\ncmake .. && make -j$(nproc)\nsudo make install\n```\n\n## 使用示例\n\n```cpp\n#include <tbb/tbb.h>\n#include <cstdio>\n\nusing namespace tbb;\n\nint main()\n{\n    tick_count t0 = tick_count::now();\n    parallel_for(0, 100, 1, [](int i) {\n        printf(\"hello tbb %d \\n\", i);\n    });\n    tick_count t1 = tick_count::now();\n\n    printf(\"use time %f \\n\", (t1-t0).seconds());\n\n    return 0;\n}\n```\n\n**CMakeLists.txt**\n\n```cmake\ncmake_minimum_required(VERSION 3.1)\n\nproject(TEST)\nfind_package(TBB REQUIRED)\nadd_executable(TEST_tbb test_tbb.cpp)\ntarget_link_libraries(TEST_tbb TBB::tbb)\n```\n\n## 参考\n\n- [oneTBB 官方文档](https://oneapi-src.github.io/oneTBB/)\n- [oneTBB 安装指南](https://github.com/oneapi-src/oneTBB/blob/master/INSTALL.md)\n- [oneTBB Developer Guide](https://oneapi-src.github.io/oneTBB/main/tbb_userguide/title.html)\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var b=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},t=(a,n,s,i)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(i=m(n,c))||i.enumerable});return a};var f=(a,n,s)=>(s=a!=null?h(N(a)):{},t(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),B=a=>t(l({},\"__esModule\",{value:!0}),a);var r=b((x,o)=>{o.exports=_jsx_runtime});var y={};g(y,{default:()=>p,frontmatter:()=>T});var e=f(r()),T={title:\"TBB \\u5165\\u95E8\\u6559\\u7A0B\",date:\"2022-11-22\",tags:[\"HPC\",\"C++\"],draft:!1,summary:\"Intel oneTBB \\u5165\\u95E8\\uFF1A\\u4ECB\\u7ECD TBB \\u7684\\u4F18\\u52BF\\u3001\\u5B89\\u88C5\\u65B9\\u6CD5\\u53CA\\u7B80\\u5355\\u7684 parallel_for \\u4F7F\\u7528\\u793A\\u4F8B\\u3002\",authors:[\"default\"]};function d(a){let n={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"onetbb-\\u7684\\u4F18\\u52BF\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#onetbb-\\u7684\\u4F18\\u52BF\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"oneTBB \\u7684\\u4F18\\u52BF\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"oneTBB enables you to specify logical paralleism instead of threads.\"}),`\n`,(0,e.jsx)(n.li,{children:\"oneTBB targets threading for performance.\"}),`\n`,(0,e.jsx)(n.li,{children:\"oneTBB is compatible with other threading packages.\"}),`\n`,(0,e.jsx)(n.li,{children:\"oneTBB emphasizes scalable, data parallel programming.\"}),`\n`,(0,e.jsx)(n.li,{children:\"oneTBB relies on generic programming.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5E76\\u884C\\u5F00\\u53D1\\u4E2D\\u7684\\u5E38\\u89C1\\u95EE\\u9898\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5E76\\u884C\\u5F00\\u53D1\\u4E2D\\u7684\\u5E38\\u89C1\\u95EE\\u9898\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5E76\\u884C\\u5F00\\u53D1\\u4E2D\\u7684\\u5E38\\u89C1\\u95EE\\u9898\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u51E0\\u79CD\\u5728\\u5E76\\u884C\\u5F00\\u53D1\\u4E2D\\u5E38\\u89C1\\u7684\\u95EE\\u9898\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Interface correspondence to specification\"}),`\n`,(0,e.jsx)(n.li,{children:\"Memory errors\"}),`\n`,(0,e.jsx)(n.li,{children:\"Data race\"}),`\n`,(0,e.jsx)(n.li,{children:\"Race conditions and deadlocks\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5176\\u4E2D\\u6BD4\\u8F83\\u590D\\u6742\\u7684\\u662F\\uFF1ARace conditions \\u548C deadlocks\\u3002\\u53EF\\u4EE5\\u4F7F\\u7528\\u4E0B\\u9762\\u7684\\u6D4B\\u8BD5\\u65B9\\u6CD5\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Unit tests\"}),\"\\uFF1A\\u80FD\\u529B\\u6709\\u9650\\u4F46\\u57FA\\u7840\\u91CD\\u8981\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Integration tests\"}),\"\\uFF1A\\u7EC4\\u5408\\u591A\\u79CD\\u529F\\u80FD\\u6A21\\u62DF\\u7528\\u6237\\u573A\\u666F\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Stress testing\"}),\"\\uFF1A\\u786E\\u4FDD\\u5F88\\u5C11\\u89E6\\u53D1\\u7684\\u9519\\u8BEF\\u6761\\u4EF6\\u4E5F\\u80FD\\u88AB\\u6355\\u83B7\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u5B89\\u88C5\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B89\\u88C5\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Clone oneTBB repository\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"git\"}),` clone https://github.com/oneapi-src/oneTBB.git\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"cd\"}),` oneTBB\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Create binary directory for out-of-source build\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"mkdir\"}),\" build \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"cd\"}),` build\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Configure and build\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"cmake \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"make\"}),\" -j\",(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$(\"}),\"nproc\",(0,e.jsx)(n.span,{className:\"token variable\",children:\")\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"make\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"install\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u4F7F\\u7528\\u793A\\u4F8B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u4F7F\\u7528\\u793A\\u4F8B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528\\u793A\\u4F8B\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token macro property\",children:[(0,e.jsx)(n.span,{className:\"token directive-hash\",children:\"#\"}),(0,e.jsx)(n.span,{className:\"token directive keyword\",children:\"include\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"<tbb/tbb.h>\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token macro property\",children:[(0,e.jsx)(n.span,{className:\"token directive-hash\",children:\"#\"}),(0,e.jsx)(n.span,{className:\"token directive keyword\",children:\"include\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"<cstdio>\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"using\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"namespace\"}),\" tbb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"main\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tick_count t0 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" tick_count\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"now\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"parallel_for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"100\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token function\",children:\"printf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"hello tbb %d \\\\n\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tick_count t1 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" tick_count\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"now\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"printf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"use time %f \\\\n\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"t1\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"t0\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"seconds\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"CMakeLists.txt\"})}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cmake\",children:(0,e.jsxs)(n.code,{className:\"language-cmake code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"cmake_minimum_required\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"VERSION\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3.1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"project\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TEST\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"find_package\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TBB REQUIRED\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"add_executable\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TEST_tbb test_tbb.cpp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"target_link_libraries\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TEST_tbb \",(0,e.jsx)(n.span,{className:\"token inserted class-name\",children:\"TBB::tbb\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u53C2\\u8003\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://oneapi-src.github.io/oneTBB/\",children:\"oneTBB \\u5B98\\u65B9\\u6587\\u6863\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://github.com/oneapi-src/oneTBB/blob/master/INSTALL.md\",children:\"oneTBB \\u5B89\\u88C5\\u6307\\u5357\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://oneapi-src.github.io/oneTBB/main/tbb_userguide/title.html\",children:\"oneTBB Developer Guide\"})}),`\n`]})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(d,{...a})}):d(a)}return B(y);})();\n;return Component;"
    },
    "_id": "blog/Systems/tbb-intro.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/tbb-intro.md",
      "sourceFileName": "tbb-intro.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/tbb-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.34,
      "time": 80400,
      "words": 268
    },
    "slug": "tbb-intro",
    "path": "blog/Systems/tbb-intro",
    "toc": [
      {
        "value": "简介",
        "url": "#简介",
        "depth": 2
      },
      {
        "value": "oneTBB 的优势",
        "url": "#onetbb-的优势",
        "depth": 3
      },
      {
        "value": "并行开发中的常见问题",
        "url": "#并行开发中的常见问题",
        "depth": 3
      },
      {
        "value": "安装",
        "url": "#安装",
        "depth": 2
      },
      {
        "value": "使用示例",
        "url": "#使用示例",
        "depth": 2
      },
      {
        "value": "参考",
        "url": "#参考",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "TBB 入门教程",
      "datePublished": "2022-11-22T00:00:00.000Z",
      "dateModified": "2022-11-22T00:00:00.000Z",
      "description": "Intel oneTBB 入门：介绍 TBB 的优势、安装方法及简单的 parallel_for 使用示例。",
      "url": "https://zhangjian94cn.github.io/blog/tbb-intro"
    }
  },
  {
    "title": "TBB Sample 01",
    "date": "2022-11-29T00:00:00.000Z",
    "tags": [
      "HPC",
      "C++"
    ],
    "draft": false,
    "summary": "Count Strings",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 简介\n\nThe example counts the number of unique words in a text. [code](https://github.com/oneapi-src/oneTBB/tree/master/examples/concurrent_hash_map/count_strings)\n\n\n## 细节\n\n\n### 重载hash\n\n```cpp\nnamespace std {\n\ntemplate <typename CharT, typename Traits, typename Allocator>\nclass hash<std::basic_string<CharT, Traits, Allocator>> {\npublic:\n    std::size_t operator()(const std::basic_string<CharT, Traits, Allocator>& s) const {\n        std::size_t h = 0;\n        for (const CharT* c = s.c_str(); *c; ++c) {\n            h = h * hash_multiplier ^ char_hash(*c);\n        }\n        return h;\n    }\n\nprivate:\n    static constexpr std::size_t hash_multiplier = (std::size_t)(\n        (sizeof(std::size_t) == sizeof(unsigned)) ? 2654435769U : 11400714819323198485ULL);\n\n    std::hash<CharT> char_hash;\n}; // strunt hash<std::basic_string>\n\n} // namespace std\n```\n\n注意点：\n\n1. 计算自定义类型的hash value\n  1. `std::hash<CharT> char_hash`：其提供了`CharT`类型的hash值\n  2. `std::size_t operator()`：通过重载运算符`()`，返回自定义类型的hash value\n2. class hash的定义\n   1. `class hash<std::basic_string<...>>`：模板特化为`std::basic_string`类型\n   2. `<CharT, Traits, Allocator>`：模板类型推断\n\n\n### 定义`MyString`类，\n\n```cpp\n//! String type\ntypedef std::basic_string<char, std::char_traits<char>, oneapi::tbb::tbb_allocator<char>> MyString;\n```\n\n注意点：\n\n1. `char_traits`\n  > Traits 是一个用来携带信息的很小的对象（或结构）， 在其他对象或算法中用这一信息来确定策略或实现细节。\n\n1. `tbb_allocator`：在多线程的环境下，多个线程使用相邻内存时会产生频繁的缓存切换（csapp）,通过使用`tbb_allocator`，可以避免这一问题\n   \n### 并行Hash Map\n\n```cpp\n//! A concurrent hash table that maps strings to ints.\ntypedef oneapi::tbb::concurrent_hash_map<MyString, int> StringTable;\n\n//! Function object for counting occurrences of strings.\nstruct Tally {\n    StringTable& table;\n    Tally(StringTable& table_) : table(table_) {}\n    void operator()(const oneapi::tbb::blocked_range<MyString*> range) const {\n        for (MyString* p = range.begin(); p != range.end(); ++p) {\n            StringTable::accessor a;\n            table.insert(a, *p);\n            a->second += 1;\n        }\n    }\n};\n```\n\n注意点:\n\n1. [`concurrent_hash_map`](https://oneapi-src.github.io/oneTBB/main/tbb_userguide/concurrent_hash_map.html): 一个支持并行的hash map\n\n2. `oneapi::tbb::blocked_range<...>`: \n   1. 模板参数设置**迭代（传入数据的）类型**\n   2. `tbb::parallel_for`会调用`Tally(table)`的`operator()`，`blocked_range`作为参数传入\n      ```cpp\n      StringTable table;\n      oneapi::tbb::parallel_for( \n        oneapi::tbb::blocked_range<MyString*>(Data, Data + N, 1000), \n        Tally(table));\n      ```\n\n3. [`StringTable::accessor`](https://oneapi-src.github.io/oneTBB/main/tbb_userguide/concurrent_hash_map.html):\n\n    > An accessor represents update (write) access. As long as it points to an element, all other attempts to look up that key in the table block until the accessor is done. \n\n    `a->second += 1`代表对value加1\n\n## 结语\n\n这份代码样例展示了基于tbb的并行hash的实现，包含了tbb的一些基础用法，具有一定参考价值。\n\n\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var b=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},t=(a,n,s,o)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(o=m(n,c))||o.enumerable});return a};var y=(a,n,s)=>(s=a!=null?h(N(a)):{},t(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),_=a=>t(l({},\"__esModule\",{value:!0}),a);var r=b((x,i)=>{i.exports=_jsx_runtime});var w={};g(w,{default:()=>p,frontmatter:()=>f});var e=y(r()),f={title:\"TBB Sample 01\",date:\"2022-11-29\",tags:[\"HPC\",\"C++\"],draft:!1,summary:\"Count Strings\",authors:[\"default\"]};function d(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\u7B80\\u4ECB\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7B80\\u4ECB\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7B80\\u4ECB\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"The example counts the number of unique words in a text. \",(0,e.jsx)(n.a,{href:\"https://github.com/oneapi-src/oneTBB/tree/master/examples/concurrent_hash_map/count_strings\",children:\"code\"})]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u7EC6\\u8282\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7EC6\\u8282\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7EC6\\u8282\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u91CD\\u8F7Dhash\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u91CD\\u8F7Dhash\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u91CD\\u8F7Dhash\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"namespace\"}),\" std \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"template\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typename\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"CharT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typename\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Traits\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typename\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Allocator\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"hash\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"basic_string\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"CharT\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Traits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Allocator\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"operator\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"basic_string\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"CharT\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Traits\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Allocator\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t h \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" CharT\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" c \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"c_str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),\"c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            h \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" h \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" hash_multiplier \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"^\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"char_hash\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" h\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"constexpr\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t hash_multiplier \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"sizeof\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"size_t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"sizeof\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"unsigned\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2654435769U\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"11400714819323198485ULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"hash\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"CharT\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" char_hash\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// strunt hash<std::basic_string>\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// namespace std\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6CE8\\u610F\\u70B9\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u8BA1\\u7B97\\u81EA\\u5B9A\\u4E49\\u7C7B\\u578B\\u7684hash value\"}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"std::hash<CharT> char_hash\"}),\"\\uFF1A\\u5176\\u63D0\\u4F9B\\u4E86\",(0,e.jsx)(n.code,{children:\"CharT\"}),\"\\u7C7B\\u578B\\u7684hash\\u503C\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"std::size_t operator()\"}),\"\\uFF1A\\u901A\\u8FC7\\u91CD\\u8F7D\\u8FD0\\u7B97\\u7B26\",(0,e.jsx)(n.code,{children:\"()\"}),\"\\uFF0C\\u8FD4\\u56DE\\u81EA\\u5B9A\\u4E49\\u7C7B\\u578B\\u7684hash value\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"class hash\\u7684\\u5B9A\\u4E49\",`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"class hash<std::basic_string<...>>\"}),\"\\uFF1A\\u6A21\\u677F\\u7279\\u5316\\u4E3A\",(0,e.jsx)(n.code,{children:\"std::basic_string\"}),\"\\u7C7B\\u578B\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"<CharT, Traits, Allocator>\"}),\"\\uFF1A\\u6A21\\u677F\\u7C7B\\u578B\\u63A8\\u65AD\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5B9A\\u4E49mystring\\u7C7B\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5B9A\\u4E49mystring\\u7C7B\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5B9A\\u4E49\",(0,e.jsx)(n.code,{children:\"MyString\"}),\"\\u7C7B\\uFF0C\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"//! String type\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typedef\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"basic_string\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"char\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" std\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"char_traits\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"char\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb_allocator\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"char\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">>\"}),\" MyString\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6CE8\\u610F\\u70B9\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.code,{children:\"char_traits\"})}),`\n`]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"Traits \\u662F\\u4E00\\u4E2A\\u7528\\u6765\\u643A\\u5E26\\u4FE1\\u606F\\u7684\\u5F88\\u5C0F\\u7684\\u5BF9\\u8C61\\uFF08\\u6216\\u7ED3\\u6784\\uFF09\\uFF0C \\u5728\\u5176\\u4ED6\\u5BF9\\u8C61\\u6216\\u7B97\\u6CD5\\u4E2D\\u7528\\u8FD9\\u4E00\\u4FE1\\u606F\\u6765\\u786E\\u5B9A\\u7B56\\u7565\\u6216\\u5B9E\\u73B0\\u7EC6\\u8282\\u3002\"}),`\n`]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"tbb_allocator\"}),\"\\uFF1A\\u5728\\u591A\\u7EBF\\u7A0B\\u7684\\u73AF\\u5883\\u4E0B\\uFF0C\\u591A\\u4E2A\\u7EBF\\u7A0B\\u4F7F\\u7528\\u76F8\\u90BB\\u5185\\u5B58\\u65F6\\u4F1A\\u4EA7\\u751F\\u9891\\u7E41\\u7684\\u7F13\\u5B58\\u5207\\u6362\\uFF08csapp\\uFF09,\\u901A\\u8FC7\\u4F7F\\u7528\",(0,e.jsx)(n.code,{children:\"tbb_allocator\"}),\"\\uFF0C\\u53EF\\u4EE5\\u907F\\u514D\\u8FD9\\u4E00\\u95EE\\u9898\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\u5E76\\u884Chash-map\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u5E76\\u884Chash-map\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u5E76\\u884CHash Map\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"//! A concurrent hash table that maps strings to ints.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typedef\"}),\" oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"concurrent_hash_map\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"MyString\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"int\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" StringTable\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"//! Function object for counting occurrences of strings.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"struct\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Tally\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    StringTable\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Tally\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"StringTable\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"&\"}),\" table_\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"table\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"table_\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"operator\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"blocked_range\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"MyString\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" range\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"MyString\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" p \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" range\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"begin\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" p \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" range\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"end\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),\"p\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            StringTable\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"accessor a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"insert\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\"p\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            a\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"->\"}),\"second \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6CE8\\u610F\\u70B9:\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://oneapi-src.github.io/oneTBB/main/tbb_userguide/concurrent_hash_map.html\",children:(0,e.jsx)(n.code,{children:\"concurrent_hash_map\"})}),\": \\u4E00\\u4E2A\\u652F\\u6301\\u5E76\\u884C\\u7684hash map\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"oneapi::tbb::blocked_range<...>\"}),\":\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"\\u6A21\\u677F\\u53C2\\u6570\\u8BBE\\u7F6E\",(0,e.jsx)(n.strong,{children:\"\\u8FED\\u4EE3\\uFF08\\u4F20\\u5165\\u6570\\u636E\\u7684\\uFF09\\u7C7B\\u578B\"})]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"tbb::parallel_for\"}),\"\\u4F1A\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"Tally(table)\"}),\"\\u7684\",(0,e.jsx)(n.code,{children:\"operator()\"}),\"\\uFF0C\",(0,e.jsx)(n.code,{children:\"blocked_range\"}),\"\\u4F5C\\u4E3A\\u53C2\\u6570\\u4F20\\u5165\",`\n`,(0,e.jsx)(n.pre,{className:\"language-cpp\",children:(0,e.jsxs)(n.code,{className:\"language-cpp code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"StringTable table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"parallel_for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),` \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  oneapi\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),\"tbb\",(0,e.jsx)(n.span,{className:\"token double-colon punctuation\",children:\"::\"}),(0,e.jsxs)(n.span,{className:\"token generic-function\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"blocked_range\"}),(0,e.jsxs)(n.span,{className:\"token generic class-name\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"MyString\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"})]})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"Data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" Data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" N\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` \n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"Tally\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"table\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://oneapi-src.github.io/oneTBB/main/tbb_userguide/concurrent_hash_map.html\",children:(0,e.jsx)(n.code,{children:\"StringTable::accessor\"})}),\":\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"An accessor represents update (write) access. As long as it points to an element, all other attempts to look up that key in the table block until the accessor is done.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"a->second += 1\"}),\"\\u4EE3\\u8868\\u5BF9value\\u52A01\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\u7ED3\\u8BED\",className:\"content-header\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BED\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BED\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4EFD\\u4EE3\\u7801\\u6837\\u4F8B\\u5C55\\u793A\\u4E86\\u57FA\\u4E8Etbb\\u7684\\u5E76\\u884Chash\\u7684\\u5B9E\\u73B0\\uFF0C\\u5305\\u542B\\u4E86tbb\\u7684\\u4E00\\u4E9B\\u57FA\\u7840\\u7528\\u6CD5\\uFF0C\\u5177\\u6709\\u4E00\\u5B9A\\u53C2\\u8003\\u4EF7\\u503C\\u3002\"})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(d,{...a})}):d(a)}return _(w);})();\n;return Component;"
    },
    "_id": "blog/Systems/tbb-sample-count-string.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/tbb-sample-count-string.md",
      "sourceFileName": "tbb-sample-count-string.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/tbb-sample-count-string"
    },
    "type": "Blog",
    "readingTime": {
      "text": "3 min read",
      "minutes": 2.41,
      "time": 144600,
      "words": 482
    },
    "slug": "tbb-sample-count-string",
    "path": "blog/Systems/tbb-sample-count-string",
    "toc": [
      {
        "value": "简介",
        "url": "#简介",
        "depth": 2
      },
      {
        "value": "细节",
        "url": "#细节",
        "depth": 2
      },
      {
        "value": "重载hash",
        "url": "#重载hash",
        "depth": 3
      },
      {
        "value": "定义MyString类，",
        "url": "#定义mystring类",
        "depth": 3
      },
      {
        "value": "并行Hash Map",
        "url": "#并行hash-map",
        "depth": 3
      },
      {
        "value": "结语",
        "url": "#结语",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "TBB Sample 01",
      "datePublished": "2022-11-29T00:00:00.000Z",
      "dateModified": "2022-11-29T00:00:00.000Z",
      "description": "Count Strings",
      "url": "https://zhangjian94cn.github.io/blog/tbb-sample-count-string"
    }
  },
  {
    "title": "Vtune Usage",
    "date": "2022-11-21T00:00:00.000Z",
    "tags": [
      "Intel",
      "HPC"
    ],
    "draft": false,
    "summary": "Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instruct",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n## 前言\n\n最近在研究vtune，试着用其进行代码性能的分析，主要看了snapshot和hotspot两个analysis type。\n\nvtune的安装可以使用官方的docker，或者[自己安装oneAPI](https://www.intel.com/content/www/us/en/develop/documentation/installation-guide-for-intel-oneapi-toolkits-linux/top.html)。我使用的是[apt install](https://www.intel.com/content/www/us/en/develop/documentation/installation-guide-for-intel-oneapi-toolkits-linux/top/installation/install-using-package-managers/apt.html)，脚本如下。\n\n\n```bash\napt-get install -y --no-install-recommends curl ca-certificates gpg-agent software-properties-common\n\n# download the key to system keyring\nwget -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB | gpg --dearmor | tee /usr/share/keyrings/oneapi-archive-keyring.gpg > /dev/null\n\n# add signed entry to apt sources and configure the APT client to use Intel repository:\necho \"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\" | tee /etc/apt/sources.list.d/oneAPI.list\n\n# install base kit and hpc kit\napt update && apt install intel-basekit intel-hpckit -y\n\n# source vtune env\necho \"source /opt/intel/oneapi/vtune/latest/vtune-vars.sh\" >> ~/.bashrc\n```\n\n## 用法\n\n因为代码运行往往在远程服务器上，一般来说是没有GUI的，因此我们采取的方式是在远端我们使用CLI进行分析，将分析结果在本地机器上可视化。\n\n命令可以用`vtune -h`查看：\n\n```bash\n#  1) Start with a performance snapshot. Get a quick overview of potential performance issues. Identify next steps for a deeper analysis:\nvtune -collect performance-snapshot a.out\n \n#  2) Run a hotspots collection (in user-mode sampling) on the specified target:\nvtune -collect hotspots a.out\n```\n\n### Performance Snapshot\n\n\nIPC：代表了CPU每个时钟周期完成（retired）的指令数目。现代处理器的指令运行都是流水线（pipeline）的形式，每个（汇编）指令可分为取指、译码、执行等多条指令（uOPs），通过并行这些指令可以实现大于1的IPC。\n\n> Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instructions per cycle, suggesting a theoretical best IPC of 4. But various effects (long-latency memory, floating-point, or SIMD operations; non-retired instructions due to branch mispredictions; instruction starvation in the front-end) tend to pull the observed IPC down. A IPC > 1 is typical for instruction bound code, while a IPC < 1 may show up for a stall cycle bound application, also likely memory bound. IPC is an excellent metric for judging an overall potential for application performance tuning.\n\nRetiring：在CPU的指令控制单元（Instruction Control Unit）中，retirement unit记录正在进行的处理。一旦一条指令的操作完成了，而且所有引起这条指令的分支点也都被确认为预测正确，那么这条指令就可以retired了。Retiring的值越高，说明指令的利用率越高。\n\n> Retiring metric represents a Pipeline Slots fraction utilized by useful work, meaning the issued uOps that eventually get retired. Ideally, all Pipeline Slots would be attributed to the Retiring category. Retiring of 100% would indicate the maximum possible number of uOps retired per cycle has been achieved. Maximizing Retiring typically increases the Instruction-Per-Cycle metric. Note that a high Retiring value does not necessary mean no more room for performance improvement. For example, Microcode assists are categorized under Retiring. They hurt performance and can often be avoided.\n\nVectorization：代表向量化指令的占比（vaddps, ...）。\n\n> This metric represents the percentage of packed (vectorized) floating point operations. 0% means that the code is fully scalar. The metric does not take into account the actual vector length that was used by the code for vector instructions. So if the code is fully vectorized and uses a legacy instruction set that loaded only half a vector length, the Vectorization metric shows 100%.\n\n\n### Hotspot\n\n通过hotspot可以让我们从多个角度去分析程序不同位置的时间消耗，包括：\n\n1. top down\n2. caller\n3. bottom up\n4. flame graph\n5. ...\n\n通过点击相应的函数你可以直接看到对应的代码行的占用时间，以及对应的汇编代码（如下图）\n\n![](/img/20221121215137.png)  \n\n\n有时候，你会发现你所需要分析的代码仅仅只是庞大代码中的一小部分，这时候该怎么办？[Instrumentation and Tracing Technology API](https://www.intel.com/content/www/us/en/develop/documentation/gpa-user-guide/top/instrumentation-and-tracing-technology-apis.html)提供了相应的解决方案。\n\n\n## 结论\n\n通过vtune我们可以很清晰的了解到每个函数，特定行的时间占比，通过top down的Performance Snapshote，可以帮助我们从较高维度理解程序性能，为之后的优化指明方向。\n\n\n## 参考\n\n[CPU Metrics Reference](https://www.intel.com/content/www/us/en/develop/documentation/vtune-help/top/reference/cpu-metrics-reference.html#cpu-metrics-reference_PIPELINE-SLOTS)\n",
      "code": "var Component=(()=>{var p=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var N=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),k=(a,e)=>{for(var t in e)i(a,t,{get:e[t],enumerable:!0})},r=(a,e,t,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of u(e))!f.call(a,s)&&s!==t&&i(a,s,{get:()=>e[s],enumerable:!(c=m(e,s))||c.enumerable});return a};var y=(a,e,t)=>(t=a!=null?p(g(a)):{},r(e||!a||!a.__esModule?i(t,\"default\",{value:a,enumerable:!0}):t,a)),b=a=>r(i({},\"__esModule\",{value:!0}),a);var l=N((P,o)=>{o.exports=_jsx_runtime});var w={};k(w,{default:()=>h,frontmatter:()=>v});var n=y(l()),v={title:\"Vtune Usage\",date:\"2022-11-21\",tags:[\"Intel\",\"HPC\"],draft:!1,summary:\"Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instruct\",authors:[\"default\"]};function d(a){let e={a:\"a\",blockquote:\"blockquote\",code:\"code\",h2:\"h2\",h3:\"h3\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"\\u524D\\u8A00\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u524D\\u8A00\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u524D\\u8A00\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6700\\u8FD1\\u5728\\u7814\\u7A76vtune\\uFF0C\\u8BD5\\u7740\\u7528\\u5176\\u8FDB\\u884C\\u4EE3\\u7801\\u6027\\u80FD\\u7684\\u5206\\u6790\\uFF0C\\u4E3B\\u8981\\u770B\\u4E86snapshot\\u548Chotspot\\u4E24\\u4E2Aanalysis type\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"vtune\\u7684\\u5B89\\u88C5\\u53EF\\u4EE5\\u4F7F\\u7528\\u5B98\\u65B9\\u7684docker\\uFF0C\\u6216\\u8005\",(0,n.jsx)(e.a,{href:\"https://www.intel.com/content/www/us/en/develop/documentation/installation-guide-for-intel-oneapi-toolkits-linux/top.html\",children:\"\\u81EA\\u5DF1\\u5B89\\u88C5oneAPI\"}),\"\\u3002\\u6211\\u4F7F\\u7528\\u7684\\u662F\",(0,n.jsx)(e.a,{href:\"https://www.intel.com/content/www/us/en/develop/documentation/installation-guide-for-intel-oneapi-toolkits-linux/top/installation/install-using-package-managers/apt.html\",children:\"apt install\"}),\"\\uFF0C\\u811A\\u672C\\u5982\\u4E0B\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt-get\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),\" --no-install-recommends \",(0,n.jsx)(e.span,{className:\"token function\",children:\"curl\"}),` ca-certificates gpg-agent software-properties-common\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# download the key to system keyring\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"wget\"}),\" -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" gpg \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"--dearmor\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),\" /usr/share/keyrings/oneapi-archive-keyring.gpg \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),` /dev/null\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# add signed entry to apt sources and configure the APT client to use Intel repository:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"tee\"}),` /etc/apt/sources.list.d/oneAPI.list\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# install base kit and hpc kit\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" update \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"apt\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),\" intel-basekit intel-hpckit \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-y\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# source vtune env\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token builtin class-name\",children:\"echo\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"source /opt/intel/oneapi/vtune/latest/vtune-vars.sh\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>\"}),` ~/.bashrc\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7528\\u6CD5\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7528\\u6CD5\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7528\\u6CD5\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u56E0\\u4E3A\\u4EE3\\u7801\\u8FD0\\u884C\\u5F80\\u5F80\\u5728\\u8FDC\\u7A0B\\u670D\\u52A1\\u5668\\u4E0A\\uFF0C\\u4E00\\u822C\\u6765\\u8BF4\\u662F\\u6CA1\\u6709GUI\\u7684\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u91C7\\u53D6\\u7684\\u65B9\\u5F0F\\u662F\\u5728\\u8FDC\\u7AEF\\u6211\\u4EEC\\u4F7F\\u7528CLI\\u8FDB\\u884C\\u5206\\u6790\\uFF0C\\u5C06\\u5206\\u6790\\u7ED3\\u679C\\u5728\\u672C\\u5730\\u673A\\u5668\\u4E0A\\u53EF\\u89C6\\u5316\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u547D\\u4EE4\\u53EF\\u4EE5\\u7528\",(0,n.jsx)(e.code,{children:\"vtune -h\"}),\"\\u67E5\\u770B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#  1) Start with a performance snapshot. Get a quick overview of potential performance issues. Identify next steps for a deeper analysis:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"vtune \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-collect\"}),` performance-snapshot a.out\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:` \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#  2) Run a hotspots collection (in user-mode sampling) on the specified target:\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"vtune \",(0,n.jsx)(e.span,{className:\"token parameter variable\",children:\"-collect\"}),` hotspots a.out\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"performance-snapshot\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#performance-snapshot\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Performance Snapshot\"]}),`\n`,(0,n.jsx)(e.p,{children:\"IPC\\uFF1A\\u4EE3\\u8868\\u4E86CPU\\u6BCF\\u4E2A\\u65F6\\u949F\\u5468\\u671F\\u5B8C\\u6210\\uFF08retired\\uFF09\\u7684\\u6307\\u4EE4\\u6570\\u76EE\\u3002\\u73B0\\u4EE3\\u5904\\u7406\\u5668\\u7684\\u6307\\u4EE4\\u8FD0\\u884C\\u90FD\\u662F\\u6D41\\u6C34\\u7EBF\\uFF08pipeline\\uFF09\\u7684\\u5F62\\u5F0F\\uFF0C\\u6BCF\\u4E2A\\uFF08\\u6C47\\u7F16\\uFF09\\u6307\\u4EE4\\u53EF\\u5206\\u4E3A\\u53D6\\u6307\\u3001\\u8BD1\\u7801\\u3001\\u6267\\u884C\\u7B49\\u591A\\u6761\\u6307\\u4EE4\\uFF08uOPs\\uFF09\\uFF0C\\u901A\\u8FC7\\u5E76\\u884C\\u8FD9\\u4E9B\\u6307\\u4EE4\\u53EF\\u4EE5\\u5B9E\\u73B0\\u5927\\u4E8E1\\u7684IPC\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instructions per cycle, suggesting a theoretical best IPC of 4. But various effects (long-latency memory, floating-point, or SIMD operations; non-retired instructions due to branch mispredictions; instruction starvation in the front-end) tend to pull the observed IPC down. A IPC > 1 is typical for instruction bound code, while a IPC < 1 may show up for a stall cycle bound application, also likely memory bound. IPC is an excellent metric for judging an overall potential for application performance tuning.\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Retiring\\uFF1A\\u5728CPU\\u7684\\u6307\\u4EE4\\u63A7\\u5236\\u5355\\u5143\\uFF08Instruction Control Unit\\uFF09\\u4E2D\\uFF0Cretirement unit\\u8BB0\\u5F55\\u6B63\\u5728\\u8FDB\\u884C\\u7684\\u5904\\u7406\\u3002\\u4E00\\u65E6\\u4E00\\u6761\\u6307\\u4EE4\\u7684\\u64CD\\u4F5C\\u5B8C\\u6210\\u4E86\\uFF0C\\u800C\\u4E14\\u6240\\u6709\\u5F15\\u8D77\\u8FD9\\u6761\\u6307\\u4EE4\\u7684\\u5206\\u652F\\u70B9\\u4E5F\\u90FD\\u88AB\\u786E\\u8BA4\\u4E3A\\u9884\\u6D4B\\u6B63\\u786E\\uFF0C\\u90A3\\u4E48\\u8FD9\\u6761\\u6307\\u4EE4\\u5C31\\u53EF\\u4EE5retired\\u4E86\\u3002Retiring\\u7684\\u503C\\u8D8A\\u9AD8\\uFF0C\\u8BF4\\u660E\\u6307\\u4EE4\\u7684\\u5229\\u7528\\u7387\\u8D8A\\u9AD8\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"Retiring metric represents a Pipeline Slots fraction utilized by useful work, meaning the issued uOps that eventually get retired. Ideally, all Pipeline Slots would be attributed to the Retiring category. Retiring of 100% would indicate the maximum possible number of uOps retired per cycle has been achieved. Maximizing Retiring typically increases the Instruction-Per-Cycle metric. Note that a high Retiring value does not necessary mean no more room for performance improvement. For example, Microcode assists are categorized under Retiring. They hurt performance and can often be avoided.\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Vectorization\\uFF1A\\u4EE3\\u8868\\u5411\\u91CF\\u5316\\u6307\\u4EE4\\u7684\\u5360\\u6BD4\\uFF08vaddps, ...\\uFF09\\u3002\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"This metric represents the percentage of packed (vectorized) floating point operations. 0% means that the code is fully scalar. The metric does not take into account the actual vector length that was used by the code for vector instructions. So if the code is fully vectorized and uses a legacy instruction set that loaded only half a vector length, the Vectorization metric shows 100%.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"hotspot\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#hotspot\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Hotspot\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7hotspot\\u53EF\\u4EE5\\u8BA9\\u6211\\u4EEC\\u4ECE\\u591A\\u4E2A\\u89D2\\u5EA6\\u53BB\\u5206\\u6790\\u7A0B\\u5E8F\\u4E0D\\u540C\\u4F4D\\u7F6E\\u7684\\u65F6\\u95F4\\u6D88\\u8017\\uFF0C\\u5305\\u62EC\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"top down\"}),`\n`,(0,n.jsx)(e.li,{children:\"caller\"}),`\n`,(0,n.jsx)(e.li,{children:\"bottom up\"}),`\n`,(0,n.jsx)(e.li,{children:\"flame graph\"}),`\n`,(0,n.jsx)(e.li,{children:\"...\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7\\u70B9\\u51FB\\u76F8\\u5E94\\u7684\\u51FD\\u6570\\u4F60\\u53EF\\u4EE5\\u76F4\\u63A5\\u770B\\u5230\\u5BF9\\u5E94\\u7684\\u4EE3\\u7801\\u884C\\u7684\\u5360\\u7528\\u65F6\\u95F4\\uFF0C\\u4EE5\\u53CA\\u5BF9\\u5E94\\u7684\\u6C47\\u7F16\\u4EE3\\u7801\\uFF08\\u5982\\u4E0B\\u56FE\\uFF09\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/img/20221121215137.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6709\\u65F6\\u5019\\uFF0C\\u4F60\\u4F1A\\u53D1\\u73B0\\u4F60\\u6240\\u9700\\u8981\\u5206\\u6790\\u7684\\u4EE3\\u7801\\u4EC5\\u4EC5\\u53EA\\u662F\\u5E9E\\u5927\\u4EE3\\u7801\\u4E2D\\u7684\\u4E00\\u5C0F\\u90E8\\u5206\\uFF0C\\u8FD9\\u65F6\\u5019\\u8BE5\\u600E\\u4E48\\u529E\\uFF1F\",(0,n.jsx)(e.a,{href:\"https://www.intel.com/content/www/us/en/develop/documentation/gpa-user-guide/top/instrumentation-and-tracing-technology-apis.html\",children:\"Instrumentation and Tracing Technology API\"}),\"\\u63D0\\u4F9B\\u4E86\\u76F8\\u5E94\\u7684\\u89E3\\u51B3\\u65B9\\u6848\\u3002\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u7ED3\\u8BBA\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u7ED3\\u8BBA\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BBA\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u901A\\u8FC7vtune\\u6211\\u4EEC\\u53EF\\u4EE5\\u5F88\\u6E05\\u6670\\u7684\\u4E86\\u89E3\\u5230\\u6BCF\\u4E2A\\u51FD\\u6570\\uFF0C\\u7279\\u5B9A\\u884C\\u7684\\u65F6\\u95F4\\u5360\\u6BD4\\uFF0C\\u901A\\u8FC7top down\\u7684Performance Snapshote\\uFF0C\\u53EF\\u4EE5\\u5E2E\\u52A9\\u6211\\u4EEC\\u4ECE\\u8F83\\u9AD8\\u7EF4\\u5EA6\\u7406\\u89E3\\u7A0B\\u5E8F\\u6027\\u80FD\\uFF0C\\u4E3A\\u4E4B\\u540E\\u7684\\u4F18\\u5316\\u6307\\u660E\\u65B9\\u5411\\u3002\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\u53C2\\u8003\",className:\"content-header\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u53C2\\u8003\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://www.intel.com/content/www/us/en/develop/documentation/vtune-help/top/reference/cpu-metrics-reference.html#cpu-metrics-reference_PIPELINE-SLOTS\",children:\"CPU Metrics Reference\"})})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return b(w);})();\n;return Component;"
    },
    "_id": "blog/Systems/vtune-intro.md",
    "_raw": {
      "sourceFilePath": "blog/Systems/vtune-intro.md",
      "sourceFileName": "vtune-intro.md",
      "sourceFileDir": "blog/Systems",
      "contentType": "markdown",
      "flattenedPath": "blog/Systems/vtune-intro"
    },
    "type": "Blog",
    "readingTime": {
      "text": "5 min read",
      "minutes": 4.455,
      "time": 267300,
      "words": 891
    },
    "slug": "vtune-intro",
    "path": "blog/Systems/vtune-intro",
    "toc": [
      {
        "value": "前言",
        "url": "#前言",
        "depth": 2
      },
      {
        "value": "用法",
        "url": "#用法",
        "depth": 2
      },
      {
        "value": "Performance Snapshot",
        "url": "#performance-snapshot",
        "depth": 3
      },
      {
        "value": "Hotspot",
        "url": "#hotspot",
        "depth": 3
      },
      {
        "value": "结论",
        "url": "#结论",
        "depth": 2
      },
      {
        "value": "参考",
        "url": "#参考",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Vtune Usage",
      "datePublished": "2022-11-21T00:00:00.000Z",
      "dateModified": "2022-11-21T00:00:00.000Z",
      "description": "Instructions Retired per Cycle, or IPC shows average number of retired instructions per cycle. Modern superscalar processors issue up to four instruct",
      "url": "https://zhangjian94cn.github.io/blog/vtune-intro"
    }
  },
  {
    "title": "How to Encrypt Your Website (private)",
    "date": "2022-12-19T00:00:00.000Z",
    "tags": [],
    "draft": false,
    "summary": "How to Encrypt Your Website (private)",
    "authors": [
      "default"
    ],
    "body": {
      "raw": "\n简要介绍对静态网站独立网页加密的方法\n",
      "code": "var Component=(()=>{var f=Object.create;var r=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var l=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),h=(t,e)=>{for(var n in e)r(t,n,{get:e[n],enumerable:!0})},c=(t,e,n,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of x(e))!_.call(t,o)&&o!==n&&r(t,o,{get:()=>e[o],enumerable:!(s=d(e,o))||s.enumerable});return t};var j=(t,e,n)=>(n=t!=null?f(l(t)):{},c(e||!t||!t.__esModule?r(n,\"default\",{value:t,enumerable:!0}):n,t)),w=t=>c(r({},\"__esModule\",{value:!0}),t);var i=y((C,u)=>{u.exports=_jsx_runtime});var b={};h(b,{default:()=>m,frontmatter:()=>M});var a=j(i()),M={title:\"How to Encrypt Your Website (private)\",date:\"2022-12-19\",tags:[],draft:!1,summary:\"How to Encrypt Your Website (private)\",authors:[\"default\"]};function p(t){let e={p:\"p\",...t.components};return(0,a.jsx)(e.p,{children:\"\\u7B80\\u8981\\u4ECB\\u7ECD\\u5BF9\\u9759\\u6001\\u7F51\\u7AD9\\u72EC\\u7ACB\\u7F51\\u9875\\u52A0\\u5BC6\\u7684\\u65B9\\u6CD5\"})}function m(t={}){let{wrapper:e}=t.components||{};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(p,{...t})}):p(t)}return w(b);})();\n;return Component;"
    },
    "_id": "blog/Web/jekyll-staticrypt-protected-post.md",
    "_raw": {
      "sourceFilePath": "blog/Web/jekyll-staticrypt-protected-post.md",
      "sourceFileName": "jekyll-staticrypt-protected-post.md",
      "sourceFileDir": "blog/Web",
      "contentType": "markdown",
      "flattenedPath": "blog/Web/jekyll-staticrypt-protected-post"
    },
    "type": "Blog",
    "readingTime": {
      "text": "1 min read",
      "minutes": 0.09,
      "time": 5400,
      "words": 18
    },
    "slug": "jekyll-staticrypt-protected-post",
    "path": "blog/Web/jekyll-staticrypt-protected-post",
    "toc": [],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "How to Encrypt Your Website (private)",
      "datePublished": "2022-12-19T00:00:00.000Z",
      "dateModified": "2022-12-19T00:00:00.000Z",
      "description": "How to Encrypt Your Website (private)",
      "url": "https://zhangjian94cn.github.io/blog/jekyll-staticrypt-protected-post"
    }
  }
]